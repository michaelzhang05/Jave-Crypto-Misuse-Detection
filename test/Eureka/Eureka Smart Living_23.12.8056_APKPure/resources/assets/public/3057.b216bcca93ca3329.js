"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3057,9764],{83057:(L,E,u)=>{u.r(E),u.d(E,{DevicesManagementPageModule:()=>kt});var P=u(96814),T=u(56223),p=u(73582),I=u(70160),h=u(15861),v=u(19462),x=u(8873),M=u(32206),C=u(9952),m=u(51506);class N{getDeviceSavingEntity(c){let n={Id:c.Id,Name:c.Name,RoomId:c.RoomId,ImageId:c.ImageId,Type:c.Type,SortOrder:c.SortOrder,Visible:c.Visible,Enabled:c.Enabled,Silent:c.Silent,Capabilities:c.Capabilities,Category:c.Category,MeteringEnabled:c.MeteringEnabled,MeteringProperties:c.MeteringProperties,MeteringAccountId:c.MeteringAccountId,MeteringReferenceId:c.MeteringReferenceId,MeteringExternalId:c.MeteringExternalId,MeteringRemarks:c.MeteringRemarks,PollingInterval:c.PollingInterval,ConsumptionRate:c.AverageConsumptionRate,CostRate:c.ConsumptionCostRate},i={};return i.deviceActionEntities=c.deviceActionEntities,i.deviceEntity=n,i.devicePropertyEntities=c.devicePropertyEntities,i.interfaceMapEntity=c.interfaceMapEntity,i.interfaceMapPropertyEntities=c.interfaceMapPropertyEntities,i.deviceUiEntity=c.deviceUiEntity,i.deviceUiControlEntityDTOs=c.deviceUiControlEntityDTOs,i.uiDataTranslationEntities=c.uiDataTranslationEntities,i.voiceCommandThingEntities=c.voiceCommandThingEntities,i.thingVoiceAssistantNameEntity=c.thingVoiceAssistantNameEntity,i.thresholdEntities=c.thresholds,console.log(i),i}}var f=u(77144),q=u(44945),Z=function(a){return a[a.LastChanged=0]="LastChanged",a[a.LastUpdated=1]="LastUpdated",a[a.OfflineReason=2]="OfflineReason",a[a.Online=3]="Online",a}(Z||{});const k={[Z.LastChanged]:"Last Changed",[Z.LastUpdated]:"Last Updated",[Z.OfflineReason]:"Offline Reason",[Z.Online]:"Online"};var O=u(56544),Q=u(65619),H=u(99080),F=u(37398),Y=u(99397),G=u(79360),K=u(8251),e=u(65879),D=u(34414),B=u(46729),W=u(6593),J=u(63999),$=u(77935),z=u(59764),j=u(69705),X=u(48753);const ee=["slides"];function te(a,c){if(1&a&&(e.TgZ(0,"p",5),e._uU(1),e.qZA()),2&a){const n=e.oxw();e.xp6(1),e.hij(" ",n.CurrentSlideName," ")}}function ne(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.disableEditing())}),e._UZ(1,"ion-icon",11),e.qZA()}}function ie(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.CreateNewDevice())}),e._UZ(1,"ion-icon",12),e.qZA()}}function oe(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.NewCreateNewDevice())}),e._UZ(1,"ion-icon",13),e.qZA()}}function ae(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-searchbar",16),e.NdJ("ionInput",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.search(t))}),e.ALo(4,"translate"),e.qZA()()()()}2&a&&(e.xp6(3),e.s9C("placeholder",e.lcZ(4,1,"search")))}function re(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-item-sliding",18)(1,"ion-item",19)(2,"ion-avatar",20),e._UZ(3,"img",21),e.qZA(),e.TgZ(4,"ion-grid")(5,"ion-row")(6,"ion-col")(7,"h2",22),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-row")(10,"ion-col")(11,"h4",22),e._uU(12),e.qZA()()()(),e._UZ(13,"ion-icon",23),e.qZA(),e.TgZ(14,"ion-item-options",24)(15,"ion-button",25),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.EditDevice(o))}),e._UZ(16,"ion-icon",26),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"ion-button",27),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.DuplicateDevice(o))}),e._UZ(20,"ion-icon",28),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"ion-button",29),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.DeleteDevice(o))}),e._UZ(24,"ion-icon",30),e._uU(25),e.ALo(26,"translate"),e.qZA()()()}if(2&a){const n=c.$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("src",n.imageId?i.getImageUrlById(n.imageId):i.GetImageAsDeviceType(n.type),e.LSH),e.xp6(4),e.Udp("text-decoration",0==n.visible?"line-through":"none")("opacity",0==n.enabled?"0.5":"1"),e.xp6(1),e.hij(" ",n.name,""),e.xp6(4),e.Oqu(i.getRoomName(null==n?null:n.roomId)),e.xp6(5),e.hij(" ",e.lcZ(18,10,"edit")," "),e.xp6(4),e.hij(" ",e.lcZ(22,12,"duplicate")," "),e.xp6(4),e.hij(" ",e.lcZ(26,14,"delete")," ")}}function ce(a,c){if(1&a&&(e.TgZ(0,"ion-list"),e.YNc(1,re,27,16,"ion-item-sliding",17),e.qZA()),2&a){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.filtered_list_of_device)}}function se(a,c){1&a&&(e.TgZ(0,"label",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function le(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.Q6J("value",n.Id),e.xp6(1),e.Oqu(n.Name)}}function _e(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(3);e.Q6J("value",n),e.xp6(1),e.hij("",i.DeviceTypeMapping[n]," ")}}function de(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(3);e.Q6J("value",n),e.xp6(1),e.hij("",i.DeviceCategoryMapping[n]," ")}}function ge(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(3);e.Q6J("value",n),e.xp6(1),e.hij("",i.DeviceCapabilityMapping[n]," ")}}function pe(a,c){1&a&&e._UZ(0,"ion-icon",56)}function ue(a,c){1&a&&e._UZ(0,"ion-icon",57)}function me(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e._UZ(5,"ion-input",59),e.qZA()()),2&a){const n=c.$implicit;e.xp6(3),e.Oqu(n.name),e.xp6(2),e.uIk("data-langId",n.id)("data-langName",n.name)}}function ve(a,c){if(1&a&&(e.ynx(0),e.YNc(1,me,6,3,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.uiLanguages)}}function fe(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw().index,r=e.oxw(4);return e.KtG(r.device.uiDataTranslationEntities[o].Translation=t)}),e.qZA()}if(2&a){const n=e.oxw().index,i=e.oxw(4);e.Q6J("ngModel",i.device.uiDataTranslationEntities[n].Translation)}}function he(a,c){if(1&a&&e._UZ(0,"ion-input",59),2&a){const n=e.oxw().$implicit;e.uIk("data-langId",n.id)("data-langName",n.name)}}function xe(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e.YNc(5,fe,1,1,"ion-input",60),e.YNc(6,he,1,2,"ion-input",61),e.qZA()()),2&a){const n=c.$implicit,i=c.index,t=e.oxw(4);e.xp6(3),e.Oqu(n.name),e.xp6(2),e.Q6J("ngIf",t.device.uiDataTranslationEntities[i]&&t.device.uiDataTranslationEntities[i].UiLanguageId==n.id),e.xp6(1),e.Q6J("ngIf",!t.device.uiDataTranslationEntities[i])}}function we(a,c){if(1&a&&(e.ynx(0),e.YNc(1,xe,7,3,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.uiLanguages)}}function Me(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw().index,r=e.oxw(4);return e.KtG(r.device.uiDataTranslationEntities[o].Translation=t)}),e.qZA()}if(2&a){const n=e.oxw().index,i=e.oxw(4);e.Q6J("ngModel",i.device.uiDataTranslationEntities[n].Translation)}}function Ce(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e.YNc(5,Me,1,1,"ion-input",60),e.qZA()()),2&a){const n=c.$implicit,i=c.index,t=e.oxw(4);e.xp6(3),e.Oqu(n.name),e.xp6(2),e.Q6J("ngIf",t.device.uiDataTranslationEntities[i])}}function Te(a,c){if(1&a&&(e.ynx(0),e.YNc(1,Ce,6,2,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.uiLanguages)}}function be(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e._UZ(5,"ion-input",59),e.qZA()()),2&a){const n=c.$implicit;e.xp6(3),e.Oqu(n.name),e.xp6(2),e.uIk("data-langId",n.id)("data-langName",n.name)}}function ye(a,c){if(1&a&&(e.ynx(0),e.YNc(1,be,6,3,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.uiLanguages)}}function Pe(a,c){1&a&&e._UZ(0,"ion-icon",56)}function De(a,c){1&a&&e._UZ(0,"ion-icon",57)}function Ne(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e._UZ(5,"ion-textarea",62),e.qZA()()),2&a){const n=c.$implicit;e.xp6(3),e.Oqu(n.displayName),e.xp6(2),e.uIk("data-voiceCommandLangId",n.id)}}function Ze(a,c){if(1&a&&(e.ynx(0),e.YNc(1,Ne,6,2,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.voiceNames)}}function Ie(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-textarea",65),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw().index,r=e.oxw(4);return e.KtG(r.device.voiceCommandThingEntities[o].Command=t)}),e.qZA()}if(2&a){const n=e.oxw().index,i=e.oxw(4);e.Q6J("ngModel",i.device.voiceCommandThingEntities[n].Command)}}function Ae(a,c){if(1&a&&e._UZ(0,"ion-textarea",62),2&a){const n=e.oxw().$implicit;e.uIk("data-voiceCommandLangId",n.id)}}function Ee(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e.YNc(5,Ie,1,1,"ion-textarea",63),e.YNc(6,Ae,1,1,"ion-textarea",64),e.qZA()()),2&a){const n=c.$implicit,i=c.index,t=e.oxw(4);e.xp6(3),e.Oqu(n.displayName),e.xp6(2),e.Q6J("ngIf",t.device.voiceCommandThingEntities[i]),e.xp6(1),e.Q6J("ngIf",!t.device.voiceCommandThingEntities[i])}}function Oe(a,c){if(1&a&&(e.ynx(0),e.YNc(1,Ee,7,3,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.voiceNames)}}function ke(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e._UZ(5,"ion-textarea",62),e.qZA()()),2&a){const n=c.$implicit;e.xp6(3),e.Oqu(n.displayName),e.xp6(2),e.uIk("data-voiceCommandLangId",n.id)}}function Se(a,c){if(1&a&&(e.ynx(0),e.YNc(1,ke,6,2,"ion-row",58),e.BQk()),2&a){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.voiceNames)}}function qe(a,c){1&a&&e._UZ(0,"ion-icon",56)}function Je(a,c){1&a&&e._UZ(0,"ion-icon",57)}function Le(a,c){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-checkbox",66),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.thingVoiceAssistantNameEntity&&(o.device.thingVoiceAssistantNameEntity.Enabled=t))}),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"ion-label"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-row")(8,"ion-col")(9,"ion-label"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"ion-col")(13,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.thingVoiceAssistantNameEntity&&(o.device.thingVoiceAssistantNameEntity.Name=t))}),e.qZA()()(),e.BQk()}if(2&a){const n=e.oxw(3);e.xp6(2),e.Q6J("ngModel",n.device.thingVoiceAssistantNameEntity&&n.device.thingVoiceAssistantNameEntity.Enabled),e.xp6(3),e.Oqu(e.lcZ(6,4,"voice-assistant-enabled")),e.xp6(5),e.Oqu(e.lcZ(11,6,"voice-assistant-name")),e.xp6(3),e.Q6J("ngModel",n.device.thingVoiceAssistantNameEntity&&n.device.thingVoiceAssistantNameEntity.Name)}}function Ue(a,c){1&a&&e._UZ(0,"ion-icon",56)}function Ve(a,c){1&a&&e._UZ(0,"ion-icon",57)}function Qe(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col")(6,"ion-input",67),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.AverageConsumptionRate=t)}),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"average-consumption-rate")),e.xp6(3),e.Q6J("ngModel",n.device.AverageConsumptionRate)}}function He(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col")(6,"ion-input",67),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.ConsumptionCostRate=t)}),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"consumption-cost-rate")),e.xp6(3),e.Q6J("ngModel",n.device.ConsumptionCostRate)}}function Fe(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col")(6,"ion-input",67),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.PollingInterval=t)}),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"polling-interval")),e.xp6(3),e.Q6J("ngModel",n.device.PollingInterval)}}function Ye(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.s9C("value",n.value),e.xp6(1),e.Oqu(n.name)}}function Ge(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col",37)(6,"ion-select",68),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.Visible=t)}),e.YNc(7,Ye,2,2,"ion-select-option",39),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"visible")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.Visible),e.xp6(1),e.Q6J("ngForOf",n.visibilityOptions)}}function Ke(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.s9C("value",n.value),e.xp6(1),e.Oqu(n.name)}}function Re(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col",37)(6,"ion-select",68),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.Enabled=t)}),e.YNc(7,Ke,2,2,"ion-select-option",39),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"enabled")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.Enabled),e.xp6(1),e.Q6J("ngForOf",n.enabled_options)}}function Be(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-col")(6,"ion-input",69,70),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.device.SortOrder=t)}),e.qZA()()()}if(2&a){const n=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"sort-order")),e.xp6(3),e.Q6J("ngModel",n.device.SortOrder)}}function We(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.s9C("value",n.value),e.xp6(1),e.Oqu(n.name)}}function $e(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(3);e.Q6J("value",n),e.xp6(1),e.hij("",i.MeteringPropertiesMapping[n]," ")}}function ze(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",53),e.NdJ("click",function(){e.CHM(n),e.oxw();const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.NextSlide(t,2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"next")))}function je(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",53),e.NdJ("click",function(){e.CHM(n),e.oxw();const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.NextSlide(t,2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"next")))}function Xe(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function et(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-select",40),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(4);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(4);return e.KtG(o.device.interfaceMapEntity.InterfaceId=t)})("ngModelChange",function(){e.CHM(n);const t=e.oxw(4);return e.KtG(t.GetInterfaceMappingProperties(t.device.interfaceMapEntity.InterfaceId,t.device.Type,t.device.device_Capabilities))}),e.YNc(1,Xe,2,2,"ion-select-option",39),e.qZA()}if(2&a){const n=e.oxw(4);e.Q6J("compareWith",n.compareWith)("ngModel",n.device.interfaceMapEntity.InterfaceId),e.xp6(1),e.Q6J("ngForOf",n.list_of_interfaceTypes)}}function tt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-input",75),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw().$implicit;return e.KtG(o.Value=t)}),e.qZA()}if(2&a){const n=e.oxw().$implicit;e.Q6J("ngModel",n.Value)("value",n.Value)}}function nt(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.Q6J("value",n.Name),e.xp6(1),e.hij(" ",n.Description?n.Description:n.Name," ")}}function it(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-select",40),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(5);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw().$implicit;return e.KtG(o.Value=t)}),e.YNc(1,nt,2,2,"ion-select-option",39),e.qZA()}if(2&a){const n=e.oxw().$implicit,i=e.oxw(4);e.Q6J("compareWith",i.compareWith)("ngModel",n.Value),e.xp6(1),e.Q6J("ngForOf",n.PossibleValues)}}function ot(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-input",76),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw().$implicit;return e.KtG(o.Value=t)}),e.qZA()}if(2&a){const n=e.oxw().$implicit;e.Q6J("ngModel",n.Value)("value",n.Value)}}function at(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-label",72),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e.YNc(5,tt,1,2,"ion-input",73),e.YNc(6,it,2,3,"ion-select",71),e.YNc(7,ot,1,2,"ion-input",74),e.qZA()()),2&a){const n=c.$implicit;e.xp6(3),e.Oqu(n.Description),e.xp6(2),e.Q6J("ngIf",n.PossibleValues&&0==n.PossibleValues.length),e.xp6(1),e.Q6J("ngIf",n.PossibleValues&&n.PossibleValues.length>0),e.xp6(1),e.Q6J("ngIf","ValueMapping"==n.Name)}}function rt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",48),e.NdJ("click",function(){e.CHM(n),e.oxw(2);const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.NextSlide(t,3))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&a){const n=e.oxw(4);e.xp6(1),e.Q6J("disabled",!n.deviceNameAvailable||""==(null==n.device?null:n.device.Name)),e.xp6(1),e.Oqu(e.lcZ(3,2,"next"))}}function ct(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"div")(1,"ion-grid",33)(2,"ion-row")(3,"ion-col")(4,"ion-label"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",37),e.YNc(8,et,2,3,"ion-select",71),e.qZA()(),e.YNc(9,at,8,4,"ion-row",58),e.TgZ(10,"ion-row")(11,"ion-col")(12,"ion-button",53),e.NdJ("click",function(){e.CHM(n),e.oxw();const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.previousSlide(t))}),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.YNc(15,rt,4,4,"ion-col",15),e.qZA(),e.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-button",49),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.SaveDevice())}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()}if(2&a){const n=e.oxw(3);e.xp6(1),e.Udp("direction",n.text_direction),e.xp6(4),e.Oqu(e.lcZ(6,8,"Interface")),e.xp6(3),e.Q6J("ngIf",n.device.interfaceMapEntity&&n.device.interfaceMapEntity.InterfaceId),e.xp6(1),e.Q6J("ngForOf",n.device.interfaceMapPropertyEntities),e.xp6(4),e.Oqu(e.lcZ(14,10,"back")),e.xp6(2),e.Q6J("ngIf",0!=n.device.thresholds.length),e.xp6(4),e.hij(" ",e.lcZ(20,12,"save")," ")}}function st(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",78)(2,"ion-label",79),e._uU(3,"Property"),e.qZA()(),e.TgZ(4,"ion-col",78)(5,"ion-label",80),e._uU(6),e.qZA()(),e.TgZ(7,"ion-row",81)(8,"ion-col",82)(9,"ion-label",83),e._uU(10,"Min"),e.qZA()(),e.TgZ(11,"ion-col",82)(12,"ion-label",84),e._uU(13,"Very "),e._UZ(14,"br"),e._uU(15,"Low"),e.qZA()(),e.TgZ(16,"ion-col",82)(17,"ion-label",83),e._uU(18,"Low"),e.qZA()(),e.TgZ(19,"ion-col",82)(20,"ion-label",83),e._uU(21,"High"),e.qZA()(),e.TgZ(22,"ion-col",82)(23,"ion-label",84),e._uU(24,"Very"),e._UZ(25,"br"),e._uU(26," High"),e.qZA()(),e.TgZ(27,"ion-col",82)(28,"ion-label",83),e._uU(29,"Max"),e.qZA()()(),e.TgZ(30,"ion-row",81)(31,"ion-col",82)(32,"ion-input",85),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Low3=t)}),e.qZA()(),e.TgZ(33,"ion-col",82)(34,"ion-input",86),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Low2=t)}),e.qZA()(),e.TgZ(35,"ion-col",82)(36,"ion-input",87),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Low1=t)}),e.qZA()(),e.TgZ(37,"ion-col",82)(38,"ion-input",87),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.High1=t)}),e.qZA()(),e.TgZ(39,"ion-col",82)(40,"ion-input",86),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.High2=t)}),e.qZA()(),e.TgZ(41,"ion-col",82)(42,"ion-input",87),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.High3=t)}),e.qZA()()()()}if(2&a){const n=c.$implicit;e.xp6(6),e.Oqu(n.Property),e.xp6(26),e.Q6J("value",n.Low3)("ngModel",n.Low3),e.xp6(2),e.Q6J("value",n.Low2)("ngModel",n.Low2),e.xp6(2),e.Q6J("ngModel",n.Low1)("value",n.Low1),e.xp6(2),e.Q6J("ngModel",n.High1)("value",n.High1),e.xp6(2),e.Q6J("value",n.High2)("ngModel",n.High2),e.xp6(2),e.Q6J("ngModel",n.High3)("value",n.High3)}}function lt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-button",53),e.NdJ("click",function(){e.CHM(n),e.oxw(2);const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.previousSlide(t))}),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"ion-row")(7,"ion-col")(8,"ion-button",49),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(4);return e.KtG(t.SaveDevice())}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"back")),e.xp6(5),e.hij(" ",e.lcZ(10,4,"save")," "))}function _t(a,c){if(1&a&&(e.TgZ(0,"div")(1,"ion-grid",77),e.YNc(2,st,43,13,"ion-row",58),e.qZA(),e.YNc(3,lt,11,6,"ion-grid",15),e.qZA()),2&a){const n=e.oxw(3);e.xp6(1),e.Udp("direction",n.text_direction),e.xp6(1),e.Q6J("ngForOf",n.device.thresholds),e.xp6(1),e.Q6J("ngIf",n.DeviceCreatorEnable)}}function dt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"swiper-container",null,31)(2,"swiper-slide",32)(3,"ion-grid",33)(4,"ion-row")(5,"ion-col")(6,"ion-label"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"ion-col")(10,"ion-input",34,35),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.Name=t)})("ionChange",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.checkDeviceName(t.device.Name))}),e.qZA(),e.YNc(12,se,3,3,"label",36),e.qZA()(),e.TgZ(13,"ion-row")(14,"ion-col")(15,"ion-label"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"ion-col",37)(19,"ion-select",38),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.RoomId=t)}),e.YNc(20,le,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(21,"ion-row")(22,"ion-col")(23,"ion-label"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"ion-col",37)(27,"ion-select",40),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.Type=t)})("ngModelChange",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.GetThresholdsFields(t.device.Type,!0))}),e._UZ(28,"ion-select-option",41),e.YNc(29,_e,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(30,"ion-row")(31,"ion-col")(32,"ion-label"),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"ion-col",37)(36,"ion-select",40),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.Category=t)})("ngModelChange",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.changing(t.device.Category))}),e._UZ(37,"ion-select-option",41),e.YNc(38,de,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(39,"ion-row")(40,"ion-col")(41,"ion-label"),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"ion-col",37)(45,"ion-select",42),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.onClickCapability())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.device_Capabilities=t)})("ngModelChange",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.changingCapability(t.device.device_Capabilities,!0))}),e.TgZ(46,"ion-select-option",43),e._uU(47,"No"),e.qZA(),e.YNc(48,ge,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(49,"ion-row")(50,"ion-col")(51,"ion-label"),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"ion-col",37)(55,"img",44),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.selectImage(t.device.ImageId,t.device,"ImageId"))}),e.qZA()()(),e.TgZ(56,"ion-row")(57,"ion-col")(58,"p",45),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.showNameTraslation=!t.showNameTraslation)}),e._uU(59),e.ALo(60,"translate"),e.YNc(61,pe,1,0,"ion-icon",46),e.YNc(62,ue,1,0,"ion-icon",47),e.qZA()()(),e.YNc(63,ve,2,1,"ng-container",15),e.YNc(64,we,2,1,"ng-container",15),e.YNc(65,Te,2,1,"ng-container",15),e.YNc(66,ye,2,1,"ng-container",15),e.TgZ(67,"ion-row")(68,"ion-col")(69,"p",45),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.showVoiceNames=!t.showVoiceNames)}),e._uU(70),e.ALo(71,"translate"),e.YNc(72,Pe,1,0,"ion-icon",46),e.YNc(73,De,1,0,"ion-icon",47),e.qZA()()(),e.YNc(74,Ze,2,1,"ng-container",15),e.YNc(75,Oe,2,1,"ng-container",15),e.YNc(76,Se,2,1,"ng-container",15),e.TgZ(77,"ion-row")(78,"ion-col")(79,"p",45),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.showVoiceAssistant=!t.showVoiceAssistant)}),e._uU(80),e.ALo(81,"translate"),e.YNc(82,qe,1,0,"ion-icon",46),e.YNc(83,Je,1,0,"ion-icon",47),e.qZA()()(),e.YNc(84,Le,14,8,"ng-container",15),e.TgZ(85,"ion-row")(86,"ion-col")(87,"p",45),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.showAdvancedOptions=!t.showAdvancedOptions)}),e._uU(88),e.ALo(89,"translate"),e.YNc(90,Ue,1,0,"ion-icon",46),e.YNc(91,Ve,1,0,"ion-icon",47),e.qZA()()(),e.YNc(92,Qe,7,4,"ion-row",15),e.YNc(93,He,7,4,"ion-row",15),e.YNc(94,Fe,7,4,"ion-row",15),e.YNc(95,Ge,8,6,"ion-row",15),e.YNc(96,Re,8,6,"ion-row",15),e.YNc(97,Be,8,4,"ion-row",15),e.TgZ(98,"ion-row")(99,"ion-col")(100,"ion-button",48),e.NdJ("click",function(){e.CHM(n);const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.NextSlide(t,1))}),e._uU(101),e.ALo(102,"translate"),e.qZA()()(),e.TgZ(103,"ion-row")(104,"ion-col")(105,"ion-button",49),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.SaveDevice())}),e._uU(106),e.ALo(107,"translate"),e.qZA()()()()(),e.TgZ(108,"swiper-slide",32)(109,"ion-grid",33)(110,"ion-row")(111,"ion-col")(112,"ion-label"),e._uU(113),e.ALo(114,"translate"),e.qZA()(),e.TgZ(115,"ion-col",37)(116,"ion-select",50),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.MeteringEnabled=t)}),e.YNc(117,We,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(118,"ion-row")(119,"ion-col")(120,"ion-label"),e._uU(121),e.ALo(122,"translate"),e.qZA()(),e.TgZ(123,"ion-col",37)(124,"ion-select",51),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.Metering_Properties=t)})("ngModelChange",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.onChangeMeteringProperties(t.Metering_Properties))}),e.YNc(125,$e,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(126,"ion-row")(127,"ion-col")(128,"ion-label"),e._uU(129),e.ALo(130,"translate"),e.qZA()(),e.TgZ(131,"ion-col")(132,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.MeteringReferenceId=t)}),e.qZA()()(),e.TgZ(133,"ion-row")(134,"ion-col")(135,"ion-label"),e._uU(136),e.ALo(137,"translate"),e.qZA()(),e.TgZ(138,"ion-col")(139,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.MeteringExternalId=t)}),e.qZA()()(),e.TgZ(140,"ion-row")(141,"ion-col")(142,"ion-label"),e._uU(143),e.ALo(144,"translate"),e.qZA()(),e.TgZ(145,"ion-col")(146,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.MeteringAccountId=t)}),e.qZA()()(),e.TgZ(147,"ion-row")(148,"ion-col")(149,"ion-label"),e._uU(150),e.ALo(151,"translate"),e.qZA()(),e.TgZ(152,"ion-col")(153,"ion-input",52),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw(2);return e.KtG(o.device.MeteringRemarks=t)}),e.qZA()()(),e.TgZ(154,"ion-row")(155,"ion-col")(156,"ion-button",53),e.NdJ("click",function(){e.CHM(n);const t=e.MAs(1),o=e.oxw(2);return e.KtG(o.previousSlide(t))}),e._uU(157),e.ALo(158,"translate"),e.qZA()(),e.TgZ(159,"ion-col"),e.YNc(160,ze,3,3,"ion-button",54),e.YNc(161,je,3,3,"ion-button",54),e.qZA()(),e.TgZ(162,"ion-row")(163,"ion-col")(164,"ion-button",49),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.SaveDevice())}),e._uU(165),e.ALo(166,"translate"),e.qZA()()()()(),e.TgZ(167,"swiper-slide",32),e.YNc(168,ct,21,14,"div",15),e.qZA(),e.TgZ(169,"swiper-slide",32),e.YNc(170,_t,4,4,"div",15),e.qZA()()}if(2&a){const n=e.oxw(2);e.xp6(3),e.Udp("direction",n.text_direction),e.xp6(4),e.Oqu(e.lcZ(8,79,"device-name")),e.xp6(3),e.Q6J("ngModel",n.device.Name),e.xp6(2),e.Q6J("ngIf",n.deviceNameEmpty),e.xp6(4),e.Oqu(e.lcZ(17,81,"select-room")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.RoomId),e.xp6(1),e.Q6J("ngForOf",n.listOfRooms),e.xp6(4),e.Oqu(e.lcZ(25,83,"type")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.Type),e.xp6(1),e.Q6J("value",-1),e.xp6(1),e.Q6J("ngForOf",n.listOfTypes),e.xp6(4),e.Oqu(e.lcZ(34,85,"Category")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.Category),e.xp6(1),e.Q6J("value",-1),e.xp6(1),e.Q6J("ngForOf",n.listOfCategories),e.xp6(4),e.Oqu(e.lcZ(43,87,"Capability")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.device_Capabilities),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",n.listOfCapabilities),e.xp6(4),e.Oqu(e.lcZ(53,89,"image")),e.xp6(3),e.Q6J("src",n.device.ImageId&&n.device.ImageId>=0?n.getImageUrlById(n.device.ImageId):n.GetImageAsDeviceType(n.device.Type),e.LSH),e.xp6(4),e.hij(" ",e.lcZ(60,91,"name-translation"),"\xa0"),e.xp6(2),e.Q6J("ngIf",n.showNameTraslation),e.xp6(1),e.Q6J("ngIf",!n.showNameTraslation),e.xp6(1),e.Q6J("ngIf",n.showNameTraslation&&!n.AddingNewDevice&&n.device.uiDataTranslationEntities&&0==n.device.uiDataTranslationEntities.length),e.xp6(1),e.Q6J("ngIf",n.showNameTraslation&&!n.AddingNewDevice&&n.device.uiDataTranslationEntities&&1==n.device.uiDataTranslationEntities.length),e.xp6(1),e.Q6J("ngIf",n.showNameTraslation&&!n.AddingNewDevice&&n.device.uiDataTranslationEntities&&n.device.uiDataTranslationEntities.length>1),e.xp6(1),e.Q6J("ngIf",n.showNameTraslation&&n.AddingNewDevice),e.xp6(4),e.hij(" ",e.lcZ(71,93,"voice-names"),"\xa0"),e.xp6(2),e.Q6J("ngIf",n.showVoiceNames),e.xp6(1),e.Q6J("ngIf",!n.showVoiceNames),e.xp6(1),e.Q6J("ngIf",n.showVoiceNames&&!n.AddingNewDevice&&n.device.voiceCommandThingEntities&&0==n.device.voiceCommandThingEntities.length),e.xp6(1),e.Q6J("ngIf",n.showVoiceNames&&!n.AddingNewDevice&&n.device.voiceCommandThingEntities&&n.device.voiceCommandThingEntities.length>0),e.xp6(1),e.Q6J("ngIf",n.showVoiceNames&&n.AddingNewDevice),e.xp6(4),e.hij(" ",e.lcZ(81,95,"voice-assistant"),"\xa0"),e.xp6(2),e.Q6J("ngIf",n.showVoiceAssistant),e.xp6(1),e.Q6J("ngIf",!n.showVoiceAssistant),e.xp6(1),e.Q6J("ngIf",n.showVoiceAssistant),e.xp6(4),e.hij(" ",e.lcZ(89,97,"advanced"),"\xa0"),e.xp6(2),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",!n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(1),e.Q6J("ngIf",n.showAdvancedOptions),e.xp6(3),e.Q6J("disabled",""==(null==n.device?null:n.device.Name)),e.xp6(1),e.Oqu(e.lcZ(102,99,"next")),e.xp6(5),e.hij(" ",e.lcZ(107,101,"save")," "),e.xp6(3),e.Udp("direction",n.text_direction),e.xp6(4),e.Oqu(e.lcZ(114,103,"metering-enabled")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.device.MeteringEnabled),e.xp6(1),e.Q6J("ngForOf",n.meteringEnabledOptions),e.xp6(4),e.Oqu(e.lcZ(122,105,"metering-properties")),e.xp6(3),e.Q6J("compareWith",n.compareWith)("ngModel",n.Metering_Properties),e.xp6(1),e.Q6J("ngForOf",n.listOfMeteringProperties),e.xp6(4),e.Oqu(e.lcZ(130,107,"metering-referenceId")),e.xp6(3),e.Q6J("ngModel",n.device.MeteringReferenceId),e.xp6(4),e.Oqu(e.lcZ(137,109,"metering-externalId")),e.xp6(3),e.Q6J("ngModel",n.device.MeteringExternalId),e.xp6(4),e.Oqu(e.lcZ(144,111,"metering-accountId")),e.xp6(3),e.Q6J("ngModel",n.device.MeteringAccountId),e.xp6(4),e.Oqu(e.lcZ(151,113,"metering-remarks")),e.xp6(3),e.Q6J("ngModel",n.device.MeteringRemarks),e.xp6(4),e.Oqu(e.lcZ(158,115,"back")),e.xp6(3),e.Q6J("ngIf",0==n.device.Type&&0!=n.device.Capabilities),e.xp6(1),e.Q6J("ngIf",0!=n.device.Type),e.xp6(4),e.hij(" ",e.lcZ(166,117,"save")," "),e.xp6(3),e.Q6J("ngIf",0!=n.device.Type),e.xp6(2),e.Q6J("ngIf",n.device.thresholds&&0!=n.device.thresholds.length)}}function gt(a,c){if(1&a&&(e.TgZ(0,"ion-content",14),e.YNc(1,ae,5,3,"ion-grid",15),e.YNc(2,ce,2,1,"ion-list",15),e.YNc(3,dt,171,119,"swiper-container",15),e.qZA()),2&a){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.DeviceCreatorEnable),e.xp6(1),e.Q6J("ngIf",!n.DeviceCreatorEnable),e.xp6(1),e.Q6J("ngIf",n.DeviceCreatorEnable&&!n.NewDeviceCreatorEnable)}}function pt(a,c){if(1&a&&(e.TgZ(0,"ion-label"),e._UZ(1,"ion-spinner",102),e.qZA()),2&a){const n=e.oxw(2);e.xp6(1),e.Q6J("paused",!n.running)}}function ut(a,c){1&a&&(e.TgZ(0,"label",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function mt(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit;e.Q6J("value",n.Id),e.xp6(1),e.Oqu(n.Name)}}function vt(a,c){1&a&&(e.TgZ(0,"label",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function ft(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(6);e.Q6J("value",n),e.xp6(1),e.hij("",i.DeviceTypeMapping[n]," ")}}function ht(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",41),e._uU(1),e.qZA()),2&a){const n=c.$implicit,i=e.oxw(6);e.Q6J("value",n),e.xp6(1),e.hij("",i.DeviceCategoryMapping[n]," ")}}function xt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"img",44),e.NdJ("click",function(){e.CHM(n);const t=e.oxw().$implicit,o=e.oxw(5);return e.KtG(o.selectImage(t.ImageId,t,"ImageId"))}),e.qZA()}if(2&a){const n=e.oxw().$implicit,i=e.oxw(5);e.Q6J("src",n.ImageId&&n.ImageId>=0?i.getImageUrlById(n.ImageId):i.GetImageAsDeviceType(n.Type),e.LSH)}}function wt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-card",106)(1,"ion-grid",33)(2,"ion-row")(3,"ion-col",108)(4,"ion-label"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",111)(8,"ion-input",34,35),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Name=t)})("ionChange",function(){const o=e.CHM(n).$implicit,r=e.oxw(5);return e.KtG(r.checkDeviceName(o.Name))}),e.qZA(),e.YNc(10,vt,3,3,"label",113),e.qZA()(),e.TgZ(11,"ion-row")(12,"ion-col")(13,"ion-label"),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"ion-col",37)(17,"ion-select",114),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(5);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Type=t)})("ngModelChange",function(){const o=e.CHM(n).$implicit,r=e.oxw(5);return e.KtG(r.GetThresholdsFields(o.Type,!0))}),e._UZ(18,"ion-select-option",41),e.YNc(19,ft,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(20,"ion-row")(21,"ion-col")(22,"ion-label"),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-col",37)(26,"ion-select",40),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(5);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.Category=t)})("ngModelChange",function(){const o=e.CHM(n).$implicit,r=e.oxw(5);return e.KtG(r.changing(o.Category))}),e._UZ(27,"ion-select-option",41),e.YNc(28,ht,2,2,"ion-select-option",39),e.qZA()()(),e.TgZ(29,"ion-row")(30,"ion-col",108)(31,"ion-label"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"ion-col",115),e.YNc(35,xt,1,1,"img",116),e.qZA()(),e.TgZ(36,"ion-row")(37,"ion-col",108)(38,"ion-label"),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"ion-col",115)(42,"ion-button",117),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw(5);return e.KtG(r.DeleteDevice(o))}),e._UZ(43,"ion-icon",118),e.qZA()()()()()}if(2&a){const n=c.$implicit,i=e.oxw(5);e.xp6(1),e.Udp("direction",i.text_direction),e.xp6(4),e.Oqu(e.lcZ(6,18,"device-name")),e.xp6(3),e.Q6J("ngModel",n.Name),e.xp6(2),e.Q6J("ngIf",i.deviceNameEmpty),e.xp6(4),e.Oqu(e.lcZ(15,20,"type")),e.xp6(3),e.Q6J("compareWith",i.compareWith)("ngModel",n.Type),e.xp6(1),e.Q6J("value",-1),e.xp6(1),e.Q6J("ngForOf",i.listOfTypes),e.xp6(4),e.Oqu(e.lcZ(24,22,"Category")),e.xp6(3),e.Q6J("compareWith",i.compareWith)("ngModel",n.Category),e.xp6(1),e.Q6J("value",-1),e.xp6(1),e.Q6J("ngForOf",i.listOfCategories),e.xp6(4),e.Oqu(e.lcZ(33,24,"image")),e.xp6(3),e.Q6J("ngIf",n.Type>-2),e.xp6(4),e.Oqu(e.lcZ(40,26,"remove"))}}function Mt(a,c){if(1&a&&(e.ynx(0),e.YNc(1,wt,44,28,"ion-card",105),e.BQk()),2&a){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.Devices)}}function Ct(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-card",106)(1,"ion-card-header")(2,"ion-grid",107)(3,"ion-row",107)(4,"ion-col",108)(5,"ion-label",109),e._UZ(6,"img",110),e.qZA()(),e.TgZ(7,"ion-col",111)(8,"ion-card-title"),e._uU(9),e.qZA()()(),e.TgZ(10,"ion-row")(11,"ion-col")(12,"ion-label"),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ion-col",37)(16,"ion-input",34,35),e.NdJ("ngModelChange",function(t){const r=e.CHM(n).$implicit;return e.KtG(r.AddedDevices[0].Name=t)})("ionChange",function(){const o=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.checkDeviceName(o.AddedDevices[0].Name))}),e.qZA(),e.YNc(18,ut,3,3,"label",112),e.qZA()(),e.TgZ(19,"ion-row")(20,"ion-col")(21,"ion-label"),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"ion-col",37)(25,"ion-select",38),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(n);const o=e.oxw(3);return e.KtG(o.selectedRoomId=t)}),e.YNc(26,mt,2,2,"ion-select-option",39),e.qZA()()()()(),e.YNc(27,Mt,2,1,"ng-container",15),e.qZA()}if(2&a){const n=c.$implicit,i=e.oxw(3);e.xp6(6),e.Q6J("src",n.AddedDevices[0].ImageId&&n.AddedDevices[0].ImageId>=0?i.getImageUrlById(n.AddedDevices[0].ImageId):i.IMAGES.file_system.unknown,e.LSH),e.xp6(3),e.Oqu(n.AddedDevices[0].Description),e.xp6(4),e.Oqu(e.lcZ(14,10,"name")),e.xp6(3),e.Q6J("ngModel",n.AddedDevices[0].Name),e.xp6(2),e.Q6J("ngIf",i.deviceNameEmpty),e.xp6(4),e.Oqu(e.lcZ(23,12,"select-room")),e.xp6(3),e.Q6J("compareWith",i.compareWith)("ngModel",i.selectedRoomId),e.xp6(1),e.Q6J("ngForOf",i.listOfRooms),e.xp6(1),e.Q6J("ngIf",n.Devices&&n.Devices.length>0)}}function Tt(a,c){if(1&a&&(e.TgZ(0,"ion-list"),e.YNc(1,Ct,28,14,"ion-card",105),e.qZA()),2&a){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.foundDevices)}}function bt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-button",119),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.SaveInterfaceDevice(t.foundDevices))}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ok")," "))}function yt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",104),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.startAddingInterfaceDevice())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"start"),""))}function Pt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",104),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.startAddingInterfaceDevice())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"retry"),""))}function Dt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",104),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.stop())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"stop")))}function Nt(a,c){if(1&a){const n=e.EpF();e.TgZ(0,"ion-content",88),e._UZ(1,"img",89),e.TgZ(2,"ion-grid",90)(3,"ion-row",91)(4,"ion-col",92)(5,"ion-grid",93)(6,"ion-row",94)(7,"ion-col",92)(8,"ion-label",95),e._uU(9),e.qZA(),e.TgZ(10,"ion-label",96),e._uU(11),e.qZA(),e.TgZ(12,"ion-label",97)(13,"pre",98),e._uU(14),e.qZA(),e.YNc(15,pt,2,1,"ion-label",15),e.qZA()()(),e.TgZ(16,"ion-row",99)(17,"ion-col",92),e.YNc(18,Tt,2,1,"ion-list",15),e.qZA()()()()(),e.TgZ(19,"ion-row",100)(20,"ion-col",92)(21,"ion-toolbar",101)(22,"div"),e.YNc(23,bt,5,3,"ion-row",15),e._UZ(24,"ion-spinner",102),e.TgZ(25,"ion-buttons"),e.YNc(26,yt,3,3,"ion-button",103),e.YNc(27,Pt,3,3,"ion-button",103),e.YNc(28,Dt,3,3,"ion-button",103),e.TgZ(29,"ion-button",104),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.cancel())}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()()()()()}if(2&a){const n=e.oxw();e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("src",n.IMAGES.add_device_bg,e.LSH),e.xp6(8),e.Oqu(n.status),e.xp6(2),e.Oqu(n.statusHeader),e.xp6(3),e.hij("",n.statusMessage,"\n                "),e.xp6(1),e.Q6J("ngIf","Ready"!=n.status&&"Idel"!=n.status),e.xp6(3),e.Q6J("ngIf",n.showFoundDevicesFlag),e.xp6(5),e.Q6J("ngIf",n.foundDevices.length>0),e.xp6(1),e.Q6J("paused",!n.running),e.xp6(2),e.Q6J("ngIf",!n.running&&4!=n.step),e.xp6(1),e.Q6J("ngIf",!n.running&&4==n.step),e.xp6(1),e.Q6J("ngIf",n.running),e.xp6(2),e.Oqu(e.lcZ(31,13,"close"))}}const It=[{path:"",component:(()=>{var a;class c extends O.n{SaveInterfaceDevice(i){var t=this;return(0,h.Z)(function*(){(yield t.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0})).present();for(let r=0;r<i.length;r++)for(let s=0;s<i[r].Devices.length;s++){const d=i[r].Devices[s];t.step=0,t.updateStepInfo(),t.showFoundDevicesFlag=!1,t.device=new m.G4,t.AddingNewDevice=!1,t.DeviceCreatorEnable=!0,t.showAdvancedOptions=!1,t.showNameTraslation=!1,t.showVoiceNames=!1,t.showVoiceAssistant=!1,t.device=d,t.device.RoomId=t.selectedRoomId,yield t.SaveDevice(!0)}yield x.a.DefaultController.LoadAllDeviceEntities().then(r=>{t.LoadAllDevices().then(s=>{t.DeviceCreatorEnable=!1,t.NewDeviceCreatorEnable=!1,t.step=0,t.goBack(),"add-device"==t.paramCommand&&t.goBack(!0)})})})()}getStyle(){return this.NewDeviceCreatorEnable?{"--background":"url(assets/img/themes/default/add-device-bg4.png) no-repeat 100% 100% / cover;"}:{}}selectInterface(){var i=this;return(0,h.Z)(function*(){let t=yield i.alertCtrl.create({header:i.translate.instant("Select Interface"),cssClass:"network-alert",inputs:i.Interfaces.map(o=>({name:o.id,type:"radio",label:o.name,value:o.id})),buttons:[{text:i.translate.instant("cancel"),role:"cancel",handler:()=>{i.selectedInterface=void 0}},{text:i.translate.instant("ok"),handler:o=>{i.selectedInterface=o}}]});t.onDidDismiss().then(o=>{i.selectedInterface="cancel"!=o.role?o.data.values:void 0,i.selectedInterface&&(i.step=2,i.updateStepInfo(),x.a.DefaultController.StartInterfaceJoin(i.selectedInterface).then(r=>{i.start()}))}),yield t.present()})()}startAddingInterfaceDevice(){var i=this;return(0,h.Z)(function*(){i.foundImage=!1,i.foundDevices=[],i.responseStatus="",i.responseDevices=[],i.responseAddedDevices=[],i.lastresponse=void 0,yield x.a.DefaultController.LoadAllInterfaceEntities().then(t=>{i.Interfaces=t,i.Interfaces=i.Interfaces.filter(o=>"EurekaSmartHome.Interface.Zigbee.Mapping.ZigbeeInterface"==o.type)}),i.selectedInterface=void 0,1==i.Interfaces.length?(i.selectedInterface=i.Interfaces[0].id,i.selectedInterface&&(i.step=2,i.updateStepInfo(),x.a.DefaultController.StartInterfaceJoin(i.selectedInterface).then(t=>{i.start()}))):yield i.selectInterface()})()}showFoundDevices(){this.showFoundDevicesFlag=!0}cancel(){this.step=0,this.DeviceCreatorEnable=!1,this.showFoundDevicesFlag=!1,this.DeviceCreatorEnable=!1,this.NewDeviceCreatorEnable=!1,this.AddingNewDevice=!1,this.device=null,this.deviceNameAvailable=!0,this.deviceNameEmpty=!1,this.Navigation.WizardName=null,this.CurrentSlideName="",this.NavigationClear(),"add-device"==this.paramCommand&&this.goBack()}getTimerValue(){return this.stopwatchValue.asObservable()}startTimer(){if(this.running)return;this.running=!0;const i=Date.now()-this.stopwatchValue.value;(0,H.H)(0,1e3).pipe((0,F.U)(()=>Math.floor((Date.now()-i)/1e3)),(0,Y.b)(t=>{this.currentSeconds=t,t>=this.maxTime&&(this.step=4,this.updateStepInfo(),this.statusHeader="Failed to join",this.stop())}),function R(a,c=!1){return(0,G.e)((n,i)=>{let t=0;n.subscribe((0,K.x)(i,o=>{const r=a(o,t++);(r||c)&&i.next(o),!r&&i.complete()}))})}(()=>this.running)).subscribe(t=>{this.stopwatchValue.next(t),this.currentTime$=this.stopwatchValue.asObservable(),this.checkStatus(this.currentSeconds,this.selectedInterface)})}stopTimer(){this.running=!1}resetTimer(){this.stopTimer(),this.stopwatchValue.next(0)}checkStatus(i,t){var o=this;return(0,h.Z)(function*(){if(!o.working&&i%1==0&&(o.working=!0,x.a.DefaultController.GetInterfaceStatus(t).then(function(){var s=(0,h.Z)(function*(d){o.working=!1,o.lastresponse=d});return function(d){return s.apply(this,arguments)}}()).catch(s=>{o.working=!1,console.error("Unable to Save",s),o.updateStepInfo(),o.status=o.status+"- Error",o.statusMessage=o.statusMessage+"-"+s})),null==o.lastresponse)return;let r=o.lastresponse;if(o.responseStatus=r.Status,o.responseStatus="undefined"==o.responseStatus?"":"("+o.responseStatus+")",o.remainingTime=r.RemainingTime,o.updateStepInfo(),o.status=o.status+" - ("+r.Status+")",o.lastresponse.AddedDevices&&o.lastresponse.AddedDevices.length>0&&(0==o.foundDevices.length&&o.foundDevices.push(r),o.showFoundDevicesFlag=!0,!o.foundImage&&o.lastresponse.AddedDevices[0].ImageId)){let s=x.a.DefaultController.images.find(d=>d.id==o.lastresponse.AddedDevices[0].ImageId);s||(yield x.a.DefaultController.LoadAllImages(),s=x.a.DefaultController.images.find(d=>d.id==o.lastresponse.AddedDevices[0].ImageId)),s&&(o.foundImage=!0,o.refreshElement())}if("Idle"===r.Status)if(r.Devices.length>0){o.responseAddedDevices=r.AddedDevices,o.responseDevices=r.Devices,yield o.LoadAllDevices();let d="New";if(r.AddedDevices.length>0&&r.AddedDevices[0].Description){let g=r.AddedDevices[0].Description.split(" ").slice(0,2).join(" ");console.log(g)}r.AddedDevices[0].Name=d;for(let g=0;g<r.Devices.length;g++)0==g&&(o.selectedRoomId=o.paramRoomId?o.paramRoomId:r.Devices[0].RoomId,o.selectedTypeId=r.Devices[0].Type,o.selectedCategoryId=r.Devices[0].Category),r.Devices[g]=yield o.EditDevice({id:r.Devices[g].Id},!0),r.Devices[g].Name=1==r.Devices.length?d+"_"+f.L[r.Devices[g].Type]:d+"_"+f.L[r.Devices[g].Type]+"_"+g;o.showFoundDevicesFlag=!1,o.foundDevices=[],o.foundDevices.push(r),o.showFoundDevicesFlag=!0,o.step=3,o.updateStepInfo(),o.stop()}else o.currentSeconds>4&&"00:00:00"==r.RemainingTime&&(o.step=4,o.updateStepInfo(),o.statusHeader="Failed to join",o.stop());else{o.updateStepInfo();const s=1+Math.abs(i%8-3);o.status=` ${".".repeat(s)} `+o.status+` ${".".repeat(s)}`}})()}start(){var i=this;return(0,h.Z)(function*(){i.sslc=yield i.ShowSimpleLoadingController(),i.showFoundDevicesFlag=!1,i.status="",i.working=!1,i.statusHeader="",i.statusMessage="",i.startTimer()})()}stop(){this.stopTimer(),this.sslc&&this.sslc.dismiss()}reset(){this.step=1,this.currentSeconds=0,this.resetTimer(),this.updateStepInfo(),this.currentSeconds=0,this.resetTimer()}updateStepInfo(){var i=this;return(0,h.Z)(function*(){switch(i.step){case 1:i.statusHeader="Gateway is ready...!",i.statusMessage="Please make sure the gateway is on and connected. Then press Start to start joining process.",i.status="Step 1 - Preparation";break;case 2:i.statusHeader="Initiate the device joining procedure",i.status="Step 2 - Joining";let t="";i.responseAddedDevices&&i.responseAddedDevices.length>0?(i.showFoundDevicesFlag=!0,t=`\n          Found Node ${i.responseAddedDevices[0].Description}`):t="Please click the joining button on the device. and hold for 5 seconds until the LED starts blinking.",i.statusMessage=`${t}\n      Please wait ... ${i.responseStatus}\n      \n      Remaining Time  ${i.remainingTime}`;break;case 3:i.statusHeader="Join procedure complete",i.status="Step 3 - Completion",i.statusMessage=i.foundDevices.length>0?`Joining process is completed.\n      \n      (${i.responseAddedDevices.length}) node(s) found - (${i.responseDevices.length}) device(s) found.\n      \n      Please udpate device information and press Ok.`:"No Device found. Please try again.";break;case 4:i.statusHeader="Failed to join",i.status="Step 4 - Failed",i.statusMessage="The device has failed to join the network.\n      Please check the gateway connectivity & device joining steps and try again.";break;default:i.statusHeader="",i.statusMessage="",i.status=""}})()}NewCreateNewDevice(){var i=this;return(0,h.Z)(function*(){i.step=1,i.updateStepInfo(),i.showFoundDevicesFlag=!1,i.foundDevices=[],i.NewDeviceCreatorEnable=!0,i.AddingNewDevice=!1,i.DeviceCreatorEnable=!0,i.showAdvancedOptions=!1,i.showNameTraslation=!1,i.showVoiceNames=!1,i.showVoiceAssistant=!1})()}constructor(i,t,o,r,s,d,g,l,w,_,b,A,St,qt,Jt,U,Lt){if(super(s,_,w,A,i,b,!1,U,g,qt,d),this.navCtrl=i,this.modalController=t,this.ionicApp=o,this.loadingCtrl=r,this.api=s,this.toastCtrl=g,this._sanitizer=l,this.alertCtrl=w,this.platform=_,this.zone=b,this.translate=A,this.navParams=St,this.actionSheetCtrl=Jt,this.router=U,this.overlayCtrl=Lt,this.paramRoomId=void 0,this.step=0,this.foundImage=!1,this.foundDevices=[],this.showFoundDevicesFlag=!1,this.maxTime=120,this.statusHeader="",this.status="",this.currentSeconds=0,this.Interfaces=[],this.stopwatchValue=new Q.X(0),this.running=!1,this.currentTime$=this.getTimerValue(),this.text_direction="ltr",this.theAppState=x.a,this.DeviceCreatorEnable=!1,this.NewDeviceCreatorEnable=!1,this.deviceNameAvailable=!0,this.list_of_devices=[],this.list_of_interfaceTypes=[],this.filtered_list_of_device=[],this.listOfRooms=[],this.listOfCapabilities=[],this.listOfCategories=[],this.listOfTypes=[],this.listOfMeteringProperties=[],this.DeviceCategoryMapping=C.p,this.MeteringPropertiesMapping=k,this.DeviceTypeMapping=f.L,this.DeviceCapabilityMapping=M.k,this.imageList=[],this.Navigation={WizardName:"",Name:"",From:[],To:""},this.searchTerm="",this.deviceNameEmpty=!1,this.interface_mapping_properties=[],this.visibilityOptions=[{selected:!0,value:1,name:this.translate.instant("yes")},{selected:!1,value:0,name:this.translate.instant("no")}],this.enabled_options=[{selected:!0,value:1,name:this.translate.instant("yes")},{selected:!1,value:0,name:this.translate.instant("no")}],this.meteringEnabledOptions=[{selected:!0,value:1,name:this.translate.instant("yes")},{selected:!1,value:0,name:this.translate.instant("no")}],this.device_Capabilities=[0],this.Metering_Properties=[],this.showNameTraslation=!1,this.showVoiceAssistant=!1,this.showVoiceNames=!1,this.uiLanguages=[],this.voiceNames=[],this.deviceImages=[],this.AddingNewDevice=!1,this.showAdvancedOptions=!1,this.CurrentSlideName="",this.errorHandler=()=>{this.LoadAllDevices()},this.searchQuery="",this.router.getCurrentNavigation().extras.state){const S=this.router.getCurrentNavigation().extras.state;this.navParams=S}if(this.navParams&&this.navParams.data&&(this.paramRoom=this.navParams.data.room,this.paramDevice=this.navParams.data.device,this.paramRoom&&(this.paramRoomId=this.paramRoom.id),this.paramCommand=this.navParams.data.command),this.text_direction=this.platform.isRTL?"rtl":"ltr",this.listOfRooms=[],this.imageList=[],this.deviceHelper=new N,this.entityParser=new q.V,x.a.DefaultController){this.imageList=x.a.DefaultController.images,this.uiLanguages=x.a.DefaultController.languages,this.listOfCategories=Object.values(C.I).filter(y=>"number"==typeof y),this.listOfCapabilities=Object.values(M.q).filter(y=>"number"==typeof y),this.listOfTypes=Object.values(f.Y).filter(y=>"number"==typeof y),this.listOfMeteringProperties=Object.values(Z).filter(y=>"number"==typeof y);let S=x.a.DefaultController.rooms;for(let y=0;y<S.length;y++){let V=S[y];this.listOfRooms.push({Id:V.id,Selected:0==y,Name:V.translated_name})}}}getRoomName(i){let t=this.listOfRooms.find(o=>o.Id==i);return t?t.Name:""}NavigatedTo(i){this.Navigation.From||(this.Navigation.From=[]),this.Navigation.WizardName&&""!=this.Navigation.WizardName&&this.Navigation.From.push(this.Navigation.WizardName),this.Navigation.WizardName=i,this.searchTerm=""}ionViewWillLeave(){super.ionViewWillLeave(),this.unregisterBackButtonAction&&this.unregisterBackButtonAction.unsubscribe()}ionViewDidEnter(){var i=this;return(0,h.Z)(function*(){let t=yield i.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});t.present(),i.LoadAllDevices().then(o=>{t.dismiss()}),console.log("ionViewDidEnter DevicesManagementPage"),i.unregisterBackButtonAction=i.platform.backButton.subscribeWithPriority(101,(0,h.Z)(function*(){let o=i.closeAllDialog();o&&null!=(yield o).innerHTML&&(yield o).dismiss(),i.goBack()})),"add-device"==i.paramCommand&&i.NewCreateNewDevice(),i.paramDevice&&"edit-device"==i.paramCommand&&i.EditDevice(i.paramDevice)})()}closeAllDialog(){var i=this;return(0,h.Z)(function*(){return(yield i.loadingCtrl.getTop())||(yield i.modalController.getTop())||(yield i.toastCtrl.getTop())||(yield i.overlayCtrl.getTop())})()}SaveDevice(i=!1){var t=this;return(0,h.Z)(function*(){t.CurrentSlideName="";let o=yield t.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});if(i||o.present(),t.device.Visible=Number(t.device.Visible),t.device.Enabled=Number(t.device.Enabled),t.AddingNewDevice){let w=new m.mw;w.DeviceUiEntity(t.device.Id),t.device.deviceUiEntity=w,t.device.uiDataTranslationEntities=[],t.device.deviceUiControlEntityDTOs=[],t.device.devicePropertyEntities=null,t.device.deviceActionEntities=null,t.device.thingVoiceAssistantNameEntity&&(t.device.thingVoiceAssistantNameEntity.Enabled=Number(t.device.thingVoiceAssistantNameEntity.Enabled),t.device.thingVoiceAssistantNameEntity.ThingType=t.device.Type),t.device.deviceUiControlEntityDTOs=[],-1==t.device.ImageId&&(t.device.ImageId=t.imageList.find(_=>_.description.startsWith("Virtual")).id)}if(null==t.device.deviceUiEntity){let w=new m.mw;w.DeviceUiEntity(t.device.Id),t.device.deviceUiEntity=w}t.device.deviceUiControlEntityDTOs=[];let r=document.querySelectorAll("input[data-langname]");for(var s=0;s<r.length;s++){r[s].value=r[s].value;let w={FieldName:"Name",TableName:"Device",UiLanguageId:Number(r[s].getAttribute("data-langid")),Translation:r[s].value};t.device.uiDataTranslationEntities.push(w)}let d=document.querySelectorAll("textarea[data-voicecommandlangid]");for(var g=0;g<d.length;g++){d[s].value=d[g].value;let w=new m.EW;w.LanguageId=Number(d[g].getAttribute("data-voicecommandlangid")),w.Command=d[g].value,w.ThingType=t.device.Type,t.device.voiceCommandThingEntities.push(w)}t.device.interfaceMapEntity&&-1==t.device.interfaceMapEntity.InterfaceId&&(t.device.interfaceMapEntity=null),t.device.thingVoiceAssistantNameEntity&&(t.device.thingVoiceAssistantNameEntity.Enabled=Number(t.device.thingVoiceAssistantNameEntity.Enabled));let l=t.deviceHelper.getDeviceSavingEntity(t.device);x.a.DefaultController.SaveDeviceEntity(t.AddingNewDevice?"create":"update",l,t.device.Id).then(w=>{i||(x.a.DefaultController.LoadAllDeviceEntities(),t.LoadAllDevices().then(_=>{o&&o.innerHTML&&o.dismiss(),t.step=0,t.foundDevices=[],t.AddingNewDevice=!1,t.DeviceCreatorEnable=!1,t.NewDeviceCreatorEnable=!1,t.device=new m.G4,t.device.Name="",t.Metering_Properties=[],t.device.Visible=1})),"edit-device"==t.paramCommand&&t.goBack(!0)}).catch(w=>{console.error("Unable to Save",w),o&&o.innerHTML&&o.dismiss()})})()}goBack(i=!1){var t=this;return(0,h.Z)(function*(){let o=yield t.closeAllDialog();if(o&&o.innerHTML)o.dismiss();else if(t.Navigation.From.length>0){let r=t.AddingNewDevice,s=t.DeviceCreatorEnable;t.NavigateBack(),t.AddingNewDevice=r,t.DeviceCreatorEnable=s,console.log("Navigation back",t.DeviceCreatorEnable)}else if(t.Navigation.WizardName&&""!=t.Navigation.WizardName)t.NavigationClear();else if(t.wizardSlider&&t.wizardSlider.activeIndex>0){let r=t.wizardSlider.activeIndex-1;t.wizardSlider.isLocked=!1,t.wizardSlider.slidePrev(500),t.wizardSlider.isLocked=!0,t.CurrentSlideName=t.translate.instant(0==r?"General":1==r?"Metering":2==r?"Thing Mapping":3==r&&0!=t.device.thresholds.length?"Thresholds":"General")}else"add-device"!=t.paramCommand&&(t.AddingNewDevice||t.DeviceCreatorEnable)?t.disableEditing():(t.CurrentSlideName="",t.navCtrl.back(),console.log("Navigating Page"));i&&t.navCtrl.back()})()}NavigationClear(){console.log("Clearing Navigation"),this.step=0,this.Navigation.From=[],this.Navigation.WizardName="",this.cancelAll()}cancelAll(){console.log("cancelling all"),this.Navigation.From=[],this.Navigation.WizardName="",this.DeviceCreatorEnable||(this.device&&(this.device.Name=""),this.CurrentSlideName=""),this.showVoiceAssistant=!1,this.showVoiceNames=!1,this.show_details=!1,this.showAdvancedOptions=!1}NavigateBack(){if(this.Navigation.From.length<1)console.log("Navigation back, less than 1 from, doing nothing"),this.NavigationClear();else{console.log(this.Navigation.WizardName);let i=this.Navigation.From.pop();i&&(this.Navigation.WizardName=i)}console.log(this.Navigation)}___imageSelectChange(i){if(i&&-1!=i.ImageId){let o,t=this.imageList.filter(r=>r.id==i.ImageId);i&&(this.device.ImageId=i.ImageId,o=document.getElementsByClassName("dark-control img-list")[0].getElementsByClassName("select-text")[0]),o&&t[0]&&(o.innerHTML=t[0].description,o.innerHTML=o.innerHTML.concat('<img class="country-image" style = "margin-bottom: -6px;margin-left: 20px;width: 27px; height: 25px;" src = '+t[0].main_url+" /> "))}}disableEditing(){var i=this;return(0,h.Z)(function*(){(yield i.alertCtrl.create({header:i.translate.instant("cancel"),cssClass:"network-alert",message:i.translate.instant("are-you-sure-you-want-to-cancel-changes"),buttons:[{text:i.translate.instant("yes"),role:"null",handler:()=>{i.step=0,i.showFoundDevicesFlag=!1,i.DeviceCreatorEnable=!1,i.NewDeviceCreatorEnable=!1,i.AddingNewDevice=!1,i.device=null,i.deviceNameAvailable=!0,i.deviceNameEmpty=!1,i.Navigation.WizardName=null,i.CurrentSlideName="",("edit-device"==i.paramCommand||"add-device"==i.paramCommand)&&i.navCtrl.back()}},{text:i.translate.instant("no"),role:"cancel",handler:()=>{}}]})).present()})()}GetInterfaceMappingProperties(i,t,o){var r=this;return(0,h.Z)(function*(){r.interface_mapping_properties=[],r.device.interfaceMapEntity.InterfaceId=Number(i),r.device.interfaceMapEntity.ThingType=t,r.device.interfaceMapEntity.Id=0;let s=yield r.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});if(s.present(),(r.device.Capabilities&M.q.BatteryPowered)==M.q.BatteryPowered&&(r.device.Capabilities&M.q.PowerMetering)==M.q.PowerMetering?(r.interface_mapping_properties=[],s.dismiss()):yield x.a.DefaultController.GetInterfaceDeviceMappingProperties(i,t,o[0]).then(l=>{r.interface_mapping_properties=l,s&&s.innerHTML&&s.dismiss()}),r.device.interfaceMapPropertyEntities=[],r.interface_mapping_properties)for(var d=0;d<r.interface_mapping_properties.length;d++){let l=new m.kb;if(r.AddingNewDevice||(l.InterfaceMapId=r.device.interfaceMapEntity.Id),l.Name=r.interface_mapping_properties[d].Name,r.interface_mapping_properties[d].PossibleValues){let w=r.interface_mapping_properties[d].PossibleValues.length;for(var g=0;g<w;g++){let _=new m.ER;_.Name=r.interface_mapping_properties[d].PossibleValues[g].Name,_.Description=r.interface_mapping_properties[d].PossibleValues[g].Description,l.PossibleValues.push(_)}}r.interface_mapping_properties[d].DefaultValue&&(l.Value=r.interface_mapping_properties[d].DefaultValue),l.Description=r.interface_mapping_properties[d].Description,r.device.interfaceMapPropertyEntities.push(l)}})()}scrollToSelected(){setTimeout(function(){let i=document.getElementsByClassName("alert-radio-group")[0];if(i&&i.querySelector('[aria-checked="true"]')){let t=document.getElementsByClassName("alert-radio-group")[0].querySelector('[aria-checked="true"]');t&&setTimeout(function(){t.scrollIntoView()},400)}},5)}loadFlags(){if(this.imageList&&this.imageList.length>0)var i=this.imageList;let t;setTimeout(function(){let o=document.getElementsByClassName("alert-radio-label");for(let s=0;s<o.length;s++){let d=o[s+1];null!=i[s]&&(t=i[s].main_url,d.innerHTML.includes("<img")||(d.innerHTML=d.innerHTML.concat('<img class="country-image" style = "margin-bottom: -6px;float:inline-end;width: 27px; height: 25px;" src = '+t+" /> ")))}let r=document.getElementsByClassName("alert-radio-group")[0].querySelector('[aria-checked="true"]');r&&setTimeout(function(){r.scrollIntoView()},400)},5)}changingCapability(i,t){let o=[];if(o=i,0==o.length)o.push(0);else if(o.length>1){let r=o.findIndex(function(s){return 0==s});0==o[r]&&o.splice(r,1)}if(this.device.Capabilities=0,o.forEach(r=>{this.device.Capabilities+=r}),t){if(0==this.device.thresholds.length)0==this.device.Type?o[0]>0?this.GetThresholdsFields(this.device.Type,!0):this.device.thresholds=[]:this.GetThresholdsFields(this.device.Type,!0);else if(this.GetThresholdsFields(this.device.Type,!0),this.device.interfaceMapPropertyEntities.length>0){if((this.device.Capabilities&M.q.BatteryPowered)!=M.q.BatteryPowered)this.device.thresholds=this.device.thresholds.filter(r=>"BatteryLevel"!=r.Property),this.device.interfaceMapPropertyEntities=this.device.interfaceMapPropertyEntities.filter(r=>"BatteryItem"!=r.Name&&"BatteryInterface"!=r.Name);else{let r=new m.kb,s=this.device.interfaceMapPropertyEntities.find(d=>"Interface"==d.Name);s&&s.PossibleValues.length>0?(r.Name="BatteryInterface",r.Description="Battery Level Interface",r.PossibleValues=s.PossibleValues,r.Value=""):(r.Name="BatteryItem",r.Description="Battery Level Item",r.PossibleValues=[],r.Value=""),r.InterfaceMapId=this.device.interfaceMapEntity.Id,this.device.interfaceMapPropertyEntities.push(r)}if((this.device.Capabilities&M.q.PowerMetering)!=M.q.PowerMetering)this.device.thresholds=this.device.thresholds.filter(r=>"Power"!=r.Property&&"Energy"!=r.Property),this.device.interfaceMapPropertyEntities=this.device.interfaceMapPropertyEntities.filter(r=>"PowerItem"!=r.Name&&"EnergyItem"!=r.Name&&"PowerInterface"!=r.Name&&"EnergyInterface"!=r.Name);else{let r=new m.kb,s=this.device.interfaceMapPropertyEntities.find(d=>"Interface"==d.Name);r.InterfaceMapId=this.device.interfaceMapEntity.Id,s&&s.PossibleValues.length>0?(r.Name="PowerInterface",r.Description="Power Meter Interface",r.PossibleValues=s.PossibleValues,r.Value="",this.device.interfaceMapPropertyEntities.push(r),r=new m.kb,r.Name="EnergyInterface",r.Description="Energy Meter Interface",r.PossibleValues=s.PossibleValues,r.Value="",this.device.interfaceMapPropertyEntities.push(r)):(r.Name="PowerItem",r.Description="Power Meter Item",r.PossibleValues=[],r.Value="",this.device.interfaceMapPropertyEntities.push(r),r=new m.kb,r.Name="EnergyItem",r.Description="Energy Meter Item",r.PossibleValues=[],r.Value="",this.device.interfaceMapPropertyEntities.push(r))}(this.device.Capabilities&M.q.BatteryPowered)==M.q.BatteryPowered&&(this.device.Capabilities&M.q.PowerMetering)==M.q.PowerMetering&&(this.device.interfaceMapPropertyEntities=[])}else this.GetInterfaceMappingProperties(this.device.interfaceMapEntity.InterfaceId,this.device.Type,this.device.device_Capabilities);this.device.thresholds.sort((r,s)=>r.Property.localeCompare(s.Property))}}onClickCapability(){setTimeout(function(){let i=document.getElementsByClassName("alert-checkbox-group")[0];i&&(i.querySelector("button").hidden=!0)},50)}onChangeMeteringProperties(i){this.device.MeteringProperties="";for(var t=0;t<i.length;t++)this.device.MeteringProperties+=t==i.length-1?i[t]:i[t]+","}LoadAllDevices(){var i=this;return(0,h.Z)(function*(){let t,o=!0;for(let s=0;s<v.s.RetryRequests;s++){console.log("Trying to load device entities",s+1+"/3");try{let d=yield x.a.DefaultController.LoadAllDeviceEntities(),g=yield x.a.DefaultController.LoadAllInterfaceEntities(),l=yield x.a.DefaultController.voice_languages;d?(i.list_of_devices=yield x.a.DefaultController.LoadAllDevices(),i.list_of_interfaceTypes=g,i.voiceNames=l,i.filtered_list_of_device=d):(i.showErrorToast(i.translate.instant("no-data-found")),i.NetworkAlertRetrySuccessCallBack=i.errorHandler,i.NotifyEvents("no data returned from the server.",!0)),o=!1;break}catch(d){t=d,o=!0}}o&&t&&(console.error("unable to load data"),i.NetworkAlertRetrySuccessCallBack=i.errorHandler,i.NotifyEvents(t,!0),i.navCtrl.back());for(var r=0;r<i.filtered_list_of_device.length;r++){let s;null!=i.filtered_list_of_device[r].imageId&&(s=i.imageList.find(d=>d.id==i.filtered_list_of_device[r].imageId)),i.deviceImages.push(s?s.main_url:i.GetImageAsDeviceType(i.filtered_list_of_device[r].type))}i.paramRoom&&!i.paramDevice&&(i.listOfRooms=i.listOfRooms.filter(s=>s.Id==i.paramRoom.id),i.filtered_list_of_device=i.filtered_list_of_device.filter(s=>s.roomId==i.paramRoom.id)),i.paramDevice&&(i.filtered_list_of_device=i.filtered_list_of_device.filter(s=>s.id==i.paramDevice.id))})()}GetImageAsDeviceType(i){if(!i)return v.s.Images.virtual_device;switch(i){case f.Y.AcMeter:return v.s.Images.ac_meter;case f.Y.Camera:case f.Y.Camera:return v.s.Images.camera_devices;case f.Y.Dimmer:return v.s.Images.light._100;case f.Y.DoorBell:return v.s.Images.door_bell.active;case f.Y.DoorSensor:return v.s.Images.door_sensor.open;case f.Y.FloodSensor:return v.s.Images.flood_sensor.active;case f.Y.Generic:return v.s.Images.virtual_device;case f.Y.GenericMeter:return v.s.Images.generic_meter;case f.Y.HumiditySensor:return v.s.Images.humidity;case f.Y.LightSensor:return v.s.Images.light_sensor;case f.Y.Lock:return v.s.Images.door_lock.open;case f.Y.MotionSensor:return v.s.Images.motion_sensor.active;case f.Y.MultiMedia:return v.s.Images.multi_media_devices;case f.Y.OccupancySensor:return v.s.Images.occupancy_sensor.occupied;case f.Y.PowerMeter:return v.s.Images.power_meter;case f.Y.RemoteControl:return v.s.Images.remote_controller;case f.Y.RGB:return v.s.Images.rgbw_circle;case f.Y.Shutter:return v.s.Images.shutter._100;case f.Y.SmokeSensor:return v.s.Images.smoke_sensor.active;case f.Y.Switch:return v.s.Images.switch.on;case f.Y.TemperatureSensor:return v.s.Images.temperature_sensor;case f.Y.Thermostat:return v.s.Images.thermostat;case f.Y.VirtualDevice:return v.s.Images.virtual_device;case f.Y.WaterMeter:return v.s.Images.water_meter;default:return v.s.Images.virtual_device}}GetThresholdsFields(i,t){if(t){this.device.thresholds=this.AddingNewDevice?[]:this.device.thresholds.filter(g=>g.DeviceId>0&&g.DeviceType==i),this.AddingNewDevice&&0!=i&&(this.device.interfaceMapEntity=new m.Yb);let s,d=this.list_of_devices.find(g=>g.type==i);if(d&&d.properties)for(var o in d.properties)"BatteryLevel"!=o&&"ExcludeFromRoomControl"!=o&&"Online"!=o&&"OfflineReason"!=o&&"LastUpdated"!=o&&"LastChanged"!=o&&!o.endsWith("Precision")&&!o.endsWith("Unit")&&!o.endsWith("Support")&&!o.endsWith("Warning")&&(s=new m.Ms,s.Property=o,s.DeviceType=i,-1==this.device.thresholds.findIndex(l=>l.Property==s.Property)&&this.device.thresholds.push(s));if((this.device.Capabilities&M.q.BatteryPowered)==M.q.BatteryPowered?(s=new m.Ms,s.Property="BatteryLevel",s.DeviceType=i,-1==this.device.thresholds.findIndex(l=>l.Property==s.Property)&&this.device.thresholds.push(s)):this.device.thresholds=this.device.thresholds.filter(g=>"BatteryLevel"!=g.Property),(this.device.Capabilities&M.q.PowerMetering)==M.q.PowerMetering){s=new m.Ms,s.Property="Power",s.DeviceType=i;let g=this.device.thresholds.findIndex(l=>l.Property==s.Property);-1==g&&this.device.thresholds.push(s),s=new m.Ms,s.Property="Energy",s.DeviceType=i,g=-2,g=this.device.thresholds.findIndex(l=>l.Property==s.Property),-1==g&&this.device.thresholds.push(s)}else this.device.thresholds=this.device.thresholds.filter(g=>"Power"!=g.Property&&"Energy"!=g.Property);for(var r=0;r<this.device.voiceCommandThingEntities.length;r++)this.device.voiceCommandThingEntities[r].ThingType=i;this.device.thresholds.sort((g,l)=>g.Property.localeCompare(l.Property))}}getLanguageName(i){return this.uiLanguages.find(t=>t.id==i).name}NextSlide(i,t){i.swiper.slideTo(t,300),""==this.device.Name?(document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #e91e1e !important"),this.deviceNameEmpty=!0):document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #9696964d !important"),this.CurrentSlideName=this.translate.instant(1==t?"Metering":2==t?"Thing Mapping":"Thresholds")}previousSlide(i){this.wizardSlider.isLocked=!1;let t=i.swiper.activeIndex-1;t>=0&&i.swiper.slideTo(t,200),this.wizardSlider.isLocked=!0;let o=i.swiper.activeIndex;this.CurrentSlideName=this.translate.instant(0==o?"General":1==o?"Metering":2==o?"Thing Mapping":3==o&&0!=this.device.thresholds.length?"Thresholds":"General")}EditDevice(i,t=!1){var o=this;return(0,h.Z)(function*(){t||(o.CurrentSlideName=o.translate.instant("general")),o.device=new m.G4,o.AddingNewDevice=!1,o.DeviceCreatorEnable=!0,o.showAdvancedOptions=!1,o.showNameTraslation=!1,o.showVoiceNames=!1,o.showVoiceAssistant=!1;let r=yield o.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});return i&&i.id&&(t||r.present(),yield x.a.DefaultController.LoadAllDeviceEntityDTO(i.id).then(function(){var s=(0,h.Z)(function*(d){if(o.device=yield o.entityParser.ParseDeviceEntity(d),null==o.device.thingVoiceAssistantNameEntity&&(o.device.thingVoiceAssistantNameEntity=new m.yh),null==o.device.interfaceMapEntity&&(o.device.interfaceMapEntity=new m.Yb),null!=o.device.MeteringProperties&&""!=o.device.MeteringProperties){o.Metering_Properties=[],o.Metering_Properties=o.device.MeteringProperties.split(",");for(var g=0;g<o.Metering_Properties.length;g++)o.Metering_Properties[g]=Number(o.Metering_Properties[g])}if(o.changingCapability(o.device.device_Capabilities),o.device.voiceCommandThingEntities&&o.device.voiceCommandThingEntities.length>0){let _=[];for(var l=0;l<o.device.voiceCommandThingEntities.length;l++)_.push(o.device.voiceCommandThingEntities[l].LanguageId);_.unshift(_[0]-1),_.push(_[0]+1),o.voiceNames.sort(function(b,A){return _.indexOf(A.id)-_.indexOf(b.id)}),o.device.voiceCommandThingEntities.sort(function(b,A){return _.indexOf(A.LanguageId)-_.indexOf(b.LanguageId)})}else o.device.voiceCommandThingEntities=[];if(o.device.uiDataTranslationEntities&&o.device.uiDataTranslationEntities.length>0){let _=[];for(var w=0;w<o.device.uiDataTranslationEntities.length;w++)_.push(o.device.uiDataTranslationEntities[w].UiLanguageId);_.unshift(_[0]-1),_.push(_[0]+1),o.uiLanguages.sort(function(b,A){return _.indexOf(A.id)-_.indexOf(b.id)})}else o.device.uiDataTranslationEntities=[];0==o.device.thresholds.length&&0==o.device.Type?o.device.Capabilities>0&&o.GetThresholdsFields(o.device.Type,!0):o.GetThresholdsFields(o.device.Type,!0),t||r&&r.innerHTML&&r.dismiss()});return function(d){return s.apply(this,arguments)}}()).catch(s=>{console.error("Unable to Load",s),alert(s),r&&r.innerHTML&&r.dismiss()})),o.device})()}ShowSimpleLoadingController(){var i=this;return(0,h.Z)(function*(){let t=i.loadingCtrl.create({backdropDismiss:!0});return(yield t).present(),t})()}DuplicateDevice(i){var t=this;return(0,h.Z)(function*(){var r;(yield t.alertCtrl.create({header:t.translate.instant("duplicate"),cssClass:"network-alert",message:t.translate.instant("are-you-sure-you-want-to-duplicate"),inputs:[{name:"newName",placeholder:t.translate.instant("new-name"),handler:r=>{}}],buttons:[{text:t.translate.instant("yes"),handler:(r=(0,h.Z)(function*(s){if(!s.newName||""==s.newName)return t.showToast(t.translate.instant("name-required")),!1;let d=yield t.ShowSimpleLoadingController();x.a.DefaultController.LoadAllDeviceEntityDTO(i.id).then(function(){var g=(0,h.Z)(function*(l){if(l){if(l.id=void 0,l.deviceEntity.id=void 0,l.name=s.newName,l.deviceEntity.name=s.newName,l.uiDataTranslationEntities)for(let _=0;_<l.uiDataTranslationEntities.length;_++)l.uiDataTranslationEntities[_].id=void 0;if(l.interfaceMapEntity&&(l.interfaceMapEntity.id=void 0),l.deviceUiEntity&&(l.deviceUiEntity.id=void 0),l.thingVoiceAssistantNameEntity=new m.yh,l.interfaceMapPropertyEntities)for(let _=0;_<l.interfaceMapPropertyEntities.length;_++)l.interfaceMapPropertyEntities[_].id=void 0;if(l.deviceUiControlEntityDTOs)for(let _=0;_<l.deviceUiControlEntityDTOs.length;_++)if(l.deviceUiControlEntityDTOs[_].DeviceUiControl&&(l.deviceUiControlEntityDTOs[_].DeviceUiControl.id=void 0),l.deviceUiControlEntityDTOs[_].VoiceCommandThingUiControl)for(let b=0;b<l.deviceUiControlEntityDTOs[_].VoiceCommandThingUiControl.length;b++)l.deviceUiControlEntityDTOs[_].VoiceCommandThingUiControl[b].id=void 0;if(l.deviceActionEntities)for(let _=0;_<l.deviceActionEntities.length;_++)l.deviceActionEntities[_].id=void 0,l.deviceActionEntities[_].deviceId=void 0;if(l.devicePropertyEntities)for(let _=0;_<l.devicePropertyEntities.length;_++)l.devicePropertyEntities[_].id=void 0,l.devicePropertyEntities[_].deviceId=void 0;if(l.voiceCommandThingEntities)for(let _=0;_<l.voiceCommandThingEntities.length;_++)l.voiceCommandThingEntities[_].id=void 0,l.voiceCommandThingEntities[_].deviceId=void 0;if(l.thresholdEntities)for(let _=0;_<l.thresholdEntities.length;_++)l.thresholdEntities[_].id=void 0;(yield x.a.DefaultController.SaveDeviceEntity("create",l))&&t.LoadAllDevices().then(()=>{d.dismiss(),t.refreshElement()})}});return function(l){return g.apply(this,arguments)}}())}),function(d){return r.apply(this,arguments)})},{text:t.translate.instant("no"),role:"cancel"}],backdropDismiss:!0})).present()})()}changing(i){this.checkDeviceName(this.device.Name)}CreateNewDevice(){this.showAdvancedOptions=!1,this.AddingNewDevice=!0,this.device=new m.G4,this.device.thingVoiceAssistantNameEntity=new m.yh,this.device.voiceCommandThingEntities=[],this.device.thresholds=[],this.interface_mapping_properties=[];for(var i=0;i<this.voiceNames.length;i++){let t=new m.EW;t.LanguageId=this.voiceNames[i].id,t.ThingType=this.device.Type,this.device.voiceCommandThingEntities.push(t)}this.device.Name="",this.DeviceCreatorEnable=!0,this.device.Capabilities=0,this.CurrentSlideName=this.translate.instant("general")}checkDeviceName(i){if(null!=i)return i?(document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #9696964d !important"),this.deviceNameEmpty=!1,!1):(document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #e91e1e !important"),this.deviceNameEmpty=!0,!0)}SAS_Old_NextSlide(i,t){""==this.device.Name?(document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #e91e1e !important"),this.deviceNameEmpty=!0):document.getElementsByName("deviceName")[1].setAttribute("style","border:2px solid #9696964d !important"),this.CurrentSlideName=this.translate.instant(1==t?"Metering":2==t?"Thing Mapping":"Thresholds"),this.wizardSlider.isLocked=!1,i.swiper.slideTo(t,200),this.wizardSlider.isLocked=!0}DeleteDevice(i){var t=this;return(0,h.Z)(function*(){var r;(yield t.alertCtrl.create({header:t.translate.instant("delete"),cssClass:"network-alert",message:t.translate.instant("are-you-sure-you-want-to-delete"),buttons:[{text:t.translate.instant("yes"),role:"null",handler:(r=(0,h.Z)(function*(){let s;if(i&&i.id&&(s=i.id),i&&i.Id&&(s=i.Id),s){let d=yield t.loadingCtrl.create({backdropDismiss:!0,showBackdrop:!0});d.present(),x.a.DefaultController.DeleteDeviceEntity(s).then(g=>{t.LoadAllDevices().then(l=>{d&&d.innerHTML&&d.dismiss(),i.Id&&t.responseDevices.splice(t.responseDevices.findIndex(w=>w.Id==s),1),t.refreshElement()})})}}),function(){return r.apply(this,arguments)})},{text:t.translate.instant("no"),role:"cancel",handler:()=>{}}]})).present()})()}initializeItems(){this.filtered_list_of_device=this.list_of_devices}search(i){this.initializeItems();const t=i.target.value;t&&t.length>=2&&(this.searchQuery=t,t&&""!=t.trim()&&(this.filtered_list_of_device=this.list_of_devices.filter(o=>o.name.toLowerCase().indexOf(t.toLowerCase())>-1||o.roomName&&o.roomName.toLowerCase().indexOf(t.toLowerCase())>-1)))}}return(a=c).sampleData={Devices:[{Id:50,Name:"0xb43a31fffeddb69b state",RoomId:1,Type:1,Category:0,Capabilities:0,Enabled:!0,Visible:!0,Silent:!1,SortOrder:0,CreateBy:"admin",CreateDate:"2024-02-29T11:28:22.7230583+03:00",UpdateBy:"admin",UpdateDate:"2024-02-29T11:28:22.7230583+03:00",MeteringEnabled:!1,PermissionReadOnly:!1,tags:[],Thresholds:{},ThingType:1,ThingId:50,Properties:{Value:!1,ExcludeFromRoomControl:!1,InterfaceDevice:"0xb43a31fffeddb69b",Online:!1,OfflineReason:1,LastUpdated:null,LastChanged:"2024-02-29T11:28:23.2570841+03:00"},Actions:[{Name:"SetValue",Parameters:{Value:"Boolean"}},{Name:"TurnOn",Parameters:{}},{Name:"TurnOff",Parameters:{}},{Name:"SetExcludeFromRoomControl",Parameters:{ExcludeFromRoomControl:"Boolean"}},{Name:"Poll",Parameters:{}}],Translations:{},VoiceAssistantNameEnabled:!1,PropertyTypes:{Value:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",ExcludeFromRoomControl:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",InterfaceDevice:"System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",Online:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",OfflineReason:"EurekaSmartHome.Interface.Model.KnownOfflineReasons, EurekaSmartHome.Interface, Version=24.1.1.1555, Culture=neutral, PublicKeyToken=null",LastUpdated:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",LastChanged:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"}},{Id:51,Name:"0xb43a31fffeddb69b state2",RoomId:1,Type:1,Category:0,Capabilities:0,Enabled:!0,Visible:!0,Silent:!1,SortOrder:0,CreateBy:"admin",CreateDate:"2024-02-29T11:28:22.7230583+03:00",UpdateBy:"admin",UpdateDate:"2024-02-29T11:28:22.7230583+03:00",MeteringEnabled:!1,PermissionReadOnly:!1,tags:[],Thresholds:{},ThingType:1,ThingId:50,Properties:{Value:!1,ExcludeFromRoomControl:!1,InterfaceDevice:"0xb43a31fffeddb69b",Online:!1,OfflineReason:1,LastUpdated:null,LastChanged:"2024-02-29T11:28:23.2570841+03:00"},Actions:[{Name:"SetValue",Parameters:{Value:"Boolean"}},{Name:"TurnOn",Parameters:{}},{Name:"TurnOff",Parameters:{}},{Name:"SetExcludeFromRoomControl",Parameters:{ExcludeFromRoomControl:"Boolean"}},{Name:"Poll",Parameters:{}}],Translations:{},VoiceAssistantNameEnabled:!1,PropertyTypes:{Value:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",ExcludeFromRoomControl:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",InterfaceDevice:"System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",Online:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",OfflineReason:"EurekaSmartHome.Interface.Model.KnownOfflineReasons, EurekaSmartHome.Interface, Version=24.1.1.1555, Culture=neutral, PublicKeyToken=null",LastUpdated:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",LastChanged:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"}},{Id:52,Name:"0xb43a31fffeddb69b state3",RoomId:1,Type:1,Category:0,Capabilities:0,Enabled:!0,Visible:!0,Silent:!1,SortOrder:0,CreateBy:"admin",CreateDate:"2024-02-29T11:28:22.7230583+03:00",UpdateBy:"admin",UpdateDate:"2024-02-29T11:28:22.7230583+03:00",MeteringEnabled:!1,PermissionReadOnly:!1,tags:[],Thresholds:{},ThingType:1,ThingId:50,Properties:{Value:!1,ExcludeFromRoomControl:!1,InterfaceDevice:"0xb43a31fffeddb69b",Online:!1,OfflineReason:1,LastUpdated:null,LastChanged:"2024-02-29T11:28:23.2570841+03:00"},Actions:[{Name:"SetValue",Parameters:{Value:"Boolean"}},{Name:"TurnOn",Parameters:{}},{Name:"TurnOff",Parameters:{}},{Name:"SetExcludeFromRoomControl",Parameters:{ExcludeFromRoomControl:"Boolean"}},{Name:"Poll",Parameters:{}}],Translations:{},VoiceAssistantNameEnabled:!1,PropertyTypes:{Value:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",ExcludeFromRoomControl:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",InterfaceDevice:"System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",Online:"System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",OfflineReason:"EurekaSmartHome.Interface.Model.KnownOfflineReasons, EurekaSmartHome.Interface, Version=24.1.1.1555, Culture=neutral, PublicKeyToken=null",LastUpdated:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e",LastChanged:"System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"}}],Status:"Idle",RemainingTime:"00:01:08",AddedDevices:[{Id:0,Name:"0xb43a31fffeddb69b",Description:"1 gang switch",Vendor:"TuYa",Model:"TS0001",Visible:!0,Status:"joined",Endpoints:[{Id:50,Name:"state",Description:"On/off state of the switch",Type:"binary",EndpointType:"switch",Visible:!0,Status:"Idle",MappingType:"Switch",MappingProperties:{Endpoint:"0xb43a31fffeddb69b -> state"}},{Id:0,Name:"power_on_behavior",Description:"Controls the behavior when the device is powered on after power loss. If you get an `UNSUPPORTED_ATTRIBUTE` error, the device does not support it.",Type:"enum",EndpointType:"enum",Visible:!0,Status:"Idle"}]}],RemovedDevices:[]},a.\u0275fac=function(i){return new(i||a)(e.Y36(D.SH),e.Y36(D.IN),e.Y36(p.dr),e.Y36(D.HT),e.Y36(B.V0),e.Y36(D.Dh),e.Y36(D.yF),e.Y36(W.H7),e.Y36(D.Br),e.Y36(D.t4),e.Y36(e.R0b),e.Y36(J.sK),e.Y36(D.X1),e.Y36($.Z),e.Y36(D.BX),e.Y36(I.F0),e.Y36(D.Dh))},a.\u0275cmp=e.Xpm({type:a,selectors:[["devices-management"]],viewQuery:function(i,t){if(1&i&&(e.Gf(ee,5),e.Gf(p.W2,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.wizardSlider=o.first),e.iGM(o=e.CRH())&&(t.content=o.first)}},features:[e.qOj],decls:18,vars:13,consts:[["hideBackButton","true",2,"direction","ltr",3,"ngStyle"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["style","margin: 0px; text-align: center",4,"ngIf"],[2,"margin","0px","text-align","center"],["slot","end"],["item-end","","clear","",3,"click",4,"ngIf"],["padding","",4,"ngIf"],[3,"fullscreen",4,"ngIf"],["item-end","","clear","",3,"click"],["name","close-circle"],["name","add"],["name","star"],["padding",""],[4,"ngIf"],["animated","true","debounce","500",3,"placeholder","ionInput"],["class","sliding-list-item",4,"ngFor","ngForOf"],[1,"sliding-list-item"],["detail-push",""],["slot","start"],[3,"src"],[2,"text-overflow","ellipsis","overflow","hidden"],["slot","end","name","chevron-back"],["side","end"],[1,"edit-button",3,"click"],["name","create"],[1,"duplicate-button",2,"background-color","#388",3,"click"],["name","copy"],[1,"delete-button",3,"click"],["name","close"],["slides",""],[1,"swiper-no-swiping"],[2,"text-align","start"],["text-center","","name","deviceName","min","2","max","100","type","text","required","",3,"ngModel","ngModelChange","ionChange"],["deviceName",""],["style","\n                font-size: 15px;\n                color: #e91e1e;\n                font-weight: 900;\n                flex-wrap: nowrap;\n              ",4,"ngIf"],[2,"display","inline-flex"],[1,"dark-control",2,"max-width","96%","text-align","center","height","34px",3,"compareWith","ngModel","click","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","click","ngModelChange"],[3,"value"],["multiple","true",1,"dark-control","device-capability",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","click","ngModelChange"],[2,"display","none",3,"value"],[2,"width","50px","height","50px",3,"src","click"],[3,"click"],["name","caret-down",4,"ngIf"],["name","caret-up",4,"ngIf"],[1,"full-primary-button",2,"width","100%",3,"disabled","click"],[1,"full-primary-button",2,"width","98%",3,"click"],["text-center","",1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","ngModelChange"],["text-center","","multiple","true",1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","ngModelChange"],["text-center","","type","text","required","",3,"ngModel","ngModelChange"],[1,"full-primary-button",2,"width","100%",3,"click"],["class","full-primary-button","style","width: 100%",3,"click",4,"ngIf"],[2,"font-size","15px","color","#e91e1e","font-weight","900","flex-wrap","nowrap"],["name","caret-down"],["name","caret-up"],[4,"ngFor","ngForOf"],["text-center","","type","text","required",""],["text-center","","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["text-center","","type","text","required","",4,"ngIf"],["type","text","required",""],["type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","required","",4,"ngIf"],["type","text","required","",3,"ngModel","ngModelChange"],[2,"margin","16px 6px 0px 3px",3,"ngModel","ngModelChange"],["text-center","","min","0","type","number",3,"ngModel","ngModelChange"],[1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","ngModelChange"],["text-center","","name","sortOrder","min","0","type","number",3,"ngModel","ngModelChange"],["sortOrder",""],["class","dark-control","style","margin: 3px 8px; text-align: center; height: 34px",3,"compareWith","ngModel","click","ngModelChange",4,"ngIf"],[2,"white-space","pre-line"],["text-center","","type","text","required","",3,"ngModel","value","ngModelChange",4,"ngIf"],["text-center","","type","text",3,"ngModel","value","ngModelChange",4,"ngIf"],["text-center","","type","text","required","",3,"ngModel","value","ngModelChange"],["text-center","","type","text",3,"ngModel","value","ngModelChange"],[2,"text-align","start","padding","0"],["size","6"],[2,"text-align","center","border-right","1px solid #3f6587"],[2,"text-align","center"],[2,"width","100%","align-items","baseline","text-align","center","border-top","1px solid #3f6587","border-bottom","1px solid #3f6587"],["size","2",1,"ion-no-padding"],["text-center",""],["text-center","",2,"margin-top","-1px"],["text-center","","type","text","required","",1,"mobileInput",3,"value","ngModel","ngModelChange"],["text-center","","type","text","required","",1,"mobileInput","twoRowHeader",3,"value","ngModel","ngModelChange"],["text-center","","type","text","required","",1,"mobileInput",3,"ngModel","value","ngModelChange"],[3,"fullscreen"],["alt","Background image",1,"background-image",3,"src"],[2,"height","100%","width","100%","overflow","scroll","display","grid","grid-template-rows","1fr auto auto"],[2,"overflow","scroll"],["size","12"],[2,"height","100%","width","100%","overflow","scroll"],[2,"text-align","center","width","100%"],[1,"status-title"],[1,"status-header"],[1,"status-detail"],[1,"multi-line"],[2,"text-align","center","width","100%","overflow","scroll"],[2,"text-align","center","width","100%","min-height","13%"],[2,"--background","transparent"],["name","dots",2,"--color","white",3,"paused"],["class","clear-button control-button",3,"click",4,"ngIf"],[1,"clear-button","control-button",3,"click"],["class","gwdevice",4,"ngFor","ngForOf"],[1,"gwdevice"],[2,"width","100%"],["size","4"],[2,"max-width","12vh"],["alt","Device Image",3,"src"],["size","8"],["style","\n                      font-size: 15px;\n                      color: #e91e1e;\n                      font-weight: 900;\n                      flex-wrap: nowrap;\n                    ",4,"ngIf"],["style","\n                            font-size: 15px;\n                            color: #e91e1e;\n                            font-weight: 900;\n                            flex-wrap: nowrap;\n                          ",4,"ngIf"],["disabled","true",1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"compareWith","ngModel","click","ngModelChange"],["size","8",2,"display","inline-flex"],["style","width: 50px; height: 50px",3,"src","click",4,"ngIf"],[1,"clear-button",2,"width","98%",3,"click"],["name","trash",2,"color","red"],[1,"clear-button","rounded-border",2,"width","98%",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"a",2),e.NdJ("click",function(){return t.goBack()}),e._UZ(4,"ion-icon",3),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,te,2,1,"p",4),e.TgZ(9,"p",5),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-buttons",6),e.YNc(13,ne,2,0,"ion-button",7),e.YNc(14,ie,2,0,"ion-button",7),e.YNc(15,oe,2,0,"ion-button",7),e.qZA()()(),e.YNc(16,gt,4,3,"ion-content",8),e.YNc(17,Nt,32,15,"ion-content",9)),2&i&&(e.xp6(1),e.Q6J("ngStyle",t.theAppState.iontoolbarStyle),e.xp6(5),e.hij("",!t.NewDeviceCreatorEnable&&t.device&&t.device.Name?t.device.Name:e.lcZ(7,9,"devices")," "),e.xp6(2),e.Q6J("ngIf",""==t.Navigation.WizardName||null==t.Navigation.WizardName),e.xp6(2),e.hij(" ",e.lcZ(11,11,t.Navigation.WizardName)," "),e.xp6(3),e.Q6J("ngIf",t.DeviceCreatorEnable&&0==t.step),e.xp6(1),e.Q6J("ngIf",!t.DeviceCreatorEnable),e.xp6(1),e.Q6J("ngIf",!t.DeviceCreatorEnable&&t.isExperimentEnabled),e.xp6(1),e.Q6J("ngIf",!t.NewDeviceCreatorEnable&&0==t.step),e.xp6(1),e.Q6J("ngIf",t.step>0&&t.DeviceCreatorEnable&&t.NewDeviceCreatorEnable))},dependencies:[P.sg,P.O5,P.PC,T.JJ,T.Q7,T.On,p.BJ,p.YG,p.Sm,p.PM,p.Zi,p.Dq,p.nz,p.wI,p.W2,p.jY,p.Gu,p.gu,p.pK,p.Ie,p.IK,p.td,p.Q$,p.q_,p.Nd,p.VI,p.t9,p.n0,p.PQ,p.g2,p.wd,p.sr,p.w,p.as,p.QI,p.j9,p.yf,z.T,j.t,X.c,J.X$],styles:['.dark-control[_ngcontent-%COMP%], .device-btn[_ngcontent-%COMP%]{background:#333;max-width:99%;width:98%;height:45px;margin:4px;color:#fff;line-height:2.5}ion-slide[_ngcontent-%COMP%]{overflow:scroll}.list-md[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]{background:none;background-color:none}.slide-zoom[_ngcontent-%COMP%]{height:100%;background:none}.property-value-selector[_ngcontent-%COMP%]   .scale_50[_ngcontent-%COMP%]{background:none;box-shadow:none;width:50%}.property-value-selector[_ngcontent-%COMP%]   .scale_90[_ngcontent-%COMP%], .property-value-selector[_ngcontent-%COMP%]   .scale_100[_ngcontent-%COMP%]{background:none;box-shadow:none;width:90%}.ion-datetime[_ngcontent-%COMP%]{padding:0}.select-md[_ngcontent-%COMP%], .datetime-text[_ngcontent-%COMP%]{min-height:40px;border:1px solid gray;width:98%;display:block;flex:1;line-height:1.5;padding:6px;margin:5px;border-radius:5px;background:linear-gradient(to bottom,rgba(0,0,0,.1) 0%,rgba(0,0,0,.3) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a6000000",endColorstr="#00000000",GradientType=0);border:2px solid rgba(150,150,150,.3)}@media only screen and (max-width: 500px){.mobileInput[_ngcontent-%COMP%]{width:70px}}.twoRowHeader[_ngcontent-%COMP%]{margin-top:-13px}.badge-md[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:20px;font-size:small;background:#741598;padding:4px;border-radius:0}.row[_ngcontent-%COMP%]{margin:2px}.full-button[_ngcontent-%COMP%]{width:98%;display:block}.bottom-tag[_ngcontent-%COMP%]{border-bottom-right-radius:10px;width:250px;height:36px;line-height:2}.bottom-tag[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .bottom-tag[_ngcontent-%COMP%]   .button-clear-md[_ngcontent-%COMP%]{color:#fff}.condition-design[_ngcontent-%COMP%]{background:#182735;text-align:start;margin:3px 7px 0}.trigger-design[_ngcontent-%COMP%]{border:4px;margin-top:5px;padding-bottom:10px;background-color:#5353534d;box-shadow:1px 1px 3px #333;border-radius:3px}.color-tag[_ngcontent-%COMP%]{min-width:20px;display:inline-block;vertical-align:middle}.select-text[_ngcontent-%COMP%]{white-space:normal;padding:3px}.trigger-tag[_ngcontent-%COMP%]{color:#228b22}.full-label[_ngcontent-%COMP%]{white-space:normal;line-height:1.5}.device-tag[_ngcontent-%COMP%]{color:#00c8ff}.room-tag[_ngcontent-%COMP%]{color:tomato;font-size:smaller}.scroll-content[_ngcontent-%COMP%]{padding:2px!important}.property-tag[_ngcontent-%COMP%], .action-tag[_ngcontent-%COMP%]{color:gold}.value-tag[_ngcontent-%COMP%]{color:#7fff00}.number-tag[_ngcontent-%COMP%]{color:#0ff}.alert-md[_ngcontent-%COMP%]   .alert-checkbox-label[_ngcontent-%COMP%]{color:#fff!important}.alert-radio-label[_ngcontent-%COMP%]{text-overflow:clip!important;white-space:revert!important;font-size:1rem!important}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;filter:brightness(.75)}.status-title[_ngcontent-%COMP%]{--color: white;--my-color: white;font-size:xx-large;text-wrap:wrap!important;background:rgba(0,0,0,.5);border:2px solid;border-radius:12px;text-align:center}.status-header[_ngcontent-%COMP%]{--color: white;--my-color: white;font-size:x-large;text-wrap:wrap!important;margin-top:20px}.status-detail[_ngcontent-%COMP%]{--color: white;--my-color: white;font-size:large;text-wrap:wrap!important;margin-top:20px}.multi-line[_ngcontent-%COMP%]{--color: white;--my-color: white;white-space:pre-line;text-wrap:wrap!important;background:rgba(0,0,0,.5);padding:10px;text-align:start;border:2px solid;border-radius:12px;margin:0}.gwdevice[_ngcontent-%COMP%]{--my-color: white;--color:var(--my-color);border:2px;border-style:solid;margin-bottom:10px;color:var(--color);--ion-card-color: var(--color);font-size:1.4rem;background:rgba(0,0,0,.5)!important}.gwdevice[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{border:2px solid;border-color:#fff;border-radius:12px}.gwdevice[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:100%}.gwdevice[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .gwdevice[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--mybackground-contrast: rgba(0, 0, 0, .3);background-color:#0000004d!important;border-radius:6px}.gwdevice[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{align-items:center;text-align:start}.gwdevice[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:1px;padding-bottom:1px}.loading-wrapper.ion-overlay-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);border-radius:50%}.rounded-border[_ngcontent-%COMP%]{border-radius:12px}ion-loading[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{--color: white}ion-loading[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: white}.control-button[_ngcontent-%COMP%]{border-radius:6px;margin:auto;min-width:25vw}']}),c})()}];let At=(()=>{var a;class c{}return(a=c).\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[I.Bz.forChild(It),I.Bz]}),c})();var Et=u(23934),Ot=u(79773);let kt=(()=>{var a;class c{}return(a=c).\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[P.ez,T.u5,p.Pc,At,J.aw.forChild(),Et.o,Ot.D]}),c})()},59764:(L,E,u)=>{u.d(E,{T:()=>h});var P=u(15861),T=u(65879),p=u(56223),I=u(28662);let h=(()=>{var v;class x{mouseDownEventHandler(C){C.stopImmediatePropagation(),C.preventDefault()}keyEventHandler(C){var m=this;return(0,P.Z)(function*(){if(C.stopImmediatePropagation(),C.preventDefault(),"Enter"==C.key||" "==C.key){var N;let f=null===(N=document.activeElement)||void 0===N?void 0:N.className.toLowerCase();if(f&&(f.indexOf("range-knob-handle")>-1||f.indexOf("range-md")>-1)&&f.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let k=document.activeElement.getAttribute("aria-valuenow");if(k){let O=Number.parseFloat(k);if(O||0===O)return console.log("range-knob-handle value change to "+O),void m.model.update.emit(O)}}let q=m.el.nativeElement.nodeName.toLowerCase();const Z=yield I.A.getInfo();["button","ion-checkbox","a"].indexOf(q)>-1?"android"!==Z.operatingSystem.toLowerCase()&&m.el.nativeElement.click():"!android"!==Z.operatingSystem.toLowerCase()&&m.clickOnElement(m.el)}})()}clickOnElement(C){if(document.createEvent){let m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),C.nativeElement.dispatchEvent(m)}}mouseDownOnElement(C){let m=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});C.nativeElement.dispatchEvent(m)}constructor(C,m,N){this.el=C,this.renderer=m,this.model=N,this.eventEmitter=new T.vpe}ngOnInit(){}}return(v=x).\u0275fac=function(C){return new(C||v)(T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(p.On))},v.\u0275dir=T.lG2({type:v,selectors:[["","component-click",""]],hostBindings:function(C,m){1&C&&T.NdJ("mousedown",function(f){return m.mouseDownEventHandler(f)})("keypress",function(f){return m.keyEventHandler(f)})},outputs:{eventEmitter:"eventEmitter"},features:[T._Bn([p.On])]}),x})()},48753:(L,E,u)=>{u.d(E,{c:()=>T});var P=u(65879);let T=(()=>{var p;class I{constructor(v){this.elementRef=v}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(p=I).\u0275fac=function(v){return new(v||p)(P.Y36(P.SBq))},p.\u0275dir=P.lG2({type:p,selectors:[["","padding",""]]}),I})()}}]);