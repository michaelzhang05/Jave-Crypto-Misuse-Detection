"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6506],{87055:(L,A,p)=>{p.d(A,{g:()=>P});const P=(0,p(92726).fo)("App",{web:()=>p.e(2912).then(p.bind(p,62912)).then(h=>new h.AppWeb)})},25577:(L,A,p)=>{p.r(A),p.d(A,{UserManagementPageModule:()=>Be});var Z=p(96814),P=p(56223),h=p(73582),y=p(70160),b=p(15861),_=p(8873),N=p(9944),Q=p(90274),J=p(87055),j=p(37092),Y=p(56544),v=p(86235),c=p(75886),O=p(66004),k=p(31138),E=p(51141),G=p(15362),e=p(65879),U=p(34414),K=p(77935),R=p(46729),H=p(9482),I=p(63999);const F=["content"];function z(s,l){if(1&s&&e._UZ(0,"ion-icon",27),2&s){const i=e.oxw().$implicit,t=e.oxw(2);e.Udp("color",i.AdminLevel==t.AdminLevel.SystemAdmin?"gold":"silver")}}function B(s,l){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.hij(" | ",i.Email,"")}}function $(s,l){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.hij(" | ",i.Phone," ")}}function V(s,l){1&s&&e._UZ(0,"div",28)}function W(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-button",29),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.deleteUser(n.Id))}),e._UZ(1,"ion-icon",30),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"delete")," "))}function X(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-item-sliding",19)(1,"ion-item")(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"h2"),e.YNc(6,z,1,2,"ion-icon",20),e._uU(7),e.qZA(),e.TgZ(8,"p",21)(9,"strong"),e._uU(10),e.qZA(),e.YNc(11,B,2,1,"span",10),e.YNc(12,$,2,1,"span",10),e.qZA()(),e.TgZ(13,"ion-col",22),e._UZ(14,"ion-icon",8),e.qZA()()(),e.YNc(15,V,1,0,"div",23),e.qZA(),e.TgZ(16,"ion-item-options")(17,"ion-button",24),e.NdJ("click",function(){const o=e.CHM(i).$implicit,r=e.oxw(2);return e.KtG(r.openEditUser(o.Id))}),e._UZ(18,"ion-icon",25),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.YNc(21,W,4,3,"ion-button",26),e.qZA()()}if(2&s){const i=l.$implicit,t=l.last,n=e.oxw(2);e.xp6(6),e.Q6J("ngIf",i.AdminLevel),e.xp6(1),e.hij(" \xa0",i.DisplayName,""),e.xp6(3),e.Oqu(i.Username),e.xp6(1),e.Q6J("ngIf",i.Username&&i.Email),e.xp6(1),e.Q6J("ngIf",i.Username&&i.Phone),e.xp6(3),e.Q6J("ngIf",!t),e.xp6(4),e.hij(" ",e.lcZ(20,8,"edit")," "),e.xp6(2),e.Q6J("ngIf",n.current_user.id!=i.Id&&(i.AdminLevel==n.AdminLevel.NormalUser||n.current_user.admin_level==n.AdminLevel.SuperUser&&i.AdminLevel==n.AdminLevel.SuperUser||n.current_user.admin_level==n.AdminLevel.SystemAdmin&&i.admin_level==n.AdminLevel.SystemAdmin))}}function ee(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-searchbar",15),e.NdJ("ionInput",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.getItems(n))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"ion-item")(4,"ion-button",16),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.getAddUserPermissions())}),e.TgZ(5,"ion-label"),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"ion-item")(9,"ion-label",17),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,X,22,10,"ion-item-sliding",18),e.qZA()}if(2&s){const i=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"search")),e.xp6(5),e.Oqu(e.lcZ(7,6,"add-new-user")),e.xp6(4),e.Oqu(e.lcZ(11,8,"users")),e.xp6(2),e.Q6J("ngForOf",i.filtered_list_of_users)}}function te(s,l){1&s&&(e.TgZ(0,"ion-segment-button",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"rooms")," "))}function ne(s,l){1&s&&(e.TgZ(0,"ion-segment-button",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"devices")," "))}function ie(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"div",31)(1,"ion-segment",32),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.editExistingUserPage=n)}),e.TgZ(2,"ion-segment-button",33),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,te,3,3,"ion-segment-button",34),e.YNc(6,ne,3,3,"ion-segment-button",35),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.editExistingUserPage),e.xp6(2),e.hij(" ",e.lcZ(4,4,"info")," "),e.xp6(2),e.Q6J("ngIf",i.is_super_user),e.xp6(1),e.Q6J("ngIf",i.is_super_user)}}function se(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function oe(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function re(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function ae(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-button",59),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.confirmOtp("email",n.edit_existing_user.new_email,{Id:n.edit_existing_user.id}))}),e._UZ(1,"ion-icon",60),e.qZA()}}function le(s,l){1&s&&(e.TgZ(0,"ion-button",61),e._UZ(1,"ion-icon",62),e.qZA())}function _e(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function de(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-button",59),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.confirmOtp("phone",n.edit_existing_user.new_phone,{Id:n.edit_existing_user.id}))}),e._UZ(1,"ion-icon",60),e.qZA()}}function ge(s,l){1&s&&(e.TgZ(0,"ion-button",61),e._UZ(1,"ion-icon",62),e.qZA())}function ue(s,l){if(1&s&&e._UZ(0,"ion-icon",27),2&s){const i=e.oxw(3);e.Udp("color",i.edit_existing_user.admin_level==i.AdminLevel.SystemAdmin?"gold":"silver")}}function ce(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"invalid-email")))}function me(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"all-fields-required")," "))}function pe(s,l){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,ce,3,3,"li",63),e.YNc(2,me,3,3,"li",63),e.qZA()),2&s){e.oxw();const i=e.MAs(25),t=e.MAs(18),n=e.MAs(11);e.xp6(1),e.Q6J("ngIf",i.errors&&i.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.errors&&t.errors.required||i.errors&&i.errors.required||n.errors&&n.errors.required)}}function he(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.showResetPasswordDialog(n.edit_existing_user.id))}),e._UZ(1,"ion-icon",30),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"reset-password")," "))}function fe(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item")(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label",39),e._uU(7),e.ALo(8,"translate"),e.YNc(9,se,2,0,"span",10),e.qZA(),e.TgZ(10,"ion-input",40,41),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_display_name=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label",39),e._uU(14),e.ALo(15,"translate"),e.YNc(16,oe,2,0,"span",10),e.qZA(),e.TgZ(17,"ion-input",42,43),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_username=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",39),e._uU(21),e.ALo(22,"translate"),e.YNc(23,re,2,0,"span",10),e.qZA(),e.TgZ(24,"ion-input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_email=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA(),e.TgZ(26,"ion-badge",46),e.YNc(27,ae,2,0,"ion-button",47),e.YNc(28,le,2,0,"ion-button",48),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label",39),e._uU(31),e.ALo(32,"translate"),e.YNc(33,_e,2,0,"span",10),e.qZA(),e.TgZ(34,"ion-input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_phone=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA(),e.TgZ(36,"ion-badge",46),e.YNc(37,de,2,0,"ion-button",47),e.YNc(38,ge,2,0,"ion-button",48),e.qZA()(),e.TgZ(39,"div",38)(40,"ion-grid")(41,"ion-row")(42,"ion-col")(43,"ion-label",51),e.YNc(44,ue,1,2,"ion-icon",20),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"ion-col",52)(48,"ion-select",53),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.admin_level=n)}),e.TgZ(49,"ion-select-option",54),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"ion-select-option",55),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"ion-select-option",55),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"ion-select-option",55),e._uU(59),e.ALo(60,"translate"),e.qZA()()()()()(),e.YNc(61,pe,3,2,"ul",10),e.TgZ(62,"ion-item"),e.YNc(63,he,4,3,"button",56),e.qZA(),e.TgZ(64,"ion-item")(65,"button",57),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.editExistingUser())}),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"button",58),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.goBack())}),e._uU(69),e.ALo(70,"translate"),e.qZA()()()}if(2&s){const i=e.MAs(11),t=e.MAs(18),n=e.MAs(25),o=e.MAs(35),r=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,34,"edit-user")),e.xp6(4),e.Oqu(e.lcZ(8,36,"display-name")),e.xp6(2),e.Q6J("ngIf",i.errors&&i.errors.required),e.xp6(1),e.Q6J("ngModel",r.edit_existing_user.new_display_name),e.xp6(4),e.Oqu(e.lcZ(15,38,"username")),e.xp6(2),e.Q6J("ngIf",t.errors&&t.errors.required),e.xp6(1),e.Q6J("ngModel",r.edit_existing_user.new_username),e.xp6(4),e.Oqu(e.lcZ(22,40,"email")),e.xp6(2),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngModel",r.edit_existing_user.new_email),e.xp6(3),e.Q6J("ngIf",!r.edit_existing_user.email_confirmed||r.edit_existing_user.previous_email!=r.edit_existing_user.new_email),e.xp6(1),e.Q6J("ngIf",r.edit_existing_user.email_confirmed&&r.edit_existing_user.previous_email==r.edit_existing_user.new_email),e.xp6(3),e.Oqu(e.lcZ(32,42,"phone")),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required),e.xp6(1),e.Q6J("ngModel",r.edit_existing_user.new_phone),e.xp6(3),e.Q6J("ngIf",!r.edit_existing_user.phone_confirmed||r.edit_existing_user.previous_phone!=r.edit_existing_user.new_phone),e.xp6(1),e.Q6J("ngIf",r.edit_existing_user.phone_confirmed&&r.edit_existing_user.previous_phone==r.edit_existing_user.new_phone),e.xp6(6),e.Q6J("ngIf",r.edit_existing_user.admin_level!=r.AdminLevel.NormalUser),e.xp6(1),e.hij("\xa0",e.lcZ(46,44,"user-type"),""),e.xp6(3),e.Q6J("ngModel",r.edit_existing_user.admin_level),e.uIk("disabled",r.current_user.id==r.edit_existing_user.id),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(51,46,"normal-user")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(54,48,"super-user")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(57,50,"system-admin")),e.xp6(2),e.Q6J("value",3),e.xp6(1),e.Oqu(e.lcZ(60,52,"technical-support")),e.xp6(2),e.Q6J("ngIf",t.errors||n.errors||o.errors||i.errors),e.xp6(2),e.Q6J("ngIf",r.current_user.id!=r.edit_existing_user.id),e.xp6(2),e.uIk("disabled",t.errors||n.errors||o.errors||i.errors),e.xp6(1),e.hij(" ",e.lcZ(67,54,"update")," "),e.xp6(3),e.Oqu(e.lcZ(70,56,"back"))}}function xe(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e._UZ(4,"img",68),e.TgZ(5,"span",69),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",70)(8,"button",71),e.NdJ("click",function(){const o=e.CHM(i).$implicit,r=e.oxw(3);return e.KtG(r.switchPermissionE(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=l.$implicit,t=e.oxw(3);e.xp6(4),e.Udp("margin-left",30*i.level+"px"),e.Q6J("src",i.image_url,e.LSH),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,7,t.getPermissionString(i.Permission))," ")}}function ve(s,l){if(1&s&&(e.TgZ(0,"div")(1,"ul",66),e.YNc(2,xe,11,9,"li",67),e.qZA()()),2&s){const i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",i.list_of_rooms)}}function we(s,l){if(1&s&&e._UZ(0,"img",68),2&s){const i=e.oxw().$implicit;e.Q6J("src",i.image_url,e.LSH)}}function be(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e.YNc(4,we,1,1,"img",73),e.TgZ(5,"span",74),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",70)(8,"button",71),e.NdJ("click",function(){const o=e.CHM(i).$implicit,r=e.oxw(4);return e.KtG(r.switchPermissionE(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=l.$implicit,t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",i.image_url),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,5,t.getPermissionString(i.Permission))," ")}}function Ze(s,l){if(1&s&&(e.TgZ(0,"div")(1,"ion-label",72),e._uU(2),e.qZA(),e.TgZ(3,"ul",66),e.YNc(4,be,11,7,"li",67),e.qZA()()),2&s){const i=l.$implicit;e.xp6(2),e.Oqu(i.key),e.xp6(2),e.Q6J("ngForOf",i.values)}}function Pe(s,l){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Ze,5,2,"div",67),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.list_of_devices_group_by_room)}}function Ue(s,l){if(1&s&&(e.TgZ(0,"div",38),e.YNc(1,fe,71,58,"ion-list",10),e.YNc(2,ve,3,1,"div",10),e.YNc(3,Pe,2,1,"div",10),e.qZA()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngIf","info"==i.editExistingUserPage),e.xp6(1),e.Q6J("ngIf","rooms"==i.editExistingUserPage),e.xp6(1),e.Q6J("ngIf","devices"==i.editExistingUserPage)}}function Me(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"div",75)(1,"ion-segment",76),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.addNewPage=n)}),e.TgZ(2,"ion-segment-button",77),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-segment-button",36),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ion-segment-button",37),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.addNewPage),e.xp6(2),e.hij(" ",e.lcZ(4,4,"info")," "),e.xp6(3),e.hij(" ",e.lcZ(7,6,"rooms")," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"devices")," ")}}function Ce(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function Te(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function Ae(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function ye(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function Ne(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function qe(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function Oe(s,l){if(1&s&&e._UZ(0,"ion-icon",27),2&s){const i=e.oxw(3);e.Udp("color",i.add_new_user.admin_level==i.AdminLevel.SystemAdmin?"gold":"silver")}}function ke(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"password-must-be-atlest-4-character-long")))}function Ie(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"retype-password-must-be-same")))}function Se(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"invalid-email")))}function Le(s,l){1&s&&(e.TgZ(0,"li",64),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"all-fields-required")," "))}function Je(s,l){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,ke,3,3,"li",63),e.YNc(2,Ie,3,3,"li",63),e.YNc(3,Se,3,3,"li",63),e.YNc(4,Le,3,3,"li",63),e.qZA()),2&s){e.oxw();const i=e.MAs(39),t=e.MAs(46),n=e.MAs(25),o=e.MAs(18),r=e.MAs(11);e.xp6(1),e.Q6J("ngIf",i.errors&&i.errors.pattern),e.xp6(1),e.Q6J("ngIf",!t.value==i.value),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.pattern),e.xp6(1),e.Q6J("ngIf",o.errors&&o.errors.required||n.errors&&n.errors.required||i.errors&&i.errors.required||t.errors&&t.errors.required||r.errors&&r.errors.required)}}function Ee(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item")(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label",39),e._uU(7),e.ALo(8,"translate"),e.YNc(9,Ce,2,0,"span",10),e.qZA(),e.TgZ(10,"ion-input",79,80),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_display_name=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label",39),e._uU(14),e.ALo(15,"translate"),e.YNc(16,Te,2,0,"span",10),e.qZA(),e.TgZ(17,"ion-input",81,82),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_username=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",39),e._uU(21),e.ALo(22,"translate"),e.YNc(23,Ae,2,0,"span",10),e.qZA(),e.TgZ(24,"ion-input",83,84),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_email=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(26,"ion-item")(27,"ion-label",39),e._uU(28),e.ALo(29,"translate"),e.YNc(30,ye,2,0,"span",10),e.qZA(),e.TgZ(31,"ion-input",85,86),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_phone=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(33,"ion-item")(34,"ion-label",39),e._uU(35),e.ALo(36,"translate"),e.YNc(37,Ne,2,0,"span",10),e.qZA(),e.TgZ(38,"ion-input",87,88),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_password=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(40,"ion-item")(41,"ion-label",39),e._uU(42),e.ALo(43,"translate"),e.YNc(44,qe,2,0,"span",10),e.qZA(),e.TgZ(45,"ion-input",89,90),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.new_confirm_password=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(47,"div",38)(48,"ion-grid")(49,"ion-row")(50,"ion-col")(51,"ion-label",51),e.YNc(52,Oe,1,2,"ion-icon",20),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"ion-col",52)(56,"ion-select",53),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.add_new_user.admin_level=n)}),e.TgZ(57,"ion-select-option",54),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"ion-select-option",55),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"ion-select-option",55),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"ion-select-option",55),e._uU(67),e.ALo(68,"translate"),e.qZA()()()()()(),e.YNc(69,Je,5,4,"ul",10),e.TgZ(70,"ion-item")(71,"ion-button",91),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.addNewUser())}),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"ion-button",92),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.goBack())}),e._uU(75),e.ALo(76,"translate"),e.qZA()()()}if(2&s){const i=e.MAs(11),t=e.MAs(18),n=e.MAs(25),o=e.MAs(32),r=e.MAs(39),a=e.MAs(46),d=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,34,"new-user")),e.xp6(4),e.Oqu(e.lcZ(8,36,"display-name")),e.xp6(2),e.Q6J("ngIf",i.errors&&i.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_display_name),e.xp6(4),e.Oqu(e.lcZ(15,38,"username")),e.xp6(2),e.Q6J("ngIf",t.errors&&t.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_username),e.xp6(4),e.Oqu(e.lcZ(22,40,"email")),e.xp6(2),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_email),e.xp6(4),e.Oqu(e.lcZ(29,42,"phone")),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_phone),e.xp6(4),e.Oqu(e.lcZ(36,44,"password")),e.xp6(2),e.Q6J("ngIf",r.errors&&r.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_password),e.xp6(4),e.Oqu(e.lcZ(43,46,"retype-password")),e.xp6(2),e.Q6J("ngIf",a.errors&&a.errors.required),e.xp6(1),e.Q6J("ngModel",d.add_new_user.new_confirm_password),e.xp6(7),e.Q6J("ngIf",d.add_new_user.admin_level!=d.AdminLevel.NormalUser),e.xp6(1),e.hij("\xa0",e.lcZ(54,48,"user-type"),""),e.xp6(3),e.Q6J("ngModel",d.add_new_user.admin_level),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(59,50,"normal-user")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(62,52,"super-user")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(65,54,"system-admin")),e.xp6(2),e.Q6J("value",3),e.xp6(1),e.Oqu(e.lcZ(68,56,"technical-support")),e.xp6(2),e.Q6J("ngIf",t.errors||n.errors||o.errors||i.errors||r.errors||a.errors||a.value!=r.value),e.xp6(2),e.Q6J("disabled",t.errors||n.errors||o.errors||i.errors||r.errors||a.errors||a.value!=r.value),e.xp6(1),e.hij(" ",e.lcZ(73,58,"add")," "),e.xp6(3),e.Oqu(e.lcZ(76,60,"back"))}}function De(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e._UZ(4,"img",68),e.TgZ(5,"span",69),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",70)(8,"button",71),e.NdJ("click",function(){const o=e.CHM(i).$implicit,r=e.oxw(3);return e.KtG(r.switchPermissionA(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=l.$implicit,t=e.oxw(3);e.xp6(4),e.Udp("margin-left",30*i.level+"px"),e.Q6J("src",i.image_url,e.LSH),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,7,t.getPermissionString(i.Permission))," ")}}function Qe(s,l){if(1&s&&(e.TgZ(0,"div")(1,"ul",66),e.YNc(2,De,11,9,"li",67),e.qZA()()),2&s){const i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",i.list_of_rooms)}}function je(s,l){if(1&s&&e._UZ(0,"img",68),2&s){const i=e.oxw().$implicit;e.Q6J("src",i.image_url,e.LSH)}}function Ye(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e.YNc(4,je,1,1,"img",73),e.TgZ(5,"span",74),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",70)(8,"button",71),e.NdJ("click",function(){const o=e.CHM(i).$implicit,r=e.oxw(4);return e.KtG(r.switchPermissionA(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=l.$implicit,t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",i.image_url),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,5,t.getPermissionString(i.Permission))," ")}}function Ge(s,l){if(1&s&&(e.TgZ(0,"div")(1,"ion-label",72),e._uU(2),e.qZA(),e.TgZ(3,"ul",66),e.YNc(4,Ye,11,7,"li",67),e.qZA()()),2&s){const i=l.$implicit;e.xp6(2),e.Oqu(i.key),e.xp6(2),e.Q6J("ngForOf",i.values)}}function Ke(s,l){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Ge,5,2,"div",67),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.list_of_devices_group_by_room)}}function Re(s,l){if(1&s&&(e.TgZ(0,"div",78),e.YNc(1,Ee,77,62,"ion-list",10),e.YNc(2,Qe,3,1,"div",10),e.YNc(3,Ke,2,1,"div",10),e.qZA()),2&s){const i=e.oxw();e.Q6J("ngSwitch",i.addNewPage),e.xp6(1),e.Q6J("ngIf","info"==i.addNewPage),e.xp6(1),e.Q6J("ngIf","rooms"==i.addNewPage),e.xp6(1),e.Q6J("ngIf","devices"==i.addNewPage)}}const He=[{path:"",component:(()=>{var s;class l extends Y.n{get dashboard_mode_enabled(){return _.a.DashboardMode}set dashboard_mode_enabled(t){_.a.DashboardMode=t}get dashboard_mode_id(){return _.a.DashboardId}set dashboard_mode_id(t){_.a.DashboardId=t}get shake_enabled(){return _.a.ShakeEnabled}set shake_enabled(t){_.a.ShakeEnabled=t}get shakeFrequency(){return _.a.ShakeFrequency}set shakeFrequency(t){_.a.ShakeFrequency=t}constructor(t,n,o,r,a,d,f,w,T,m,g,u,x,M,C,q,S,$e,Ve,We,Xe){if(super(o,x,M,C,t,q,!1,S),this.navCtrl=t,this.settings=n,this.api=o,this.toastCtrl=r,this.loadingCtrl=a,this.actionSheetCtrl=d,this.events=f,this.viewCtrl=w,this.ionicApp=T,this.formBuilder=m,this.navParams=g,this.popoverCtrl=u,this.platform=x,this.alertController=M,this.translate=C,this.router=S,this.renderer=$e,this.RouterOutlet=Ve,this.modalCtrl=We,this.overlayCtrl=Xe,this.form_edited=!1,this.addNewPage="info",this.editExistingUserPage="info",this.add_new_user={admin_level:c.Z.NormalUser,admin_level_name:"user",new_display_name:"",new_username:"",new_email:"",email_confirmed:!1,phone_confirmed:!1,new_phone:"",new_password:"",new_confirm_password:"",permissions:[]},this.edit_existing_user={id:-1,new_display_name:"",new_username:"",admin_level:c.Z.NormalUser,admin_level_name:"user",new_email:"",previous_email:"",email_confirmed:!1,phone_confirmed:!1,new_phone:"",previous_phone:"",new_password:"",new_confirm_password:"",permissions:[]},this.settingsReady=!1,this.notificationSettings={page:"updateNotification",pageTitleKey:"notification",mobile_notification_id:-1,mobile_device_notification:!1,list_of_notification_devices_by_room:[]},this.addUserSettings={page:"addNewUser",pageTitleKey:"ADD_NEW_USER_PAGE",data:void 0},this.editExistingUserSetting={page:"editExistingUser",pageTitleKey:"EDIT_USER_PAGE",data:void 0},this.listUserSettings={page:"listUsers",pageTitleKey:"LIST_USER_PAGE"},this.profileSettings={page:"profile",pageTitleKey:"SETTINGS_PAGE_PROFILE"},this.deviceSettings={page:"deviceSettings",pageTitleKey:"device-settings"},this.deviceInfo={page:"systemInfo",pageTitleKey:"SYSTEMINFO"},this.changeRoom={page:"changeRoom",pageTitleKey:"SETTINGS_PAGE_CHANGE_DEFAULT_ROOM"},this.page="main",this.pageTitleKey="user-management",this.subSettings=l,this.AdminLevel=c.Z,this.cancelLabel="",this.app_version="",this.logoutLabel="",this.logout_confirmation="",this.current_IP="",this.is_super_user=!1,this.default_room=new Q.d,this.list_of_rooms=null,this.list_of_devices_group_by_room=null,this.unique_device_id="",this.theAppState=_.a,this.current_lang="en",this.errorLabel="",this.list_of_users=[],this.discardChangesPrompt=void 0,this.searchQuery="",this.filtered_list_of_users=[],this.registerBackButtonOnSettings(),S.getCurrentNavigation().extras.state){const D=this.router.getCurrentNavigation().extras.state;console.log(D," params"),this.navParams.data=D}null!=_.a.DefaultController?(_.a.DefaultController.user&&(this.is_super_user=_.a.DefaultController.user.is_super_user),this.current_user=_.a.DefaultController.user,this.default_room.name="all",this.default_room=_.a.DefaultController.default_room,this.logoutLabel=this.translate.instant("logout"),this.cancelLabel=this.translate.instant("cancel"),this.logout_confirmation=this.translate.instant("logout-confirmation"),k.B.dismissLoading2()):t.navigateForward(E.g6)}indentRoom(t,n=[],o){t.level=o,n.push(t),o++;for(let r=0;r<t.children_rooms.length;r++)this.indentRoom(t.children_rooms[r],n,o)}list_to_tree(t){let o,n={},r=[];for(let a=0;a<t.length;a+=1)n[t[a].id]=a,t[a].children_rooms=[];for(let a=0;a<t.length;a+=1)o=t[a],void 0!==o.parent_id?null!=n[o.parent_id]&&null!=t[n[o.parent_id]]&&t[n[o.parent_id]].children_rooms.push(o):r.push(o);return r}_buildForm(){var t=this;return(0,b.Z)(function*(){let n={option_lang:[t.options.option_lang],option_speech_lang:[t.options.option_speech_lang],showCameraThumbnail:t.options.showCameraThumbnail,hideStatusbar:t.options.hideStatusbar};switch(t.page){case"main":case"listUsers":t.getAllUsers();break;case"addNewUser":if(null!=t.navParams.data.data){let o=_.a.DefaultController.ProcessAllRooms(t.navParams.data.data.rooms);t.list_of_rooms=null==o?_.a.DefaultController.rooms.slice():o;let r=t.list_to_tree(t.list_of_rooms);for(let m=0;m<r.length;m++)t.indentRoom(r[m],[],0);let a=[];for(let m=0;m<t.list_of_rooms.length;m++){let g=t.list_of_rooms[m],u=new O.t;u.object_name=g.translated_name,u.id=m,u.image_url=g.image_url,u.object_type=v.ko.Room,u.Permission=g.Permission,u.object_id=g.id,u.level=g.level,u.parent_id=g.parent_id,a.push(u)}t.list_of_rooms=a;let d=t.navParams.data.data.devices,f=!0;null==d&&(f=!1,null!=_.a.DefaultController.devices&&(d=_.a.DefaultController.devices.slice()),null!=_.a.DefaultController.scenes&&d.concat(_.a.DefaultController.scenes.slice()));let w=f?yield _.a.DefaultController.ProcessDevicesToList(d,o):d;f&&(w=w.concat(yield _.a.DefaultController.ProcessAllScenes(t.navParams.data.data.scenes,o)));let T=[];for(let m=0;m<w.length;m++){let g=w[m],u=new O.t;u.object_name=g.translated_name,u.object_type=g.is_device?v.ko.Device:v.ko.Scene,u.id=m,u.object_id=g.id,g.image_id&&(u.image_url=null!=g.image_id.main_url?g.image_id.main_url:g.image_url),g.room&&(u.group_by=g.room.translated_name),T.push(u)}if(t.list_of_devices_group_by_room=t.groupByArray(T,"group_by"),t.navParams.data.data.permissions&&t.navParams.data.data.permissions.length>0)for(let m=0;m<t.navParams.data.data.permissions.length;m++){let g=t.navParams.data.data.permissions[m],u=t.list_of_rooms.find(x=>x.object_id==g.ObjectId&&x.object_type==v.ko.Room);null!=u&&(u.Permission=g.Permission);for(let x=0;x<t.list_of_devices_group_by_room.length;x++){let M=t.list_of_devices_group_by_room[x];if(null!=M.values)for(let C=0;C<M.values.length;C++){let q=M.values[C];q.object_id==g.ObjectId&&q.object_type==g.ObjectType&&(q.Permission=g.Permission)}}}}break;case"editExistingUser":if(console.log(t.navParams.data),null!=t.navParams.data.data){t.edit_existing_user.id=t.navParams.data.data.Id,t.edit_existing_user.new_email=t.navParams.data.data.Email,t.edit_existing_user.previous_email=t.navParams.data.data.Email,t.edit_existing_user.email_confirmed=t.navParams.data.data.EmailConfirmed,t.edit_existing_user.phone_confirmed=t.navParams.data.data.PhoneConfirmed,t.edit_existing_user.new_phone=t.navParams.data.data.Phone,t.edit_existing_user.previous_phone=t.navParams.data.data.Phone,t.edit_existing_user.new_username=t.navParams.data.data.Username,t.edit_existing_user.new_display_name=t.navParams.data.data.DisplayName,t.edit_existing_user.admin_level=t.navParams.data.data.AdminLevel,t.edit_existing_user.admin_level_name=t.edit_existing_user.admin_level==c.Z.SuperUser?"super-user":t.edit_existing_user.admin_level==c.Z.SystemAdmin?"system-admin":"user",t.edit_existing_user.permissions=t.navParams.data.data.permissions;let o=_.a.DefaultController.ProcessAllRooms(t.navParams.data.data.rooms);t.list_of_rooms=null==o?_.a.DefaultController.rooms.slice():o;let r=t.list_to_tree(t.list_of_rooms);for(let m=0;m<r.length;m++)t.indentRoom(r[m],[],0);let a=[];for(let m=0;m<t.list_of_rooms.length;m++){let g=t.list_of_rooms[m],u=new O.t;u.object_name=g.translated_name,u.id=m,u.image_url=g.image_url,u.object_type=v.ko.Room,u.object_id=g.id,u.level=g.level,u.parent_id=g.parent_id,a.push(u)}t.list_of_rooms=a;let d=t.navParams.data.data.devices,f=!0;null==d&&(f=!1,null!=_.a.DefaultController.devices&&(d=_.a.DefaultController.devices.slice()),null!=_.a.DefaultController.scenes&&d.concat(_.a.DefaultController.scenes.slice()));let w=f?yield _.a.DefaultController.ProcessDevicesToList(d,o):d;f&&(w=w.concat(yield _.a.DefaultController.ProcessAllScenes(t.navParams.data.data.scenes,o)));let T=[];for(let m=0;m<w.length;m++){let g=w[m],u=new O.t;u.object_name=g.translated_name,u.object_type=g.is_device?v.ko.Device:v.ko.Scene,u.id=m,u.object_id=g.id,g.image_id&&(u.image_url=null!=g.image_id.main_url?g.image_id.main_url:g.image_url),g.room&&(u.group_by=g.room.translated_name),T.push(u)}if(t.list_of_devices_group_by_room=t.groupByArray(T,"group_by"),t.navParams.data.data.permissions&&t.navParams.data.data.permissions.length>0){console.log(t.navParams.data.data.permissions.length);for(let m=0;m<t.navParams.data.data.permissions.length;m++){let g=t.navParams.data.data.permissions[m];if(g.ObjectType==v.ko.Room)for(let u=0;u<t.list_of_rooms.length;u++){let x=t.list_of_rooms[u];x.object_id==g.ObjectId&&x.object_type==v.ko.Room&&(x.Permission=g.Permission)}for(let u=0;u<t.list_of_devices_group_by_room.length;u++){let x=t.list_of_devices_group_by_room[u];if(null!=x.values)for(let M=0;M<x.values.length;M++){let C=x.values[M];C.object_id==g.ObjectId&&C.object_type==g.ObjectType&&(C.Permission=g.Permission)}}}}}break;case"profile":n={current_password:"",new_password:"",retype_password:""}}t.form=t.formBuilder.group(n),t.form.valueChanges.subscribe(o=>{t.settings.merge(t.form.value)})})()}updatePermissionA(t,n,o){o=Number.parseInt(o.toString()),console.log(t,n,o);let r=this.add_new_user.permissions.find(a=>a.ObjectId==t&&a.ObjectType==n);if(null==r){console.log("adding new permission");let a=new v.$z(n,t,o);this.add_new_user.permissions.push(a)}else console.log("editing existing permission"),r.Read=o;console.log(this.add_new_user.permissions)}updatePermissionE(t,n,o){o=Number.parseInt(o.toString()),console.log(t,n,o);let r=this.edit_existing_user.permissions.find(a=>a.ObjectId==t&&a.ObjectType==n);if(null==r){console.log("adding new permission");let a=new v.$z(n,t,o);this.edit_existing_user.permissions.push(a)}else console.log("editing existing permission"),r.Permission=o;console.log(this.edit_existing_user.permissions)}groupByArray(t,n){return t.reduce((o,r)=>{let a=n instanceof Function?n(r):r[n],d=o.find(f=>f&&f.key===a);return d?d.values.push(r):o.push({key:a,values:[r]}),o},[])}groupBy(t,n){return t.reduce((o,r)=>((o[r[n]]=o[r[n]]||[]).push(r),o),{})}ionViewDidEnter(){if(this.form_edited=!1,super.ionViewDidEnter(),this.form=this.formBuilder.group({}),this.router.getCurrentNavigation()&&this.router.getCurrentNavigation().extras.state){const t=this.router.getCurrentNavigation().extras.state;console.log(t," params"),this.navParams.data=t}this.navParams.data&&(this.page=this.navParams.data.page||this.page,this.pageTitleKey=this.navParams.data.pageTitleKey||this.pageTitleKey,this.pageTitle=this.translate.instant(this.pageTitleKey))}ionViewDidLeave(){super.ionViewDidLeave(),this.form_edited=!1}ionViewWillEnter(){console.log(this.navParams),console.log("ionViewWillEnter"),super.ionViewWillEnter(),this.form=this.formBuilder.group({}),this.settings.load().then(()=>{this.settingsReady=!0,this.options=this.settings.allSettings,this.form=this.formBuilder.group({}),this._buildForm()})}get AppIcon(){return j.Y.getAppLogo}OpenLoginPage(){this.settings.setValue("ipaddress",null),this.navCtrl.navigateRoot(E.g6,{state:{is_logout:!0},animated:!0,animationDirection:"forward"})}changePassword(){let t=this.form.get("current_password").value,n=this.form.get("new_password").value,r=n==this.form.get("retype_password").value,a=n.length<=1,d=_.a.DefaultController.password==t;0==r&&(this.errorLabel="New and Retype Password must be same"),a&&(this.errorLabel+=this.errorLabel.length>1?" | Password must be atleast one character long":"Password must be atleast one character long"),0==d&&(this.errorLabel.length>1?this.errorLabel+=" | Invalid current password":this.errorLabel="Invalid current password"),0!=r&&0!=d&&1!=a?_.a.DefaultController.ChangePassword(t,n).then(f=>{f?(this.settings.setValue("username",null),this.settings.setValue("password",null),this.settings.setValue("ipaddress",null),this.showToast("password changed successfully!"),this.navCtrl.pop()):this.showToast("unable to change password")}):this.showToast(this.errorLabel,5e3,"bottom")}showToast(t,n=3e3,o="bottom"){var r=this;return(0,b.Z)(function*(){(yield r.toastCtrl.create({message:t,duration:n,position:o})).present()})()}ngOnChanges(){console.log("Ng All Changes")}presentLogoutActionSheet(){var t=this;return(0,b.Z)(function*(){t.logoutLabel=t.translate.instant("logout"),t.cancelLabel=t.translate.instant("cancel"),t.logout_confirmation=t.translate.instant("logout-confirmation"),(yield t.actionSheetCtrl.create({header:t.logout_confirmation,cssClass:"action-sheet-container",buttons:[{text:t.logoutLabel,icon:"log-out",role:"destructive",handler:()=>{t.performLogout(),console.log("Logout clicked")}},{text:t.cancelLabel,icon:"close-circle",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}setDefaultRoom(t){_.a.DefaultController.default_room=this.default_room=t,this.goBack()}getAllUsers(){var t=this;return(0,b.Z)(function*(){try{if(_.a.DefaultController){let n=yield _.a.DefaultController.GetAllUsers();n&&(t.list_of_users=n.sort((o,r)=>o.Id<r.Id),t.initializeItems())}k.B.dismissLoading2()}catch(n){t.NetworkAlertRetrySuccessCallBack=t.getAllUsersErrorHandler,t.NotifyEvents(n,!0),k.B.dismissLoading2(),console.error(n)}})()}getAllUsersErrorHandler(){this.getAllUsers()}addNewUser(){null!=this.add_new_user.new_username&&""!=this.add_new_user.new_username&&null!=this.add_new_user.new_email&&""!=this.add_new_user.new_confirm_password&&this.add_new_user.new_password==this.add_new_user.new_confirm_password&&(console.warn(this.add_new_user.admin_level),_.a.DefaultController.AddNewUser({Username:this.add_new_user.new_username,DisplayName:this.add_new_user.new_username,AdminLevel:this.add_new_user.admin_level,Email:this.add_new_user.new_email,Phone:this.add_new_user.new_phone,EmailConfirmed:this.add_new_user.email_confirmed,PhoneConfirmed:this.add_new_user.phone_confirmed},this.add_new_user.new_password,this.add_new_user.permissions).then(t=>{1==t.body.result&&(this.showToast(this.translate.instant("user-has-been created"),4e3,"bottom"),console.log(this.add_new_user.new_username+", User has been created"),this.getAllUsers(),this.clearAddNewUserForm(),this.reloadsettings(void 0))}))}editMyUser(){null!=_.a.DefaultController&&null!=_.a.DefaultController.user&&this.openEditUser(_.a.DefaultController.user.id,!0,!0)}dataChanged(){this.add_new_user.new_display_name=this.add_new_user.new_display_name.trim(),this.add_new_user.new_username=this.add_new_user.new_username.trim(),this.add_new_user.new_phone=this.add_new_user.new_phone.trim(),this.add_new_user.new_email=this.add_new_user.new_email.trim(),this.edit_existing_user.new_display_name=this.edit_existing_user.new_display_name.trim(),this.edit_existing_user.new_username=this.edit_existing_user.new_username.trim(),this.edit_existing_user.new_phone=this.edit_existing_user.new_phone.trim(),this.edit_existing_user.new_email=this.edit_existing_user.new_email.trim(),this.form_edited=!0,console.warn("Form has been edited,"+this.form_edited)}performLogout(){null!=_.a.DefaultController&&null!=_.a.DefaultController.lastRefreshCall&&(_.a.DefaultController.logout(),this.OpenLoginPage())}showResetPasswordDialog(t){var n=this;return(0,b.Z)(function*(){(yield n.alertCtrl.create({header:n.translate.instant("reset-password"),message:"",cssClass:"network-alert",inputs:[{name:"password",type:"password",placeholder:n.translate.instant("password")},{name:"retype_password",type:"password",placeholder:n.translate.instant("retype-password")}],buttons:[{text:n.translate.instant("cancel"),handler:r=>{console.log("Cancel clicked")}},{text:n.translate.instant("change"),handler:r=>{let a="",d=!1;if(r.password!=r.retype_password&&(d=!0,a=n.translate.instant("new-and-retype-password-must-be-same")),(r.password.length<4||r.retype_password<4)&&(d=!0,a+=" "+n.translate.instant("password-length-must-be-greater-than-equal-to-4")),d)return n.showToast(a,5e3),!1;_.a.DefaultController.ResetPassword(t,r.password).then(f=>{n.showToast(n.translate.instant(1==f?"password-has-been-changed":"unable-to-change-password"))}).catch(f=>{n.showToast(n.translate.instant("unable-to-change-password"))}),console.log("Password has been changed",r)}}]})).present()})()}resetPassword(){}openEditUser(t,n=!0,o=!1){let r=new c.n(t,"","","",c.Z.NormalUser,[]);n&&(r=this.list_of_users.find(a=>a.Id==t)),o&&null==r&&(r={Id:this.current_user.id,Username:this.current_user.username,DisplayName:this.current_user.displayName,Email:this.current_user.email,Phone:this.current_user.phone,EmailConfirmed:this.current_user.emailConfirmed,PhoneConfirmed:this.current_user.phoneConfirmed,AdminLevel:this.current_user.admin_level}),null!=r&&(r.permissions=[],_.a.DefaultController.GetUserPermissions(t).then(a=>{if(console.log(a),null!=a.Permissions&&a.Permissions.length){let d=a.Permissions;for(let f=0;f<d.length;f++){let w=new v.$z(d[f].ObjectType,d[f].ObjectId,d[f].Permission);w.Permission=d[f].Permission,r.permissions.push(w)}}null!=a.Devices&&a.Devices.length&&(r.devices=a.Devices),null!=a.Scenes&&a.Scenes.length&&(r.scenes=a.Scenes),null!=a.Rooms&&a.Rooms.length&&(r.rooms=a.Rooms),null!=a.Groups&&a.Groups.length&&(r.groups=a.Groups),console.warn(r),this.editExistingUserSetting.data=r,this.reloadsettings(this.editExistingUserSetting)}).catch(a=>{console.log(a),this.showToast(this.translate.instant("error"),2e3)}))}reloadsettings(t){t?(this.navParams.data=t,this.page=this.navParams.data.page||this.page,this.pageTitleKey=this.navParams.data.pageTitleKey||this.pageTitleKey):(this.navParams.data=void 0,this.page="main",this.pageTitleKey="user-management"),this.pageTitle=this.translate.instant(this.pageTitleKey),this._buildForm()}getAddUserPermissions(){let t=new c.n(-1,"","","",c.Z.NormalUser,[]);t.permissions=[],_.a.DefaultController.GetUserPermissions(null).then(n=>{if(console.log(n),null!=n.Permissions&&n.Permissions.length){let o=n.Permissions;for(let r=0;r<o.length;r++){let a=new v.$z(o[r].ObjectType,o[r].ObjectId,o[r].Permission);t.permissions.push(a)}}null!=n.Devices&&n.Devices.length&&(console.log("devices received"),t.devices=n.Devices),null!=n.Scenes&&n.Scenes.length&&(console.log("scenes received"),t.scenes=n.Scenes),null!=n.Rooms&&n.Rooms.length&&(console.log("rooms received"),t.rooms=n.Rooms),null!=n.Groups&&n.Groups.length&&(console.log("groups received"),t.groups=n.Groups),console.log(t),this.addUserSettings.data=t,this.reloadsettings(this.addUserSettings)}).catch(n=>{console.error("getAddUserPermissions:"+n),this.showToast(this.translate.instant("error"),2e3)})}editExistingUser(){console.log(this.edit_existing_user),this.edit_existing_user.new_username&&this.edit_existing_user.new_display_name&&(0==this.edit_existing_user.admin_level||1==this.edit_existing_user.admin_level||2==this.edit_existing_user.admin_level)&&_.a.DefaultController.EditExistingUser({Id:this.edit_existing_user.id,Username:this.edit_existing_user.new_username,DisplayName:this.edit_existing_user.new_display_name,AdminLevel:this.edit_existing_user.admin_level,Email:this.edit_existing_user.new_email,Phone:this.edit_existing_user.new_phone},this.edit_existing_user.permissions).then(t=>{1==t.body.result&&(console.log(this.edit_existing_user.new_username+", User has been updated"),this.clearEditExistingUserForm(),this.getAllUsers(),_.a.DefaultController.GetCurrentUser(),this.reloadsettings(void 0))})}toggleStatusbar(){var t=this;let n=this.form.get("hideStatusbar").value;this.settings.setValue("hideStatusbar",n).then((0,b.Z)(function*(){_.a.HideStatusBar=n,_.a.HideStatusBar?t.platform.is("mobile")&&(N.A_.hide(),t.content&&(yield(yield t.content.getBackgroundElement()).setAttribute("style","padding-top: 0"),t.adjustWindowSize())):(N.A_.show(),t.platform.is("ios")&&(N.A_.setStyle({style:N.bg.Dark}),console.log("ios - black Translucent")),t.platform.is("android")&&(N.A_.setOverlaysWebView({overlay:!0}),console.log("Android Platform")),t.content&&(yield(yield t.content.getBackgroundElement()).setAttribute("style","padding-top: var(--ion-safe-area-top, 0)"),t.adjustWindowSize()))}))}exitApplication(){var t=this;return(0,b.Z)(function*(){(yield t.alertCtrl.create({header:t.translate.instant("close"),message:t.translate.instant("do-you-want-to-close-app"),cssClass:"network-alert",buttons:[{text:t.translate.instant("cancel"),handler:o=>(console.log("Cancel clicked"),!0)},{text:t.translate.instant("yes"),handler:o=>{J.g.exitApp()}}]})).present()})()}deleteUser(t){var n=this;return(0,b.Z)(function*(){(yield n.alertCtrl.create({header:n.translate.instant("delete"),message:n.translate.instant("are-you-sure-you-want-to-delete"),backdropDismiss:!0,cssClass:"network-alert",buttons:[{text:n.translate.instant("cancel"),handler:r=>{console.log("Cancel clicked")}},{text:n.translate.instant("delete"),handler:r=>{console.log("deleting user",t),_.a.DefaultController.DeleteUser(t).then(a=>{1==a.body.result&&(n.getAllUsers(),n.showToast(n.translate.instant("user-has-been-deleted"),4e3))})}}]})).present()})()}clearAddNewUserForm(){this.add_new_user.new_display_name="",this.add_new_user.admin_level=0,this.add_new_user.admin_level_name="user",this.add_new_user.new_username="",this.add_new_user.new_email="",this.add_new_user.new_password="",this.add_new_user.new_confirm_password="",this.add_new_user.permissions=[]}clearEditExistingUserForm(){this.edit_existing_user.id=-1,this.edit_existing_user.new_username="",this.edit_existing_user.new_display_name="",this.edit_existing_user.new_email="",this.edit_existing_user.previous_phone="",this.edit_existing_user.previous_email="",this.edit_existing_user.admin_level=0,this.edit_existing_user.admin_level_name="user",this.edit_existing_user.new_password="",this.edit_existing_user.new_confirm_password="",this.edit_existing_user.permissions=[]}ionViewWillLeave(){console.log("Leaving Settings Page"),super.ionViewWillLeave()}registerBackButtonOnSettings(){this.platform.backButton.subscribeWithPriority(101,()=>{this.performBackOperation()})}performBackOperation(){this.RouterOutlet.canGoBack()?"addNewUser"!=this.page&&"editExistingUser"!=this.page&&"profile"!=this.page||!this.form_edited?"main"==this.page?this.closeAllOtherView():this.reloadsettings(void 0):this.form_edited?this.discardChangesPrompt?(this.discardChangesPrompt.then(t=>t.dismiss()),this.discardChangesPrompt=void 0):(this.discardChangesPrompt=this.alertCtrl.create({header:this.translate.instant("discard-changes"),message:"",cssClass:"network-alert",buttons:[{text:this.translate.instant("cancel"),handler:()=>(console.log("Cancel clicked"),!0)},{text:this.translate.instant("yes"),handler:()=>{this.reloadsettings(void 0)}}]}),this.discardChangesPrompt.then(t=>t.present())):(this.discardChangesPrompt.dismiss(),this.discardChangesPrompt=void 0):this.closeAllOtherView()}closeAllOtherView(){var t=this;return(0,b.Z)(function*(){let n=(yield t.loadingCtrl.getTop())||(yield t.modalCtrl.getTop())||(yield t.toastCtrl.getTop())||(yield t.overlayCtrl.getTop());n?n.dismiss():t.RouterOutlet.canGoBack()?t.navCtrl.back():J.g.minimizeApp()})()}goBack(){this.performBackOperation()}getPermissionString(t){return 0==t?"hidden":1==t?"read-only":2==t?"full-control":"default"}switchPermissionA(t){this.dataChanged();let n=t.Permission,o=t.object_id,r=t.object_type;n=128==n?0:0==n?1:1==n?2:128,n=Number.parseInt(n.toString()),t.Permission=n;let a=this.add_new_user.permissions.find(d=>d.ObjectId==o&&d.ObjectType==r);if(null==a){console.log("adding new permission");let d=new v.$z(r,o,n);this.add_new_user.permissions.push(d)}else console.log("editing existing permission"),a.Permission=n}switchPermissionE(t){this.dataChanged();let n=t.Permission,o=t.object_id,r=t.object_type;n=128==n?0:0==n?1:1==n?2:128,n=Number.parseInt(n.toString()),t.Permission=n;let a=this.edit_existing_user.permissions.find(d=>d.ObjectId==o&&d.ObjectType==r);if(null==a){console.log("adding new permission");let d=new v.$z(r,o,n);this.edit_existing_user.permissions.push(d)}else console.log("editing existing permission"),a.Permission=n}changeNewAdminLevel(){if(console.log(this.add_new_user.admin_level),this.current_user.admin_level==c.Z.SystemAdmin)switch(this.add_new_user.admin_level){case c.Z.NormalUser:this.add_new_user.admin_level=c.Z.SuperUser;break;case c.Z.SuperUser:this.add_new_user.admin_level=c.Z.SystemAdmin;break;case c.Z.SystemAdmin:this.add_new_user.admin_level=c.Z.TechnicalSupport;break;case c.Z.TechnicalSupport:this.add_new_user.admin_level=c.Z.NormalUser}else if(this.current_user.admin_level==c.Z.TechnicalSupport)switch(this.add_new_user.admin_level){case c.Z.NormalUser:this.add_new_user.admin_level=c.Z.SuperUser;break;case c.Z.SuperUser:this.add_new_user.admin_level=c.Z.NormalUser}else if(this.current_user.admin_level==c.Z.SuperUser)switch(this.add_new_user.admin_level){case c.Z.NormalUser:this.add_new_user.admin_level=c.Z.SuperUser;break;case c.Z.SuperUser:this.add_new_user.admin_level=c.Z.NormalUser}this.add_new_user.admin_level_name=this.add_new_user.admin_level==c.Z.SuperUser?"super-user":this.add_new_user.admin_level==c.Z.SystemAdmin?"system-admin":this.add_new_user.admin_level==c.Z.TechnicalSupport?"technical-support":"user",console.log(this.add_new_user.admin_level)}changeExistingAdminLevel(){console.log(this.edit_existing_user.admin_level),this.edit_existing_user.admin_level=this.edit_existing_user.admin_level==c.Z.SystemAdmin?c.Z.NormalUser:this.edit_existing_user.admin_level==c.Z.SuperUser&&this.current_user.admin_level==c.Z.SystemAdmin?c.Z.SystemAdmin:this.edit_existing_user.admin_level!=c.Z.NormalUser||this.current_user.admin_level!=c.Z.SystemAdmin&&this.current_user.admin_level!=c.Z.SuperUser?c.Z.NormalUser:c.Z.SuperUser,this.edit_existing_user.admin_level_name=this.edit_existing_user.admin_level==c.Z.SuperUser?"super-user":this.edit_existing_user.admin_level==c.Z.SystemAdmin?"system-admin":"user",console.log(this.edit_existing_user.admin_level)}presentLoading(){var t=this;return(0,b.Z)(function*(){let n=yield t.loadingCtrl.create({duration:4e3,backdropDismiss:!1});return n.present(),n})()}getItems(t){this.initializeItems();const n=t.target.value;n&&n.length>=2&&n&&""!=n.trim()&&(this.filtered_list_of_users=this.list_of_users.filter(o=>o.DisplayName.toLowerCase().indexOf(n.toLowerCase())>-1||o.Username.toLowerCase().indexOf(n.toLowerCase())>-1))}initializeItems(){this.filtered_list_of_users=this.list_of_users}confirmOtp(t,n,o){var r=this;return(0,b.Z)(function*(){if(console.log(o),"phone"==t||"email"==t){let a=yield r.popoverCtrl.create({component:G.C,componentProps:{type:t,addr:n,user:o},cssClass:"otp-confirmation-popover",backdropDismiss:!0});a.present(),a.onDidDismiss().then(d=>{d&&d.data.success&&("phone"==t&&(r.edit_existing_user.phone_confirmed=!0),"email"==t&&(r.edit_existing_user.email_confirmed=!0))})}})()}adjustWindowSize(){this.renderer.setStyle(this.content,"width","100vw"),this.renderer.setStyle(this.content,"height","100vh")}ngOnInit(){console.log("user ngOnInit")}}return(s=l).\u0275fac=function(t){return new(t||s)(e.Y36(U.SH),e.Y36(K.Z),e.Y36(R.V0),e.Y36(U.yF),e.Y36(U.HT),e.Y36(U.BX),e.Y36(H.z),e.Y36(U.SH),e.Y36(h.dr),e.Y36(P.qu),e.Y36(U.X1),e.Y36(U.Dh),e.Y36(U.t4),e.Y36(U.Br),e.Y36(I.sK),e.Y36(e.R0b),e.Y36(y.F0),e.Y36(e.Qsj),e.Y36(h.jP),e.Y36(U.IN),e.Y36(U.Dh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["user-management"]],viewQuery:function(t,n){if(1&t&&e.Gf(F,5),2&t){let o;e.iGM(o=e.CRH())&&(n.content=o.first)}},features:[e.qOj,e.TTD],decls:23,vars:10,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"text-align","end","float","right","min-width","10px"],["showWhen","android,ios",1,"top-mic-button",2,"vertical-align","bottom",3,"touchstart","touchend"],["name","mic",1,"voice-mic-button"],[1,"top-badge"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],[1,"page-user-management"],[4,"ngIf"],["class","button-container sticky-top",4,"ngIf"],["class","button-container",4,"ngIf"],["padding","","class","button-container sticky-top",4,"ngIf"],["class","button-container",3,"ngSwitch",4,"ngIf"],["debounce","500","animated","true",3,"placeholder","ionInput"],[1,"full-primary-button",2,"display","flex","margin","auto",3,"click"],[2,"font-size","1.4rem","font-weight","500","text-align","center"],["class","users-subprofile",4,"ngFor","ngForOf"],[1,"users-subprofile"],["name","star",3,"color",4,"ngIf"],[2,"min-height","25px"],[2,"text-align","end","font-size","xx-large"],["class","break-line-grad",4,"ngIf"],["color","primary",1,"full-primary-button",3,"click"],["name","create"],["class","danger-button",3,"click",4,"ngIf"],["name","star"],[1,"break-line-grad"],[1,"danger-button",3,"click"],["name","backspace"],[1,"button-container","sticky-top"],[3,"ngModel","ngModelChange"],["value","info"],["value","rooms",4,"ngIf"],["value","devices",4,"ngIf"],["value","rooms"],["value","devices"],[1,"button-container"],["color","primary","position","stacked"],["required","","maxlength","100","name","EditDisplayName",3,"ngModel","ngModelChange","ionChange"],["EditDisplayName","ngModel"],["required","","maxlength","100","name","EditUserName",3,"ngModel","ngModelChange","ionChange"],["EditUserName","ngModel"],["maxlength","100","pattern","[a-zA-Z0-9._]+[@]+[a-zA-Z0-9]+[.]+[a-zA-Z]{2,6}","name","EditEmail",3,"ngModel","ngModelChange","ionChange"],["EditEmail","ngModel"],["slot","end",2,"background","none"],["clear","","ion-button","","style","margin:0; padding:0","clear","",3,"click",4,"ngIf"],["clear","","ion-button","","style","margin:0; padding:0",4,"ngIf"],["maxlength","100","pattern","[0-9+]+","name","EditPhone",3,"ngModel","ngModelChange","ionChange"],["EditPhone","ngModel"],["color","primary","position","stacked",2,"line-height","2.5"],[2,"text-align","end"],[1,"dark-control",3,"ngModel","ngModelChange"],["selected","true",3,"value"],[3,"value"],["ion-button","","color","danger","class","danger-button",3,"click",4,"ngIf"],["ion-button","",1,"full-primary-button","half-width-button",3,"click"],["ion-button","",1,"clear-button","half-width-button",3,"click"],["clear","","ion-button","","clear","",2,"margin","0","padding","0",3,"click"],["name","warning",2,"color","orange"],["clear","","ion-button","",2,"margin","0","padding","0"],["name","checkmark",2,"color","lime"],["style","font-size:small; display:block;",4,"ngIf"],[2,"font-size","small","display","block"],["ion-button","","color","danger",1,"danger-button",3,"click"],[2,"list-style","none","padding","0px"],[4,"ngFor","ngForOf"],[2,"width","32px",3,"src"],[2,"display","inline","vertical-align","top"],["size","4",2,"text-align","end","white-space","nowrap"],["tappable","","ion-button","",3,"click"],["position","stacked"],["style","width:32px;",3,"src",4,"ngIf"],[2,"display","inline","vertical-align","top","padding-right","0px"],["padding","",1,"button-container","sticky-top"],["platform","md",3,"ngModel","ngModelChange"],["platform","md","value","info"],[1,"button-container",3,"ngSwitch"],["required","","maxlength","100","name","NewDisplayName",3,"ngModel","ngModelChange","ionChange"],["NewDisplayName","ngModel"],["required","","maxlength","100","name","NewUserName",3,"ngModel","ngModelChange","ionChange"],["NewUserName","ngModel"],["pattern","[a-zA-Z0-9._]+[@]+[a-zA-Z0-9]+[.]+[a-zA-Z]{2,6}","maxlength","100","name","NewEmail",3,"ngModel","ngModelChange","ionChange"],["NewEmail","ngModel"],["maxlength","100","pattern","[0-9+]+","name","NewPhone",3,"ngModel","ngModelChange","ionChange"],["NewPhone","ngModel"],["required","","type","password","maxlength","100","pattern",".{4,}","name","NewPassword",3,"ngModel","ngModelChange","ionChange"],["NewPassword","ngModel"],["required","","type","password","maxlength","100","pattern","","name","NewConfirmPassword",3,"ngModel","ngModelChange","ionChange"],["NewConfirmPassword","ngModel"],[1,"full-primary-button","half-width-button",3,"disabled","click"],[1,"clear-button","half-width-button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1)(4,"div",2),e._UZ(5,"connection-warning"),e.TgZ(6,"a",3),e.NdJ("touchstart",function(r){return n.longPressStart(r)})("touchend",function(){return n.PressEnd()}),e._UZ(7,"ion-icon",4),e.TgZ(8,"ion-badge",5),e._uU(9),e.qZA()()(),e.TgZ(10,"div",6)(11,"a",7),e.NdJ("click",function(){return n.goBack()}),e._UZ(12,"ion-icon",8),e.qZA()(),e.TgZ(13,"div")(14,"ion-title"),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()(),e.TgZ(17,"ion-content",9),e.YNc(18,ee,13,10,"ion-list",10),e.YNc(19,ie,7,6,"div",11),e.YNc(20,Ue,4,3,"div",12),e.YNc(21,Me,11,10,"div",13),e.YNc(22,Re,4,4,"div",14),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",n.theAppState.iontoolbarStyle),e.xp6(8),e.Oqu(n.speech_language_symbol),e.xp6(6),e.Oqu(e.lcZ(16,8,n.pageTitleKey)),e.xp6(3),e.Q6J("ngIf","main"==n.page),e.xp6(1),e.Q6J("ngIf","editExistingUser"==n.page),e.xp6(1),e.Q6J("ngIf","editExistingUser"==n.page),e.xp6(1),e.Q6J("ngIf","addNewUser"==n.page),e.xp6(1),e.Q6J("ngIf","addNewUser"==n.page))},dependencies:[Z.sg,Z.O5,Z.PC,Z.RF,P.JJ,P.Q7,P.nD,P.c5,P.On,h.yp,h.YG,h.wI,h.W2,h.jY,h.Gu,h.gu,h.pK,h.Ie,h.IK,h.td,h.Q$,h.q_,h.Nd,h.VI,h.cJ,h.GO,h.t9,h.n0,h.wd,h.sr,h.QI,h.j9,I.X$],styles:['ion-popover[_ngcontent-%COMP%]{--offset-y: -25%;--width: 80%;--offset-x: -10%}ion-item-options[_ngcontent-%COMP%]{width:auto}ion-button[_ngcontent-%COMP%], .button-native[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgb(53,90,117) 0%,rgb(8,54,86) 100%)}.users-subprofile[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]{color:#fff;white-space:nowrap;text-transform:capitalize}.users-subprofile[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:#0003;margin:2px!important;border-radius:5px;box-shadow:0 0 4px #000}.users-subprofile[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:none;font-size:small;border:none}.danger-button[_ngcontent-%COMP%]{margin:4px;background:rgb(175,25,33);background:linear-gradient(to bottom,rgb(175,25,33) 0%,rgb(159,25,29) 50%,rgb(149,19,19) 51%,rgb(121,33,23) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#af1921",endColorstr="#792117",GradientType=0);width:auto;font-size:larger;min-height:45px;color:#fff;text-transform:capitalize;padding:10px}ion-segment-button[_ngcontent-%COMP%]{flex:1;height:4.2rem;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:#0000001a;font-size:1.2rem;font-weight:500;line-height:4rem;text-transform:uppercase;color:#fff;opacity:.7;transition:.1s all linear;padding:0 6px}ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.6rem;line-height:4rem}.segment-button-checked[_ngcontent-%COMP%]{border-color:#aaa;opacity:1;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:#f5f5f5}.segment-button-disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none}ion-segment-button[_ngcontent-%COMP%]{--color: gray;--color-checked: white;--background:linear-gradient(to bottom, rgba(53,90,117,1) 0%,rgba(8,54,86,1) 100%);--background-focused-opacity: 1;--borderborder-bottom-width: 2px;--border-top-style: solid}ion-label[_ngcontent-%COMP%]{font-size:1.8rem!important}ion-button.full-primary-button[_ngcontent-%COMP%], ion-button.danger-button[_ngcontent-%COMP%]{height:auto}ion-item[_ngcontent-%COMP%]{font-size:1.6rem!important}.select-button-perm[_ngcontent-%COMP%]{max-width:100%;line-height:2;padding:5px;font-size:small}.danger[_ngcontent-%COMP%]{background:rgb(169,3,41);background:linear-gradient(to bottom,rgb(169,3,41) 0%,rgb(143,2,34) 44%,rgb(109,0,25) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a90329",endColorstr="#6d0019",GradientType=0)}.readonly[_ngcontent-%COMP%]{background:rgb(3,105,169);background:linear-gradient(to bottom,rgb(3,105,169) 0%,rgb(2,90,144) 44%,rgb(0,68,110) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#0369a9",endColorstr="#00446e",GradientType=0)}.fullcontrol[_ngcontent-%COMP%]{background:rgb(75,169,3);background:linear-gradient(to bottom,rgb(75,169,3) 0%,rgb(64,144,2) 44%,rgb(48,110,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4ba903",endColorstr="#306e00",GradientType=0)}.default[_ngcontent-%COMP%]{background:rgb(138,138,138);background:linear-gradient(to bottom,rgb(138,138,138) 0%,rgb(129,129,129) 44%,rgb(117,117,117) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#8a8a8a",endColorstr="#757575",GradientType=0)}.full-primary-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;font-size:medium}']}),l})()}];let Fe=(()=>{var s;class l{}return(s=l).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[y.Bz.forChild(He),y.Bz]}),l})();var ze=p(58646);let Be=(()=>{var s;class l{}return(s=l).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[ze.i],imports:[Z.ez,P.u5,h.Pc,Fe,I.aw.forChild()]}),l})()},48753:(L,A,p)=>{p.d(A,{c:()=>P});var Z=p(65879);let P=(()=>{var h;class y{constructor(_){this.elementRef=_}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(h=y).\u0275fac=function(_){return new(_||h)(Z.Y36(Z.SBq))},h.\u0275dir=Z.lG2({type:h,selectors:[["","padding",""]]}),y})()}}]);