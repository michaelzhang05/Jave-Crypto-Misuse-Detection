"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9083,9764],{87055:($,H,u)=>{u.d(H,{g:()=>b});const b=(0,u(92726).fo)("App",{web:()=>u.e(2912).then(u.bind(u,62912)).then(m=>new m.AppWeb)})},39083:($,H,u)=>{u.r(H),u.d(H,{LoginPageModule:()=>lt});var y=u(96814),b=u(56223),m=u(73582),M=u(70160),g=u(15861),Z=u(15788),w=u(73638),R=u(19462),P=u(35178),A=u(81374),O=u(9315),L=u(37092),Y=u(15697),f=u(46729),h=u(11998),N=u(28662),X=u(87055),J=u(43248),S=u(51141),s=u(8873);class _e{constructor(d,r,t,n,i,o,l,c,p,x,Q){this.platform=d,this.navCtrl=r,this.statusBar=t,this.screenOrientation=n,this.androidFullScreen=i,this.router=o,this.modalCtrl=l,this.toastCtrl=c,this.overlayCtrl=p,this.loadingCtrl=x,this.routerOutlet=Q,console.log("Initialized General Functionality"),this.UpdateAndroidSpecificSettings()}UpdateAndroidSpecificSettings(){if(this.platform.is("android")&&this.platform.is("capacitor"))try{this.platform.ready().then((0,g.Z)(function*(){try{yield window.navigationbar.setUp(!0,d=>{},d=>console.warn("navigation bar setup error",d)),yield window.navigationbar.hideNavigationBar(d=>{},d=>console.warn("navigation bar hdie error",d))}catch(d){console.error("Unable to setup navigation bar on this device",d)}}))}catch(d){console.error("Update Android Specific Settings, NavigationBar Exception",d)}}unRegisterDefaultBackButton(){this.backButtonSubscription&&!this.backButtonSubscription.closed&&this.backButtonSubscription.unsubscribe()}RegisterDefaultBackButton(){var d=this;this.backButtonSubscription||(this.backButtonSubscription=this.platform.backButton.subscribeWithPriority(9999,(0,g.Z)(function*(){d.router.url.split("/");let n=(yield d.loadingCtrl.getTop())||(yield d.modalCtrl.getTop())||(yield d.toastCtrl.getTop())||(yield d.overlayCtrl.getTop());return n?n.dismiss():d.routerOutlet.canGoBack()?d.navCtrl.back():X.g.minimizeApp(),!1})))}RestoreStatusBar(){var d=this;return(0,g.Z)(function*(){d.statusBar.show(),d.platform.is("ios")?(d.statusBar.styleBlackTranslucent(),console.log("ios - black Translucent")):d.platform.is("android")&&(d.statusBar.overlaysWebView(!0),console.log("Android Platform"))})()}HideStatusBar(){this.statusBar.hide()}SwitchScreenToLandscape(){return this.screenOrientation.unlock(),this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE)}SwitchScreenToPortrait(){return this.screenOrientation.unlock(),this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}ReloadApp(){this.navCtrl.navigateBack(S.g6)}}var z=u(15231),U=u(44966),T=u(86971),oe=u(43826),W=u(8555),ue=u(83895),ge=u(53509),ie=u(20553),re=u(16676),e=u(65879),D=u(34414),pe=u(88446),me=u(54192),ae=u(58646),he=u(57922),ee=u(63999),fe=u(7485),ve=u(26227),we=u(77935),be=u(9482),xe=u(73422),Ce=u(93575),Pe=u(59764),Ae=u(69705),Te=u(48753);const ye=["pageTop"];function Ze(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.ShowUILanguages())}),e._UZ(1,"img",14),e.qZA()}if(2&a){const r=e.oxw();e.xp6(1),e.Q6J("src",r.IMAGES.ui_language,e.LSH)}}function Ie(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.goBack())}),e._UZ(1,"ion-icon",16),e.qZA()}}function Le(a,d){if(1&a&&e._UZ(0,"img",33),2&a){const r=e.oxw(4);e.Q6J("src",r.IMAGES.app_logo,e.LSH)}}function Se(a,d){if(1&a&&(e.TgZ(0,"span",34),e._uU(1),e.qZA()),2&a){const r=e.oxw(4);e.xp6(1),e.Oqu(r.scanningIP)}}function ke(a,d){if(1&a&&(e.TgZ(0,"div",27)(1,"div",28),e.YNc(2,Le,1,1,"img",29),e.TgZ(3,"p"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Se,2,1,"span",30),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",31),e._UZ(9,"div",32),e.qZA(),e._UZ(10,"br"),e.qZA()),2&a){const r=e.oxw(3);e.xp6(2),e.Q6J("ngIf",r.after_search&&r.searching_for_device>0),e.xp6(2),e.Oqu(e.lcZ(5,3,"please-wait-while-app-is-searching")),e.xp6(2),e.Q6J("ngIf",r.scanningIP)}}function Ne(a,d){if(1&a&&(e.TgZ(0,"td",40)(1,"div")(2,"span",41),e._uU(3),e.qZA()()()),2&a){const r=e.oxw(4);e.xp6(3),e.Oqu(r.scanningIP)}}function Ee(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"ion-card",42)(1,"ion-grid")(2,"ion-row")(3,"ion-col",43)(4,"h3",44),e._uU(5),e.qZA(),e.TgZ(6,"p",45),e._uU(7),e.qZA()()()(),e.TgZ(8,"button",46),e.NdJ("click",function(){const i=e.CHM(r).$implicit,o=e.oxw(4);return e.KtG(o.fillAddingScreen(i))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()}if(2&a){const r=d.$implicit;e.xp6(5),e.Oqu(r.name),e.xp6(2),e.AsE("",r.localIP,"\xa0|\xa0",r.serial_no,""),e.xp6(2),e.hij(" ",e.lcZ(10,4,"add")," ")}}function Me(a,d){if(1&a&&(e.TgZ(0,"div",35)(1,"table",36)(2,"tr")(3,"td")(4,"ion-label",37),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,Ne,4,1,"td",38),e.qZA()(),e.TgZ(8,"ion-list"),e.YNc(9,Ee,11,6,"ng-template",39),e.qZA()()),2&a){const r=e.oxw(3);e.xp6(5),e.AsE("",e.lcZ(6,4,"controllers-found")," (",r.list_of_searched_controllers.length,")"),e.xp6(2),e.Q6J("ngIf",r.scanningIP),e.xp6(2),e.Q6J("ngForOf",r.list_of_searched_controllers)}}function Oe(a,d){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw(4);e.xp6(1),e.hij("(",r.new_device.serial,")")}}function Ue(a,d){1&a&&(e.TgZ(0,"a",71),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"name-already-exists")))}function De(a,d){1&a&&e._UZ(0,"ion-icon",72)}function Be(a,d){1&a&&e._UZ(0,"ion-icon",73)}function He(a,d){1&a&&e._UZ(0,"ion-icon",74)}function Re(a,d){1&a&&e._UZ(0,"ion-icon",75)}function Je(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",47)(1,"ion-list")(2,"ion-item",48)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.YNc(7,Oe,2,1,"span",11),e.qZA()(),e.TgZ(8,"div")(9,"ion-label",37),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"span",49),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"ion-input",50,51),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.new_device.name=n)})("ngModelChange",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.ctrlNameHandler())}),e.qZA(),e.YNc(16,Ue,3,3,"a",52),e.TgZ(17,"a",53),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div")(21,"p",54),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.show_advanced_control=!n.show_advanced_control)}),e._uU(22),e.ALo(23,"translate"),e.YNc(24,De,1,0,"ion-icon",55),e.YNc(25,Be,1,0,"ion-icon",56),e.qZA(),e.TgZ(26,"ion-list")(27,"div")(28,"ion-label",37),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",49),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"ion-input",57,58),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.new_device.ip=n)}),e.qZA(),e.TgZ(35,"span",59),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div")(39,"ion-label",37),e._uU(40),e.ALo(41,"translate"),e.TgZ(42,"span",49),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"table",36)(45,"tr")(46,"td")(47,"ion-input",60,61),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.new_device.serial=n)}),e.qZA()(),e.TgZ(49,"td",62)(50,"div",63),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.fetchSerialNumber())}),e.YNc(51,He,1,0,"ion-icon",64),e.YNc(52,Re,1,0,"ion-icon",65),e.qZA()()()(),e.TgZ(53,"span",59),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"div")(57,"ion-label",37),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"ion-select",66,67),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.new_device.connection_permission=n)}),e.ALo(62,"translate"),e.ALo(63,"translate"),e.TgZ(64,"ion-select-option",68),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"ion-select-option",68),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"ion-select-option",68),e._uU(71),e.ALo(72,"translate"),e.qZA()()()()(),e.TgZ(73,"ion-row")(74,"ion-col")(75,"button",69),e._uU(76),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"ion-col")(79,"button",70),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.CancelAddingDevice())}),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()}if(2&a){const r=e.MAs(15),t=e.MAs(34),n=e.MAs(48),i=e.oxw(3);e.xp6(4),e.AsE("",e.lcZ(5,43,i.new_device.editing?"edit":"add"),"\xa0",e.lcZ(6,45,"controller")," \xa0"),e.xp6(3),e.Q6J("ngIf",i.new_device.serial),e.xp6(3),e.hij(" ",e.lcZ(11,47,"controller-name")," "),e.xp6(2),e.Q6J("hidden",!i.nameExists&&!r.errors||r.errors&&!r.errors.required),e.xp6(2),e.Q6J("ngModel",i.new_device.name),e.xp6(2),e.Q6J("ngIf",i.nameExists),e.xp6(2),e.Oqu(e.lcZ(19,49,"box-name-help")),e.xp6(4),e.hij("",e.lcZ(23,51,"advanced"),"\xa0 "),e.xp6(2),e.Q6J("ngIf",i.show_advanced_control),e.xp6(1),e.Q6J("ngIf",!i.show_advanced_control),e.xp6(1),e.Udp("display",i.show_advanced_control?"unset":"none"),e.xp6(3),e.hij(" ",e.lcZ(30,53,"local-address")," "),e.xp6(2),e.Q6J("hidden",""!=t.value),e.xp6(2),e.Udp("color",t.errors?"red":"unset"),e.Q6J("ngModel",i.new_device.ip),e.xp6(2),e.Q6J("hidden",!t.errors||t.errors&&!t.errors.pattern),e.xp6(1),e.Oqu(e.lcZ(37,55,"invalid-ip")),e.xp6(4),e.hij(" ",e.lcZ(41,57,"serial-no")," "),e.xp6(2),e.Q6J("hidden",""!=n.value),e.xp6(5),e.Q6J("ngModel",i.new_device.serial),e.xp6(3),e.Tol(t.errors||""==t.value?"disabledbutton":""),e.Udp("opacity",i.enableFetchSerialNumberButton?1:.4),e.xp6(1),e.Q6J("ngIf",i.enableFetchSerialNumberButton),e.xp6(1),e.Q6J("ngIf",!i.enableFetchSerialNumberButton),e.xp6(1),e.Q6J("hidden",!n.errors||n.errors&&!n.errors.pattern),e.xp6(1),e.hij(" ",e.lcZ(55,59,"invalid-serial-no"),""),e.xp6(4),e.Oqu(e.lcZ(59,61,"allow-connection")),e.xp6(2),e.s9C("okText",e.lcZ(62,63,"ok")),e.s9C("cancelText",e.lcZ(63,65,"cancel")),e.Q6J("ngModel",i.new_device.connection_permission),e.xp6(4),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(66,67,"local_remote")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(69,69,"local")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(72,71,"remote")),e.xp6(5),e.hij(" ",e.lcZ(77,73,"save")," "),e.xp6(4),e.hij(" ",e.lcZ(81,75,"cancel")," ")}}function Fe(a,d){if(1&a&&(e.TgZ(0,"p",84),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.AsE("",r.localIP,"\xa0|\xa0",r.serial_no,"")}}function qe(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"ion-item-options",85)(1,"ion-item-option",86),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit,i=e.oxw(4);return e.KtG(i.editCtrl(n))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-item-option",87),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit,i=e.oxw(4);return e.KtG(i.removeCtrl(n))}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"edit")),e.xp6(3),e.Oqu(e.lcZ(6,4,"delete")))}function Ge(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"ion-item-options",85)(1,"ion-item-option",86),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit,i=e.oxw(4);return e.KtG(i.editCtrl(n))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-item-option",87),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit,i=e.oxw(4);return e.KtG(i.removeCtrl(n))}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"edit")),e.xp6(3),e.Oqu(e.lcZ(6,4,"delete")))}function Ye(a,d){1&a&&e._UZ(0,"div",88)}function Qe(a,d){if(1&a&&(e.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-grid")(3,"ion-row")(4,"ion-col",78)(5,"h3"),e._uU(6),e.qZA(),e.YNc(7,Fe,2,2,"p",79),e.qZA(),e.TgZ(8,"ion-col",80),e._UZ(9,"ion-icon",81),e.qZA()()()(),e.YNc(10,qe,7,6,"ion-item-options",82),e.YNc(11,Ge,7,6,"ion-item-options",82),e.YNc(12,Ye,1,0,"div",83),e.qZA()),2&a){const r=d.$implicit,t=d.last,n=e.oxw(4);e.xp6(6),e.hij("",r.name,"\xa0"),e.xp6(1),e.Q6J("ngIf",r.localIP||r.serial_no),e.xp6(3),e.Q6J("ngIf","en"==n.currentLangauge),e.xp6(1),e.Q6J("ngIf","en"!=n.currentLangauge),e.xp6(1),e.Q6J("ngIf",!t)}}function Ke(a,d){if(1&a&&(e.TgZ(0,"div",47)(1,"ion-label",76),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-list"),e.YNc(6,Qe,13,5,"ion-item-sliding",77),e.qZA()()),2&a){const r=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,3,"saved"),"\xa0",e.lcZ(4,5,"controllers"),""),e.xp6(4),e.Q6J("ngForOf",r.controllers)}}function Ve(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"ion-grid",89)(2,"ion-row")(3,"ion-col",80)(4,"ion-button",90),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.showManualAddingForm())}),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col")(8,"ion-button",91),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.searchForControllerInCurrentNetwork())}),e._UZ(9,"ion-icon",92),e._uU(10,"\xa0 "),e.TgZ(11,"ion-label"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()}2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,2,"add-manually")," "),e.xp6(7),e.Oqu(e.lcZ(13,4,"search")))}function We(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",20),e.YNc(1,ke,11,5,"div",21),e._UZ(2,"div"),e.YNc(3,Me,10,6,"div",22),e.TgZ(4,"div",23)(5,"form",24,25),e.NdJ("submit",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.ConfirmAddingDevice())}),e.YNc(7,Je,82,77,"div",26),e.qZA()(),e.TgZ(8,"div"),e.YNc(9,Ke,7,7,"div",26),e.qZA(),e.YNc(10,Ve,14,6,"div",11),e.qZA()}if(2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.after_search&&r.searching_for_device>0),e.xp6(2),e.Q6J("ngIf",!r.add_manual&&(r.after_search||r.list_of_searched_controllers.length>0)),e.xp6(4),e.Q6J("ngIf",r.show_editing_form),e.xp6(2),e.Q6J("ngIf",!(r.show_editing_form||r.searching_for_device>0)&&r.controllers.length>0),e.xp6(1),e.Q6J("ngIf","add-device"==r.page&&!r.show_editing_form)}}function ze(a,d){if(1&a&&(e.TgZ(0,"div")(1,"ion-label",99),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a){const r=e.oxw(4);e.xp6(1),e.Q6J("dir",r.current_dir),e.xp6(1),e.AsE(" ",e.lcZ(3,3,"connecting-to")," ",r.current_controller.name," ")}}function je(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",96)(1,"ion-grid")(2,"ion-row"),e._UZ(3,"ion-col"),e.TgZ(4,"ion-col"),e.YNc(5,ze,4,5,"div",11),e.qZA(),e._UZ(6,"ion-col"),e.qZA(),e.TgZ(7,"ion-row"),e._UZ(8,"ion-col"),e.TgZ(9,"ion-col"),e._UZ(10,"div",97),e.qZA(),e._UZ(11,"ion-col"),e.qZA(),e.TgZ(12,"ion-row"),e._UZ(13,"ion-col"),e.TgZ(14,"ion-col")(15,"ion-button",98),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.cancelLogin())}),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"ion-col"),e.qZA()()()}if(2&a){const r=e.oxw(3);e.xp6(5),e.Q6J("ngIf",null!=r.current_controller),e.xp6(11),e.Oqu(e.lcZ(17,2,"cancel"))}}function Xe(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",100)(1,"div",101),e._UZ(2,"div",102),e.TgZ(3,"div",47)(4,"ion-label",103),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div")(8,"ion-label",37),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",104)(12,"div",105),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.showSelectCtrlWindow())})("keydown.enter",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.showSelectCtrlWindow())}),e.TgZ(13,"ion-label",106),e._uU(14),e.qZA(),e._UZ(15,"ion-icon",107),e.qZA()()(),e.TgZ(16,"ion-label",37),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"ion-input",108),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.account.username=n)}),e.qZA(),e.TgZ(20,"ion-label",37),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"ion-input",109),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.account.password=n)}),e.qZA(),e.TgZ(24,"button",110),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.openPasswordRecovery())}),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ion-item",111)(28,"ion-checkbox",112),e.NdJ("ngModelChange",function(n){e.CHM(r);const i=e.oxw(3);return e.KtG(i.account.remember=n)})("ngModelChange",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.changeRemember())}),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"button",113),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.performLogin(!0))}),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()}if(2&a){const r=e.oxw(3);e.xp6(5),e.Oqu(e.lcZ(6,11,"eureka-smart-living-controller")),e.xp6(4),e.Oqu(e.lcZ(10,13,"controller")),e.xp6(5),e.Oqu(r.current_controller?r.current_controller.name:""),e.xp6(3),e.Oqu(e.lcZ(18,15,"username")),e.xp6(2),e.Q6J("ngModel",r.account.username),e.xp6(2),e.Oqu(e.lcZ(22,17,"PASSWORD")),e.xp6(2),e.Q6J("ngModel",r.account.password),e.xp6(2),e.Oqu(e.lcZ(26,19,"forget-password")),e.xp6(3),e.Q6J("ngModel",r.account.remember),e.xp6(1),e.hij(" ",e.lcZ(30,21,"remember-me"),""),e.xp6(3),e.Oqu(e.lcZ(33,23,"LOGIN_BUTTON"))}}function $e(a,d){if(1&a&&(e.TgZ(0,"div",93),e.YNc(1,je,19,4,"div",94),e.YNc(2,Xe,34,25,"div",95),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.show_login_banner&&!1),e.xp6(1),e.Q6J("ngIf",!r.show_login_banner)}}function et(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",114)(1,"ion-grid",36)(2,"ion-row")(3,"ion-col",115),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"a",116),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.openSite("http://www.eureka.bh/esl-privacy-policy/"))}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"a",116),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.openSite("http://www.esl.eureka.me/terms-of-services"))}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ion-col",28)(17,"a",116),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.hide_license())}),e._UZ(18,"ion-icon",117),e.qZA()()()()()}2&a&&(e.xp6(4),e.hij(" ",e.lcZ(5,5,"terms-condition"),""),e.xp6(3),e.Oqu(e.lcZ(8,7,"privacy-policy")),e.xp6(2),e.hij(" ",e.lcZ(10,9,"and-our")," "),e.xp6(3),e.Oqu(e.lcZ(13,11,"terms-of-services")),e.xp6(2),e.hij(" ",e.lcZ(15,13,"end-of-term-services")," "))}function tt(a,d){if(1&a&&(e.YNc(0,We,11,5,"div",17),e.YNc(1,$e,3,2,"div",18),e.YNc(2,et,19,15,"div",19)),2&a){const r=e.oxw();e.Q6J("ngIf","add-device"==r.page),e.xp6(1),e.Q6J("ngIf","main"==r.page&&!r.forceHideLogin),e.xp6(1),e.Q6J("ngIf",r.show_license_agreement)}}function nt(a,d){if(1&a&&(e.TgZ(0,"ion-toolbar")(1,"ion-title",118),e._uU(2),e.qZA()()),2&a){const r=e.oxw();e.xp6(2),e.AsE("",r.app_name,"\xa0 | ",r.app_version,"")}}function ot(a,d){if(1&a){const r=e.EpF();e.TgZ(0,"div",119)(1,"div",120),e._UZ(2,"img",121),e.qZA(),e.TgZ(3,"div",122),e.NdJ("touchstart",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.SecretFunctionStart())})("touchend",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.SecretFunctionCancel())}),e.TgZ(4,"div",123)(5,"h1",124),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",31),e._UZ(9,"div",32),e.qZA()()()()}if(2&a){const r=e.oxw();e.xp6(2),e.Q6J("src",r.AppIcon,e.LSH),e.xp6(4),e.Oqu(e.lcZ(7,2,"connecting"))}}const it=[{path:"",component:(()=>{var a;class d{openSite(t){throw new Error("Method not implemented.")}get ShowHistoryBackButton(){return s.a.EnableHistoryback}ShowLicence(){var t=this;return(0,g.Z)(function*(){yield t.settings.getValue("show_license").then(n=>{n&&(t.show_license_agreement=n)},n=>{t.show_license_agreement=!1})})()}RegisterBackButton(){var t=this;this.backButtonSubscription=this.platform.backButton.subscribe((0,g.Z)(function*(){var n;let i=(yield t.loadingCtrl.getTop())||(yield t.modalCtrl.getTop())||(yield t.toastCtrl.getTop())||(yield t.overlayCtrl.getTop());i?i.dismiss():null!==(n=t.routerOutlet)&&void 0!==n&&n.canGoBack()?t.router.url.split("/").length-2>1&&t.navCtrl.back():X.g.minimizeApp()}))}GetAppNameAndVersion(){var t=this;return(0,g.Z)(function*(){t.platform.is("capacitor")&&"web"!=(yield N.A.getInfo()).platform?t.platform.ready().then((0,g.Z)(function*(){t.app_version=(yield X.g.getInfo()).version,t.app_name=(yield X.g.getInfo()).name})):(t.app_version=ie.N.app_version,t.app_name=ie.N.app_name)})()}GetAllControllerSaveModel(){let t=[];for(let n=0;n<this.controllers.length;n++)t.push({name:this.controllers[n].name,ip:this.controllers[n].localIP,publicIP:this.controllers[n].publicIP,isSelected:this.controllers[n].isSelected,username:this.controllers[n].username,remember:this.controllers[n].remember,password:this.controllers[n].password,mac_id:this.controllers[n].mac_id,serial_no:this.controllers[n].serial_no,connection_permission:this.controllers[n].connection_permission,hide_in_selection:this.controllers[n].hide_in_selection});return t}constructor(t,n,i,o,l,c,p,x,Q,F,B,I,q,te,st,ct,dt,_t,ut,gt,pt,mt,ht,le,ft){var _=this;if(this.popCtrl=t,this.navigationCtrl=n,this.navCtrl=i,this.json=o,this.splashScreen=l,this.alertController=c,this.api=p,this.platform=x,this.navParams=Q,this.uuid=F,this.toastCtrl=B,this.networkInterface=I,this.loadingCtrl=q,this.translate=te,this.androidFullScreen=st,this.modalCtrl=ct,this.overlayCtrl=dt,this.network=_t,this.settings=ut,this.events=gt,this.statusBar=pt,this.screenOrientation=mt,this.router=ht,this.routerOutlet=le,this.route=ft,this.hideUILanguage=s.a.StaticSettings.HideUILanguage,this.forceHideLogin=s.a.StaticSettings.HideLoginAllTheTime,this.IMAGES=R.s.Images,this.loginPage=d,this.list_of_searched_controllers=[],this.show_editing_form=!1,this.page="main",this.account={currentLocalIP:"",currentPublicIP:"",username:"",password:"",remember:!1,auth:""},this.new_device={name:"",ip:"",publicIP:"",version:"",serial:"",connection_permission:w.T.Both,current_date_time:"",ctrl:void 0,editing:!1},this.show_login_banner=!0,this.connecting_device_name="",this.is_logout=!1,this.doshowSelectCtrlWindow=!1,this.current_dir="ltr",this.https="",this.http="",this.app_version="0.0.0.0",this.app_name="Eureka Smart Living",this.dashboardMode=!1,this.theAppState=s.a,this.device_manufacturer="",this.device_model="",this.device_platform="",this.second_try=!1,this.login_alert_shown=!1,this.searching_for_device=0,this.after_search=!1,this.add_manual=!1,this.scanningIP="",this.currentLangauge="en",this.show_license_agreement=!1,this.secret_action_id=-1,this.show_advanced_control=!1,this.nameExists=!1,this.editing_device_name="",this.enableFetchSerialNumberButton=!0,console.log("start constructor:"+this.page),this.router.getCurrentNavigation().extras.state){const E=this.router.getCurrentNavigation().extras.state;this.navParams=E,this.queryParams=E,console.log(this.navParams)}else this.queryParams=this.route.snapshot.queryParams,this.navParams=this.queryParams;s.a.NavCtrl=this.navCtrl,s.a.platform=this.platform,s.a.AppFunctionality=new _e(this.platform,this.navCtrl,this.statusBar,this.screenOrientation,this.androidFullScreen,this.router,this.modalCtrl,this.toastCtrl,this.popCtrl,this.loadingCtrl,le),this.forceHideLogin=s.a.StaticSettings.HideLoginAllTheTime,this.hideUILanguage=s.a.StaticSettings.HideUILanguage,this.IMAGES=R.s.Images,this.routerOutlet.swipeGesture=!1,this.GetAppNameAndVersion(),this.RegisterBackButton(),(0,g.Z)(function*(){_.settings.allSettings||(yield _.settings.load()),_.platform.ready().then(()=>{s.a.network=_.network,s.a.DashboardMode||(_.dashboardMode=_.settings.allSettings.dashboard_mode,_.dashboardMode&&(s.a.DashboardMode=_.dashboardMode,s.a.DashboardId=_.settings.allSettings.dashboard_mode_id))})})(),this.is_logout=this.queryParams.is_logout,this.CheckAndLogout(this.is_logout);let se=this.navParams.showSelectCtrlWindow;se&&(this.doshowSelectCtrlWindow=se);let ce=this.navParams.page;ce&&(this.page=ce,this.is_logout=!0),this.navParams.editing&&(this.new_device.ctrl=null,this.show_editing_form=!1),this.platform.ready().then(()=>{this.current_dir=this.platform.isRTL?"rtl":"ltr",s.a.IsCapacitor=this.platform.is("capacitor"),s.a.IsCapacitor&&this.splashScreen.hide()}),f.V0.events.subscribe(T.S.BLOCKED_HARDWARE,E=>{this.show_login_banner=!1,this.notifyUI(this.translate.instant("error"),this.translate.instant("hardware-blocked"),E)}),f.V0.events.subscribe(T.S.INVALID_SERIAL,E=>{this.show_login_banner=!1,this.notifyUI(this.translate.instant("error"),this.translate.instant("invalid-serial-no"),E)}),this.ShowLicence(),this.GetAllControllers().then(function(){var E=(0,g.Z)(function*(de){if(console.log(de," f1"),console.log(_.platform.platforms,""),_.platform.is("desktop")||_.platform.is("mobileweb")){let v=_.GetAllControllerSaveModel();console.debug("not running on mobile");let ne,K=window.location.host,j="",V=w.T.Local;if(K.startsWith("esl.eureka.me")){let C=window.location.href.match("proxy/(ESL-[0-9]{5}-[A-Z0-9]{5})/app");C.length>1&&(j=C[1],V=w.T.Remote),console.info("current Serial No. is "+j),ne=v.find(G=>"-99999999"==G.mac_id&&G.serial_no==j)}else console.info("current IP is "+K),V=w.T.Local,ne=v.find(C=>"-99999999"==C.mac_id&&C.localIP==K);ne||(v=v.filter(C=>!C.name.startsWith("DEFAULT-ESL-BOX-")));let k=v.find(C=>1==C.isSelected);if(k){for(let C=0;C<v.length;C++)v[C].isSelected="-99999999"==v[C].mac_id;console.log("contorller already exists"),k.localIP=k.currentIp=K,k.isSelected=!0,k.remember=!1,k.connection_permission=V,_.selected_mac=k.mac_id,_.current_controller=s.a.DefaultController=new Y.Q(k.name,k.ip,k.publicIP,!0,j),_.current_controller.name=k.name}else{console.log("new controller added");let C={name:"DEFAULT-ESL-BOX-"+(V==w.T.Local?"L":"R"),ip:V==w.T.Local?K:"",serial_no:V==w.T.Remote?j:"",isSelected:!0,publicIP:"",mac_id:"-99999999",connection_permission:V,hide_in_selection:!1,remember:!1};v.push(C),console.log("Setting value of settings",_.settings,v);for(let G=0;G<v.length;G++)console.warn("I =  "+G),v[G].isSelected="-99999999"==v[G].mac_id;yield _.settings.load(),yield _.settings.setValue("controllers",v),console.log("value is set"),_.current_controller=s.a.DefaultController=new Y.Q(C.name,C.ip,C.publicIP),_.current_controller.mac_id=C.mac_id,_.current_controller.name=C.name,_.selected_mac=_.current_controller.mac_id,yield _.UpdateController()}}else console.debug("running on mobile");if(_.controllers&&_.controllers.length>0)if(_.doshowSelectCtrlWindow)_.showSelectCtrlWindow();else{console.log("Loading Default Controller");let v=_.controllers.find(K=>K.isSelected);null==v&&(v=_.controllers[0]),_.CtrlChanged(),console.log("Loaded Default Controller",v),_.account.currentLocalIP=h.p.localIP=v.localIP,_.account.currentPublicIP=h.p.remote_ip=v.publicIP,h.p.serial_no=v.serial_no,console.warn("Connection permission from default",v.connection_permission),null==v.connection_permission?(console.log("no connectin permission found considering both"),s.a.ConnectionPermission=w.T.Both):s.a.ConnectionPermission=v.connection_permission,_.account.username=v.username,_.account.password=v.password,s.a.ConnectionPermission==w.T.Both&&(console.warn("Both Types of connection allowed"),h.p.switchToLocalConnection()),s.a.ConnectionPermission==w.T.Local?(console.warn("Only local connection allowed"),h.p.switchToLocalConnection()):s.a.ConnectionPermission==w.T.Remote?(console.warn("Only remote connection allowed"),h.p.switchToRemoteConnection()):_.platform.is("mobile")?s.a.NetworkType==U.t.NETWORK_WIFI||s.a.NetworkType==U.t.NETWORK_ETHERNET||s.a.NetworkType==U.t.NETWORK_UNKNOWN?h.p.switchToLocalConnection():h.p.switchToRemoteConnection():h.p.switchToLocalConnection()}else _.AddNewDevice(),_.searchForControllerInCurrentNetwork();_.navParams.stop_performing_login?(console.debug("we're coming from perform-login page"),_.show_login_banner=!1):h.p.currentIp?(console.warn("all required details found",_.account),_.account.currentLocalIP=h.p.localIP,_.account.currentPublicIP=h.p.remote_ip,_.show_login_banner=!0,1==_.is_logout?(_.is_logout=!1,_.show_login_banner=!1):_.account.remember||s.a.StaticSettings.KeepRememberMe?_.performLogin():_.show_login_banner=!1):_.show_login_banner=!1,s.a.StaticSettings.Username&&s.a.StaticSettings.Password&&(_.account.username=s.a.StaticSettings.Username,_.account.password=s.a.StaticSettings.Password,_.account.remember=!0,_.performLogin(!0)),_.navigationCtrl.checkAndResolveQueryParamterUsingQueryParameters()&&(_.navigationCtrl.auth?_.account.auth=_.navigationCtrl.auth:(_.account.username=_.navigationCtrl.username,_.account.password=_.navigationCtrl.password,_.account.remember=!0),d.autoLoginUsingQueryParams||(d.autoLoginUsingQueryParams=!0,_.performLogin(!0)))});return function(de){return E.apply(this,arguments)}}()).catch(E=>{console.error("No controller found",E),this.show_login_banner=!1}),console.log("end constructor:"+this.page)}ngOnInit(){var t=this;return(0,g.Z)(function*(){console.log("start on init:"+t.page);const n=yield N.A.getInfo();t.device=n,t.device_manufacturer=t.device.manufacturer,t.device_model=t.device.model,t.device_platform=t.device.platform;const i=yield N.A.getId();t.deviceId=i.identifier,console.log("end on init:"+t.page)})()}selectDefaultOrFirstController(){if(this.controllers||this.controllers.length>0){let t=this.controllers.find(n=>n.isSelected);t&&(t=this.controllers[0]),t&&(this.selected_mac=t.mac_id)}}ReadyAndOpenMainPage(){var t=this;this.readyPageHandler&&(f.V0.events.unsubscribe(z.B.AllReady,this.readyPageHandler),this.readyPageHandler=void 0),this.readyPageHandler=(0,g.Z)(function*(){let n=s.a.mainPage,i={};if(s.a.DashboardId>-1&&s.a.DashboardMode)n=S.so,i={dashboard_id:s.a.DashboardId,first_load:!0};else if("dashboard"==t.navigationCtrl.pagesToLoadFromHome&&"dashboard"==t.navigationCtrl.name){var o=yield s.a.DefaultController.GetDashboards();if(o&&o&&o.body&&o.body.result&&o.body.result.length){let c=o.body.result.find(p=>p.Name.toLowerCase()==t.navigationCtrl.name.toLowerCase());c&&(n=S.so,console.warn("setting dahsboard page from the query param"),i={dashboard_name:c.id,first_load:!0})}}let l={};l=i||{},t.navCtrl.navigateRoot(n,{state:{data:l}}).then(c=>{},c=>{t.show_login_banner=!1,console.error(c)}).catch(c=>{t.show_login_banner=!1,console.error(c)}),f.V0.events.unsubscribe(z.B.AllReady,t.readyPageHandler)}),f.V0.events.subscribe(z.B.AllReady,this.readyPageHandler)}loadSettings(){var t=this;return(0,g.Z)(function*(){t.settings&&(yield t.settings.getValue("lang").then(n=>{t.translate.setDefaultLang("en"),t.currentLangauge=n,t.translate.use(n),console.log("Current UI Language,",t.currentLangauge)},n=>{}))})()}initializePushNotificationService(){var t=this;return(0,g.Z)(function*(){t.platform.is("mobile")?(yield J.V.register(),yield J.V.addListener("registration",n=>{t.uuid.get().then(i=>{console.log("Firebase UUID found"),s.a.DefaultController.RegisterForPushNotification(t.device.manufacturer+"/"+t.device.model,i.identifier,0,n.value).then(o=>{t.showToast("Login-page - Registered mobile FCM",4e3,"middle")})})})):console.warn("No Cordova found.")})()}UpdateController(){var t=this;return(0,g.Z)(function*(){return t.GetAllControllers()})()}GetAllControllers(){var t=this;return(0,g.Z)(function*(){return new Promise(function(){var n=(0,g.Z)(function*(i){t.controllers=[],t.settings&&(yield t.settings.load(),yield t.settings.getValue("controllers").then(o=>{if(!o)return void(t.show_login_banner=!1);let l=!1;for(let c=0;c<o.length;c++){let p=new Y.Q(o[c].name,o[c].ip,o[c].publicIP,!1);p.version=o[c].version,p.isSelected=o[c].isSelected,p.hide_in_selection=o[c].hide_in_selection,p.mac_id=o[c].mac_id,p.token=o[c].token,p.serial_no=o[c].serial_no,p.connection_permission=o[c].connection_permission,p.password=o[c].password,p.username=o[c].username,p.remember=o[c].remember,t.controllers.push(p),p.isSelected&&(s.a.DefaultController=t.controllers[c]),l=l||p.isSelected,console.log(t.controllers[c],"sas10- this.controllers")}!l&&t.controllers.length>0&&(t.controllers[0].isSelected=!0,s.a.DefaultController=t.controllers[0]),t.addSelectControllerObj(),i(t.controllers)}).then(o=>{t.current_controller=s.a.DefaultController,t.selected_mac=t.current_controller.mac_id,t.addSelectControllerObj()}).catch(o=>{t.show_login_banner=!1,t.addSelectControllerObj()}))});return function(i){return n.apply(this,arguments)}}())})()}addSelectControllerObj(){if(this.controllers){let t=this.controllers.find(n=>"-1"==n.mac_id);t&&this.deleteController(t)}}fillAddingScreen(t){this.after_search=!1,this.new_device.name="",this.show_advanced_control=!1,t.name&&(this.new_device.name=t.name,this.ctrlNameHandler()),t.localIP&&(this.new_device.ip=t.localIP),t.publicIP&&(this.new_device.publicIP=t.publicIP),this.new_device.connection_permission=t.connection_permission?t.connection_permission:w.T.Both,this.new_device.serial=t.serial_no,this.new_device.version=t.version,this.list_of_searched_controllers=[],this.show_editing_form=!0,this.new_device.ctrl=null,this.new_device.editing=!1}AddNewDevice(){this.page="add-device",this.new_device.ctrl=null,this.new_device.editing=!1,this.after_search=!1}ConfirmAddingDevice(){var t=this;return(0,g.Z)(function*(){if(""!=t.new_device.name&&(""!==t.new_device.ip||""!=t.new_device.serial)){let n;if(0==t.new_device.editing){let o=t.new_device.ip?t.new_device.ip.trim():"";o=o.startsWith(t.http)||o.startsWith(t.https)?o:t.http+o,console.log(o);let l=t.new_device.publicIP;l&&""!=l?(l=t.new_device.publicIP?t.new_device.publicIP.trim():"",l=l.startsWith(t.http)||l.startsWith(t.https)?l:t.http+l):l=void 0,n=new Y.Q(t.new_device.name,o,l),n.mac_id=f.iy.newGuid(),n.isSelected=t.controllers.length<=0,n.hide_in_selection=!1,""!=t.new_device.version&&(n.version=t.new_device.version),null!=t.new_device.connection_permission&&(s.a.ConnectionPermission=n.connection_permission=t.new_device.connection_permission),t.new_device&&""!=t.new_device.serial&&(n.serial_no=t.new_device.serial,h.p.serial_no=n.serial_no),t.selected_mac=n.mac_id}else{console.log("editing",t.new_device.ctrl),n=t.new_device.ctrl,n.name=t.new_device.name,n.serial_no=t.new_device.serial,n.connection_permission=t.new_device.connection_permission;let o=t.new_device.ip;o=o.startsWith(t.http)||o.startsWith(t.https)?o:t.http+o,n.localIP=o;let l=t.new_device.publicIP;l&&""!=l?(l=t.new_device.publicIP.trim(),l=l.startsWith(t.http)||l.startsWith(t.https)?l:t.http+l):l=void 0,""!=t.new_device.serial&&(n.serial_no=t.new_device.serial,h.p.serial_no=n.serial_no),s.a.ConnectionPermission=n.connection_permission=t.new_device.connection_permission,n.publicIP=l}let i=[];if(0==t.new_device.editing){for(let o=0;o<t.controllers.length;o++)i.push({name:t.controllers[o].name,ip:t.controllers[o].localIP,publicIP:t.controllers[o].publicIP,isSelected:t.controllers[o].isSelected,mac_id:t.controllers[o].mac_id,serial_no:t.controllers[o].serial_no,connection_permission:t.controllers[o].connection_permission,hide_in_selection:t.controllers[o].hide_in_selection});i.push({name:n.name,ip:n.localIP,publicIP:n.publicIP,serial_no:n.serial_no,connection_permission:n.connection_permission,hide_in_selection:n.hide_in_selection,isSelected:n.isSelected,mac_id:n.mac_id}),t.controllers.push(n)}else for(let o=0;o<t.controllers.length;o++)i.push(n.mac_id==t.controllers[o].mac_id?{name:n.name,ip:n.localIP,publicIP:n.publicIP,version:n.version,isSelected:n.isSelected,mac_id:n.mac_id,hide_in_selection:n.hide_in_selection,token:n.token,serial_no:t.controllers[o].serial_no,connection_permission:t.controllers[o].connection_permission,username:t.controllers[o].username,password:t.controllers[o].password}:{name:t.controllers[o].name,ip:t.controllers[o].localIP,publicIP:t.controllers[o].publicIP,version:t.controllers[o].version,serial_no:t.controllers[o].serial_no,connection_permission:t.controllers[o].connection_permission,isSelected:t.controllers[o].isSelected,mac_id:t.controllers[o].mac_id,hide_in_selection:t.controllers[o].hide_in_selection,token:t.controllers[o].token,username:t.controllers[o].username,password:t.controllers[o].password});try{(yield t.settings.setValue("controllers",i))&&(t.showToast(t.new_device.name+t.translate.instant("has-been-added-successfully"),1500,"bottom"),t.router.url.split("/").length-2>1&&t.navCtrl.pop(),t.new_device.editing||(t.page="main"),t.show_editing_form=!1,t.new_device.editing||(t.page="main"))}catch(o){console.error(o)}}t.CtrlChanged(),t.reset_manage_options()})()}showManualAddingForm(){this.add_manual=!0,this.searching_for_device=0,this.after_search=!1,this.list_of_searched_controllers=[],this.show_editing_form=!0,this.show_advanced_control=!0,this.scrollToTop()}CancelAddingDevice(){this.after_search=!1,this.show_editing_form=!1,this.reset_manage_options()}goBack(){s.a.DefaultController&&!s.a.DefaultController.is_login&&"add-device"!=this.page?(window.history.pushState(null,null,""),window.onpopstate=function(){window.history.go(1)}):"main"==this.page?history.go(-(window.history.length-1)):(this.page="main",this.CancelAddingDevice())}CtrlChanged(){var t=this;return(0,g.Z)(function*(){try{if(console.log("All controllers",t.controllers),t.selected_mac&&""!=t.selected_mac){let n=t.controllers.find(i=>i.mac_id==t.selected_mac);if(n)for(let i=0;i<t.controllers.length;i++)t.controllers[i].isSelected=!1;if(n){console.log("Ctrl changed to ",n),s.a.DefaultController=n,t.current_controller=s.a.DefaultController,n.isSelected=!0,t.account.currentLocalIP=h.p.localIP=n.localIP,h.p.serial_no=n.serial_no,t.account.currentPublicIP=h.p.remote_ip=n.publicIP,t.account.username=n.username?n.username:"",t.account.password=n.password?n.password:"",t.account.remember=n.remember,null!=n.connection_permission&&(s.a.ConnectionPermission=n.connection_permission),s.a.ConnectionPermission==w.T.Both&&h.p.switchToLocalConnection(),s.a.ConnectionPermission==w.T.Local?h.p.switchToLocalConnection():s.a.ConnectionPermission==w.T.Remote?h.p.switchToRemoteConnection():t.platform.is("mobile")?s.a.NetworkType==U.t.NETWORK_WIFI||s.a.NetworkType==U.t.NETWORK_ETHERNET||s.a.NetworkType==U.t.NETWORK_UNKNOWN||null==s.a.NetworkType?h.p.switchToLocalConnection():h.p.switchToRemoteConnection():h.p.switchToLocalConnection();let i=[];for(let o=0;o<t.controllers.length;o++)i.push({name:t.controllers[o].name,ip:t.controllers[o].localIP,remember:t.controllers[o].remember,publicIP:t.controllers[o].publicIP,hide_in_selection:t.controllers[o].hide_in_selection,isSelected:t.controllers[o].isSelected,serial_no:t.controllers[o].serial_no,connection_permission:t.controllers[o].connection_permission,mac_id:t.controllers[o].mac_id,version:t.controllers[o].version,token:t.controllers[o].token,username:t.controllers[o].username,password:t.controllers[o].password});t.settings&&(yield t.settings.setValue("controllers",i))}}}catch(n){console.error(n)}})()}presentLoading(){var t=this;return(0,g.Z)(function*(){let n=t.loadingCtrl.create({duration:4e3,backdropDismiss:!1});return(yield n).present(),n})()}scan(){s.a.DefaultController.jsonRPC.SearchIpBySerial(s.a.DefaultController.serial_no,this.networkInterface).then(t=>{console.warn("Scan Result ",t)},t=>{console.warn(t)}).catch(t=>{console.error(t)})}deleteController(t){var n=this;return(0,g.Z)(function*(){let i=n.controllers.indexOf(t);if(i>-1&&(n.platform.is("mobile"),n.controllers.splice(i,1),n.controllers.length>0)){n.controllers[0].isSelected=!0;for(let l=0;l<n.controllers.length;l++)n.controllers[l].isSelected=!1;n.selected_mac=n.controllers[0].mac_id}n.controllers.length<1&&(n.selected_mac="",n.current_controller=void 0);let o=[];for(let l=0;l<n.controllers.length;l++)o.push({name:n.controllers[l].name,ip:n.controllers[l].localIP,remember:n.controllers[l].remember,publicIP:n.controllers[l].publicIP,hide_in_selection:n.controllers[l].hide_in_selection,isSelected:n.controllers[l].isSelected,serial_no:n.controllers[l].serial_no,connection_permission:n.controllers[l].connection_permission,mac_id:n.controllers[l].mac_id,version:n.controllers[l].version,token:n.controllers[l].token,username:n.controllers[l].remember?n.controllers[l].username:"",password:n.controllers[l].remember?n.controllers[l].password:""});n.settings&&(yield n.settings.setValue("controllers",o),yield n.CtrlChanged())})()}removeCtrl(t){var n=this;return(0,g.Z)(function*(){(yield n.alertController.create({buttons:[{text:n.translate.instant("delete"),handler:()=>{console.log("deleting "+t.name),n.deleteController(t)}},{text:n.translate.instant("cancel"),role:"cancel"}],cssClass:"network-alert",header:n.translate.instant("delete"),subHeader:n.translate.instant("are-you-sure-you-want-to-delete")})).present()})()}haveStringValue(t){return t&&""!=t}performLogin(t=!1){var n=this;return(0,g.Z)(function*(){if(console.log("sas-A1",(0,re.now)().toString()),n.ReadyAndOpenMainPage(),console.log("sas-A2",(0,re.now)().toString()),n.account.username||(n.account.username=""),n.account.password||(n.account.password=""),f.V0.skipReAuthCount=0,n.show_login_banner=!0,!s.a.DefaultController||"-1"==s.a.DefaultController.mac_id)return n.showToast(n.translate.instant("please-select-controller")),void(n.show_login_banner=!1);n.account.auth?(console.log("setting auth cookie",n.account.auth),f.V0.setXCookie("AuthCookie="+n.account.auth),console.log("navigating to PerformLoginPage"),s.a.controllers=n.controllers,n.navCtrl.navigateForward(S._g,{state:{data:{manualLogin:t,account:n.account}}})):!s.a.DefaultController||n.account.username==s.a.DefaultController.username&&n.account.password==s.a.DefaultController.password?(console.log("sas-92"),s.a.controllers=n.controllers,n.navCtrl.navigateForward(S._g,{state:{data:{manualLogin:t,account:n.account}}})):n.SaveUsernameAndPasswordInSettings().then(()=>{s.a.controllers=n.controllers,console.log("sas-90-1"),n.navCtrl.navigateForward(S._g,{state:{data:{manualLogin:t,account:n.account}}})})})()}ExecuteLoginV2(t){var n=this;return(0,g.Z)(function*(){return new Promise(function(){var i=(0,g.Z)(function*(o,l){try{yield n.settings.load();let c=s.a.DefaultController;if(c.username=n.account.username,c.password=n.account.password,yield c.LoginV2(n.account.username,n.account.password,c.serial_no,n.api.json,n.api.dataAPI,n.settings))return n.showToast(n.translate.instant("login-success")),n.SaveUsernameAndPasswordInSettings(),n.InitializeFirebasePlugin(),o(!0)}catch(c){if(c.type==T.S.INVALID_CRED){n.show_login_banner=!1,console.error("Invalid Login");let p=W.K.getHttpErrorDescription(c);return n.notifyUI(n.translate.instant("error"),n.translate.instant("invalid-user-pass"),p),o(!1)}if(c.type==T.S.UNAUTHORIZED){console.log("Serial Number Authentication failed"),n.show_login_banner=!1;let p=W.K.getHttpErrorDescription(c);return n.notifyUI(n.translate.instant("info"),n.translate.instant("require-authorization"),p),o(!1)}if(c.type==T.S.INVALID_SERIAL){console.log("Serial Number Authentication failed"),n.show_login_banner=!1;let p=W.K.getHttpErrorDescription(c);return f.V0.events.publish(T.S.INVALID_SERIAL,p),o(!1)}if(c.type==T.S.BLOCKED_HARDWARE){console.log("Hardware ID is blocked"),n.show_login_banner=!1;let p=W.K.getHttpErrorDescription(c);return f.V0.events.publish(T.S.BLOCKED_HARDWARE,p),o(!1)}if(c.type==T.S.FUNCTIONALITY_NOT_AVAILABLE)n.ExecuteLogin(t);else{if(0!=n.second_try){n.second_try=!1,n.show_login_banner=!1;let p=W.K.getHttpErrorObject(c,n.translate,h.p.isCurrentRemoteIP());return n.notifyUI(n.translate.instant("error"),p.title,p.description),o(!1)}n.second_try=!0}return l(c.type?c.type:c)}});return function(o,l){return i.apply(this,arguments)}}())})()}ExecuteLogin(t){var n=this;return(0,g.Z)(function*(){return console.log("Old Login"),yield n.settings.load(),new Promise(function(){var i=(0,g.Z)(function*(o,l){s.a.DefaultController.username=n.account.username,s.a.DefaultController.password=n.account.password,console.log("Executing login");try{console.log("Requesting Server Info"),yield s.a.DefaultController.GetServerInfo(n.settings)}catch(c){console.error(c)}yield n.api.Authenticate(n.account.username,n.account.password,t).then(c=>{if(!Z.b.getBoolean(c))return Z.b.getBoolean(c)||"false"!=c.toLowerCase()?(console.log(c),0==n.second_try?n.second_try=!0:(n.second_try=!1,n.show_login_banner=!1),console.log("Seems like different network!"),l(c)):(n.show_login_banner=!1,console.error("Invalid Login",c),n.showToast(n.translate.instant("invalid-user-pass"),4e3,"middle"),o(!1));n.current_controller.is_login=!0,n.SaveUsernameAndPasswordInSettings(),console.log("Communicating with Controller"),s.a.DefaultController.Initialize(n.api.json,n.api.dataAPI,n.settings),n.showToast(n.translate.instant("login-success"));try{f.V0.events.unsubscribe(T.S.INVALID_SERIAL),f.V0.events.unsubscribe(T.S.BLOCKED_HARDWARE),n.platform.is("mobile")&&(J.V?J.V.checkPermissions().then(function(){var p=(0,g.Z)(function*(x){"granted"==x.receive?n.initializePushNotificationService():yield J.V.register().then(()=>{n.initializePushNotificationService()})});return function(x){return p.apply(this,arguments)}}(),p=>{console.error("Firebase loading error",p)}):console.warn("No firebase found"))}catch(p){console.error("Error: Firebase Initialize Error",p),n.showToast("Error: Firebase Initialize Error",p)}},c=>{n.show_login_banner=!1,console.error("Unable to connect to the network"),n.showToast(n.translate.instant("device-connect")+s.a.DefaultController.name,4e3,"middle")}).catch(c=>{console.error("No network available"),n.show_login_banner=!1,n.show_login_banner=!1,n.notifyUI("network_error",n.translate.instant("network_error")+s.a.DefaultController.name,c),l(c)}).then(c=>{})});return function(o,l){return i.apply(this,arguments)}}())})()}InitializeFirebasePlugin(){var t=this;return(0,g.Z)(function*(){try{f.V0.events.unsubscribe(T.S.INVALID_SERIAL),f.V0.events.unsubscribe(T.S.BLOCKED_HARDWARE),console.log("Checking if cordova available",t.platform.is("mobile")),t.platform.is("mobile")&&(J.V?yield J.V.checkPermissions().then(function(){var n=(0,g.Z)(function*(i){"granted"==i.receive?t.initializePushNotificationService():yield J.V.requestPermissions().then(function(){var o=(0,g.Z)(function*(l){t.initializePushNotificationService()});return function(l){return o.apply(this,arguments)}}())});return function(i){return n.apply(this,arguments)}}(),n=>{console.error("Firebase loading error",n)}):console.warn("No firebase found"))}catch(n){console.error("Error: Firebase Initialize Error",n),t.showToast("Error: Firebase Initialize Error",n)}})()}SaveUsernameAndPasswordInSettings(){var t=this;return(0,g.Z)(function*(){if(yield t.settings.load(),t.settings.allSettings.controllers&&t.settings.allSettings.controllers.length&&t.settings.allSettings.controllers.length>0){for(let n=0;n<t.settings.allSettings.controllers.length;n++)if(s.a.DefaultController.mac_id==t.settings.allSettings.controllers[n].mac_id){t.settings.allSettings.controllers[n].username=t.account.username,t.settings.allSettings.controllers[n].password=t.account.password,t.settings.allSettings.controllers[n].remember=t.account.remember;break}t.account.remember&&(yield t.settings.setValue("controllers",t.settings.allSettings.controllers))}})()}get AppIcon(){return window.devicePixelRatio<=1?L.Y.appLogoXSmall:L.Y.appLogo}showNotificationToast(t,n=3e3){var i=this;return(0,g.Z)(function*(){(yield i.toastCtrl.create({message:t,cssClass:"notif-toast",duration:n,position:"bottom",buttons:[{text:i.translate.instant("ok")}]})).present()})()}cancelLogin(){s.a.DefaultController&&(ge.f.cancelLogin(),s.a.forceCancelAllRequest=!0,s.a.DefaultController.logout(!0),s.a.DefaultController.is_login=!1),this.show_login_banner=!1}notifyUI(t,n,i=void 0){this.login_alert_shown||(console.debug(t,n,i),i&&i.message&&(i=i.message),this.settings.allSettings.dashboard_mode?(this.show_login_banner=!0,console.warn("Showing Dashboard Alert"),this.showDashboardAlert(t,n,i),this.login_alert_shown=!0):(this.showAlert(t,n,i),this.login_alert_shown=!0))}showDashboardAlert(t,n,i=void 0){var o=this;return(0,g.Z)(function*(){let c=o.popCtrl.create({component:S.CK,componentProps:{message:n,dashboardId:o.settings.allSettings.dashboard_mode_id,"dashboard-error":ue.H.NotLogin,detailed_message:i,just_dismiss:!0,callback:()=>{location.reload(),o.performLogin()}},cssClass:"dashboard-block-view",backdropDismiss:!1,showBackdrop:!0});(yield(yield c).onDidDismiss()).data(o.login_alert_shown=!1),(yield c).present()})()}showAlert(t,n,i=void 0){var o=this;return(0,g.Z)(function*(){let l=o.popCtrl.create({component:S.S$,componentProps:{title:t,main_message:n,detailedMessage:i},cssClass:"network-alert",backdropDismiss:!1,showBackdrop:!0});(yield(yield l).onDidDismiss()).data(o.login_alert_shown=!1),(yield l).present()})()}showStatusToast(t,n,i=5e3,o="bottom"){var l=this;return(0,g.Z)(function*(){(yield l.toastCtrl.create({message:t,duration:i,positionAnchor:o,cssClass:n+" network-alert"})).present()})()}showToast(t,n=2e3,i="bottom"){var o=this;return(0,g.Z)(function*(){(yield o.toastCtrl.create({message:t,duration:n,positionAnchor:i,cssClass:"network-alert"})).present()})()}searchForControllerInCurrentNetwork(){var t=this;return(0,g.Z)(function*(){let n;t.after_search=!0,t.scanningIP="",yield t.scrollToTop(),t.list_of_searched_controllers=[],t.show_editing_form=!1;const i=c=>!!/^(?:(?:^|\.)(?:2(?:5[0-5]|[0-4]\d)|1?\d?\d)){4}$/.test(c);console.log(t.networkInterface);try{var o=yield t.networkInterface.getWiFiIPAddress();if(n=o.ip,console.log("Wifi IP Address",o.ip),!i(n))throw console.log("Invalid Wifi IP Address"),new Error}catch{try{if(n=(yield t.json.getEthernetIPFromInterface(t.networkInterface)).ip,console.log("Ethernet IP Address",n),!i(n))throw console.log("Invalid Ethernet IP Address"),new Error}catch(p){n="192.168.1.0",console.log("No network found on this device : "+p)}}t.ScanNetworksUsingIP(n).then(c=>{c&&(console.log("found boxes",c,t.list_of_searched_controllers),1==t.list_of_searched_controllers.length&&(t.after_search=!1,t.add_manual||t.fillAddingScreen(t.list_of_searched_controllers[0])))})})()}FixArNumbers(t){let n=["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],i=["\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669","\u0660"],o=["1","2","3","4","5","6","7","8","9","0"];return t.split("").map(l=>o[n.indexOf(l)]||o[i.indexOf(l)]||l).join("")}ScanNetworksUsingIP(t,n=1e4){var i=this;return(0,g.Z)(function*(){return i.add_manual=!1,new Promise(o=>{let l=t.split("."),c="";l.length>=3&&(c=l[0]+"."+l[1]+"."+l[2]),c=i.FixArNumbers(c);let p=R.s.DataApiMethod;i.list_of_searched_controllers=[];let x=[],Q=[];i.scanningIP=`${c}.*`;for(let F=1;F<255;F++){i.searching_for_device+=1;let B=c+"."+F,I=(new Date).getTime(),q=R.s.LocalProtocol+B+R.s.LocalPath;Q.push(B),x.push(i.api.json.Search(q,p+"?timestamp="+I,[],n,6).pipe((0,P.V)(n),(0,A.P)()).toPromise().catch(te=>te))}(0,O.D)(x).subscribe(F=>{for(let B=0;B<F.length;B++){i.searching_for_device-=1;let I=F[B];if(I&&I.currentDateTime&&I.serialNumber){let q=new Y.Q(I.serialNumber,Q[B],"",!1);q.serial_no=I.serialNumber,I.serverName&&(q.name=I.serverName),q.version=I.version,i.list_of_searched_controllers.push(q)}}o(!0)})})})()}editCtrl(t){var n=this;return(0,g.Z)(function*(){if(n.reset_manage_options(),console.log("Editing",t),n.editing_device_name=n.new_device.name=t.name,t.localIP){let i=t.localIP.trim();n.new_device.ip=i}if(t.serial_no&&(n.new_device.serial=t.serial_no.trim()),null!=t.connection_permission&&(n.new_device.connection_permission=t.connection_permission),t.publicIP){let i=t.publicIP.trim();n.new_device.publicIP=i}n.new_device.ctrl=t,n.show_editing_form=!0,n.new_device.editing=!0,n.scrollToTop()})()}ShowUILanguages(){var t=this;return(0,g.Z)(function*(){var n=[],i=[];return yield t.settings.getValue("lang").then(function(){var l=(0,g.Z)(function*(c){t.currentLangauge=c,n.push({type:"radio",label:"English",value:"en",checked:"en"==t.currentLangauge}),n.push({type:"radio",label:"\u0639\u0631\u0628\u0649",value:"ar",checked:"ar"==t.currentLangauge}),i.push(t.translate.instant("cancel")),i.push({text:t.translate.instant("ok"),handler:p=>{if(null==p)return;let x=p;t.translate.use(x),t.settings.setValue("lang",x),f.V0.events.publish(oe.n.UI_LANGUAGE_CHANGED,x),t.translate.setDefaultLang("ar"==x?"ar":"ur"==x?"ur":"en"),document.documentElement.dir="ar"==x||"ur"==x?"rtl":"ltr"}})});return function(c){return l.apply(this,arguments)}}()),console.log(i," Buttons"),console.log(n," Languages"),(yield t.alertController.create({cssClass:"network-alert",header:t.translate.instant("select-language"),message:t.translate.instant("select-language-for-ui"),buttons:i,inputs:n})).present().then(()=>{let l=document.getElementsByClassName("alert-radio-group")[0].querySelectorAll("button");document.getElementsByClassName("alert-button-group")[0].querySelectorAll("button")[0].tabIndex=4,document.getElementsByClassName("alert-button-group")[0].querySelectorAll("button")[1].tabIndex=5;for(var c=0;c<l.length;c++)l[c].tabIndex=c}),!1})()}isPrivateIP(t){let n=t.split(".");return"10"===n[0]||"172"===n[0]&&parseInt(n[1],10)>=16&&parseInt(n[1],10)<=31||"192"===n[0]&&"168"===n[1]}RemoteSupport(){var t=this;return(0,g.Z)(function*(){let n=t.controllers.find(i=>i.isSelected);if(n&&"-1"!=n.mac_id){if(n.localIP&&t.isPrivateIP(n.localIP))return void t.navCtrl.navigateForward(S.M$,{state:{token:n.Token,ctrl:n}});(yield t.alertController.create({message:t.translate.instant("feature-available-on-local"),header:t.translate.instant("remote-support"),buttons:[{role:"cancel",text:t.translate.instant("ok")}]})).present()}else t.showToast(t.translate.instant("please-select-controller"))})()}hide_license(){var t=this;return(0,g.Z)(function*(){return console.log("Hidding license agreemetn information"),t.show_license_agreement=!1,yield t.settings.setValue("show_license",t.show_license_agreement),!1})()}SubscribeToLanguageChangeEvent(){this.events.subscribe(oe.n.UI_LANGUAGE_CHANGED,t=>{this.translate.use(t),s.a.DefaultController&&s.a.DefaultController.languages&&(f.V0.uiLanguage=s.a.DefaultController.languages.find(n=>n.symbol==t),f.V0.uiLanguage||(f.V0.uiLanguage=s.a.DefaultController.languages.find(n=>1==n.id)))})}CheckAndLogout(t){this.is_logout=t,this.is_logout&&(this.account.remember=!1,s.a.DefaultController&&(s.a.DefaultController.is_login=!1),f.V0.events.publish("logout",!1),console.log("Logout"),setTimeout(()=>{document.getElementsByClassName("top-mic-button back")[0]&&document.getElementsByClassName("top-mic-button back")[0].click()},1e3))}changeRemember(){this.SaveRemember()}TrySavingRemember(){this.SaveRemember()}SaveRemember(){var t=this;return(0,g.Z)(function*(){t.current_controller.remember=t.account.remember;let n=t.GetAllControllerSaveModel(),i=n.find(o=>o.mac_id==t.selected_mac);i&&(i.remember=t.account.remember,yield t.settings.setValue("controllers",n)),t.scrollToTop()})()}UpdateControllerProperty(t,n,i){return!!t&&(t[n]=i,!0)}unsubscribeBackButton(){this.backButtonSubscription&&!this.backButtonSubscription.closed&&this.backButtonSubscription.unsubscribe()}ionViewDidLeave(){f.V0.events&&this.readyPageHandler&&(f.V0.events.unsubscribe(z.B.AllReady,this.readyPageHandler),this.readyPageHandler=void 0),this.unsubscribeBackButton()}ionViewDidEnter(){var t=this;return(0,g.Z)(function*(){console.debug("ionview did load login"),s.a.coming_from_perform_login&&(t.show_login_banner=!1,s.a.coming_from_perform_login=!1);const n=yield N.A.getInfo();t.device=n,t.device_manufacturer=t.device.manufacturer,t.device_model=t.device.model,t.device_platform=t.device.platform;const i=yield N.A.getId();t.deviceId=i.identifier})()}scrollToTop(){var t=this;return(0,g.Z)(function*(){return t.pageTop.scrollToTop()})()}SecretFunctionStart(){window.clearTimeout(this.secret_action_id),this.secret_action_id=window.setTimeout(()=>{this.login_alert_shown=!1,this.cancelLogin()},3e3)}SecretFunctionCancel(){window.clearTimeout(this.secret_action_id)}showSelectCtrlWindow(){var t=this;return(0,g.Z)(function*(){let n=[],i=[];console.log(t.controllers," this.controllers");for(let l=0;l<t.controllers.length;l++){let c=t.controllers[l];i.push({type:"radio",label:c.name,id:c.mac_id,value:c.mac_id,name:c.mac_id,checked:c.mac_id==t.selected_mac,handler:function(){var p=(0,g.Z)(function*(x){x&&(t.selected_mac=x.value,t.CtrlChanged(),(yield o).dismiss(),t.doshowSelectCtrlWindow&&t.performLogin(!0))});return function(Q){return p.apply(this,arguments)}}()})}n.push(t.doshowSelectCtrlWindow?{text:t.translate.instant("close"),handler:l=>{t.doshowSelectCtrlWindow&&t.navCtrl.navigateForward(S.g6)}}:t.translate.instant("close")),n.push({text:t.translate.instant("add"),handler:l=>{t.AddNewDevice()}}),console.log(n," Buttons"),setTimeout(()=>{console.log(i," Inputs")},1e3);let o=t.alertController.create({backdropDismiss:!0,cssClass:"network-alert",header:t.translate.instant("controllers"),message:t.translate.instant("please-select-controller"),buttons:n,inputs:i});(yield o).present()})()}reset_manage_options(){this.show_advanced_control=!1,this.list_of_searched_controllers=[],this.new_device={name:"",ip:"",publicIP:"",version:"",serial:"",connection_permission:w.T.Both,current_date_time:"",ctrl:void 0,editing:!1}}ctrlNameHandler(){this.nameExists=!(this.new_device.editing&&this.new_device.name==this.editing_device_name||!this.controllers.find(t=>t.name==this.new_device.name))}fetchSerialNumber(){this.enableFetchSerialNumberButton&&this.getSerialNumber()}getSerialNumber(){var t=this;return(0,g.Z)(function*(){t.enableFetchSerialNumberButton=!1;let n=!1,i=!1;try{if(t.new_device.ip){i=!0;let o=yield t.json.GetServerInfoByIp(t.new_device.ip);o&&o.serialNumber&&(t.new_device.serial=o.serialNumber,n=!0)}}catch(o){console.log("error while seraching serial number",o)}finally{t.enableFetchSerialNumberButton=!0,i?n?t.showStatusToast(t.translate.instant("serial number found from local address"),"success-toast"):t.showStatusToast(t.translate.instant("no serial number found from local address"),"error-toast"):t.showStatusToast(t.translate.instant("local address is required for serial number"),"error-toast")}})()}openPasswordRecovery(){this.navCtrl.navigateForward(S.hw,{state:{DefaultController:JSON.stringify(s.a.DefaultController)}})}}return(a=d).autoLoginUsingQueryParams=!1,a.\u0275fac=function(t){return new(t||a)(e.Y36(D.Dh),e.Y36(pe.Y),e.Y36(D.SH),e.Y36(h.p),e.Y36(me.c),e.Y36(D.Br),e.Y36(f.V0),e.Y36(D.t4),e.Y36(D.X1),e.Y36(ae.i),e.Y36(D.yF),e.Y36(he.t),e.Y36(D.HT),e.Y36(ee.sK),e.Y36(fe.B),e.Y36(D.IN),e.Y36(D.Dh),e.Y36(ve.Z),e.Y36(we.Z),e.Y36(be.z),e.Y36(xe.A),e.Y36(Ce.E),e.Y36(M.F0),e.Y36(m.jP),e.Y36(M.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["page-login"]],viewQuery:function(t,n){if(1&t&&e.Gf(ye,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pageTop=i.first)}},decls:17,vars:7,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"text-align","end","width","40px","max-width","120px","padding-top","5px","float","right","min-width","10px"],["tabindex","2","class","top-mic-button change-ui-language","style","padding:5px; width:auto; vertical-align: top;",3,"click",4,"ngIf"],[2,"width","40px","float","left","display","block"],["component-click","","tabindex","0","class","top-mic-button","tappable","","style","font-size:30px; text-align:center; vertical-align:middle;",3,"click",4,"ngIf"],["component-click","","tabindex","0","tappable","",1,"top-mic-button","back",2,"font-size","30px","text-align","center","vertical-align","middle","display","none",3,"click"],[2,"word-wrap","normal","height","45px","white-space","pre-line"],[2,"padding-top","5px","margin-right","25px",3,"src"],["pageTop",""],[3,"ngIf"],[2,"background","none"],[4,"ngIf"],["class","dashboard-block","style","z-index:9999; position:absolute; top:0; left:0; width:100%; height:100%;",4,"ngIf"],["tabindex","2",1,"top-mic-button","change-ui-language",2,"padding","5px","width","auto","vertical-align","top",3,"click"],[2,"width","30px",3,"src"],["component-click","","tabindex","0","tappable","",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["padding","","class","ion-padding page-login","style","height:100%;",4,"ngIf"],["padding","","class","page-login",4,"ngIf"],["class","license-agreement",4,"ngIf"],["padding","",1,"ion-padding","page-login",2,"height","100%"],["class","button-container","style","height:100%;",4,"ngIf"],["class","button-container",4,"ngIf"],[2,"height","auto"],[3,"submit"],["myForm","ngForm"],["padding","","class","button-container",4,"ngIf"],[1,"button-container",2,"height","100%"],[2,"text-align","center"],[3,"src",4,"ngIf"],["style","color:gray; font-size:small;",4,"ngIf"],[1,"progress"],[1,"indeterminate"],[3,"src"],[2,"color","gray","font-size","small"],[1,"button-container"],[2,"width","100%"],["stacked",""],["style","text-align:center; direction:ltr; padding:10px; \n            background:rgba(0,0,0,0.2);",4,"ngIf"],["ngFor","","style","display:none;",3,"ngForOf"],[2,"text-align","center","direction","ltr","padding","10px","background","rgba(0,0,0,0.2)"],[2,"direction","ltr","color","gray","font-size","small"],["ion-item","",2,"direction","ltr","border-radius","0"],["col-12","",2,"overflow","hidden"],[2,"font-weight","bolder"],[2,"white-space","normal"],["ion-button","",1,"full-primary-button",3,"click"],["padding","",1,"button-container"],[2,"box-shadow","none","margin-left","-14px"],[3,"hidden"],["autofocus","","placeholder","My Home...","type","text","name","NewDeviceName","maxlength","100",3,"ngModel","ngModelChange"],["NewDeviceName","ngModel"],["style","color:crimson;",4,"ngIf"],[2,"pointer-events","none","display","block","font-size","small","color","#aaa"],[3,"click"],["name","caret-down-outline",4,"ngIf"],["name","caret-up-outline",4,"ngIf"],["placeholder","192.168.1.X","name","NewDeviceIP","maxlength","100",1,"validate",3,"ngModel","ngModelChange"],["NewDeviceIP","ngModel"],[2,"color","red","font-size","small","margin-left","7px","font-weight","700",3,"hidden"],["placeholder","ESL-XXXXX-XXXXX","name","NewDeviceSerial","maxlength","100",1,"validate",3,"ngModel","ngModelChange"],["NewDeviceSerial","ngModel"],[2,"text-align","center","width","10%"],["ion-button","","clear","",3,"click"],["style","font-size: 30px;margin-top: 10px;cursor: pointer;","name","search-circle",4,"ngIf"],["style","font-size: 30px;margin-top: 10px;cursor: pointer;","name","search-circle","style","color:gray;",4,"ngIf"],["toggleIcon","caret-down-sharp","name","ConnectionPermission",1,"myselect","ion-justify-content-center",3,"ngModel","okText","cancelText","ngModelChange"],["ConnectionPermission","ngModel"],[3,"value"],["ion-button","",1,"full-primary-button",2,"width","-webkit-fill-available"],["ion-button","","secondary","","type","reset",1,"dark-button",2,"width","-webkit-fill-available",3,"click"],[2,"color","crimson"],["name","caret-down-outline"],["name","caret-up-outline"],["name","search-circle",2,"font-size","30px","margin-top","10px","cursor","pointer"],["name","search-circle",2,"color","gray"],["stacked","",2,"text-align","start","white-space","nowrap"],[4,"ngFor","ngForOf"],["size","9",2,"overflow","hidden"],["style","margin: 0 0 14px;\n                      color: #bfbfbf;\n                      overflow: inherit;\n                      white-space: nowrap;\n                      font-size: 1.4rem;\n                      line-height: normal;\n                      text-overflow: inherit;",4,"ngIf"],[2,"text-align","end"],["name","chevron-back",2,"font-size","xx-large !important","margin-top","10px","margin-right","-20px"],["side","end",4,"ngIf"],["class","break-line-grad",4,"ngIf"],[2,"margin","0 0 14px","color","#bfbfbf","overflow","inherit","white-space","nowrap","font-size","1.4rem","line-height","normal","text-overflow","inherit"],["side","end"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"],[1,"break-line-grad"],[2,"text-align","start"],["clear","","ion-button","","tabindex","-1",1,"button-clear","focusable",2,"width","100%","height","-webkit-fill-available",3,"click"],["tabindex","-1",1,"full-primary-button","focusable",2,"width","100%",3,"click"],["name","search-circle",2,"font-size","30px","margin-bottom","-8px"],["padding","",1,"page-login"],["class","login-banner",4,"ngIf"],["padding","",4,"ngIf"],[1,"login-banner"],[1,"loader"],[1,"full-primary-button",3,"click"],["stacked","",3,"dir"],["padding",""],["autocomplete","off"],["padding","","showWhen","android,ios,platform.is('core')",1,"button-container",2,"display","none"],[2,"font-size","1.6rem","margin-top","20px","margin-bottom","20px","text-align","center","font-weight","500"],[2,"padding","5px 0px"],["tabindex","-1","component-click","",1,"text-input","text-input-md","focusable",2,"justify-content","space-between","width","98%","border","1px solid transparent","display","inline-flex","border","2px solid rgba(150, 150, 150, 0.3)","margin","5px",3,"click","keydown.enter"],[2,"width","auto","text-overflow","ellipsis","white-space","pre"],["name","caret-down-circle-outline",2,"font-size","20px","display","inline-flex","margin","5px 5px 0px 0px","float","right"],["type","email","autocomplete","false","maxlength","100",1,"focusable",3,"ngModel","ngModelChange"],["type","password","autocomplete","false","maxlength","100",1,"focusable",3,"ngModel","ngModelChange"],["ion-button","","clear","","small","","tabindex","-1",2,"font-size","small","color","#008aff",3,"click"],[1,"clear-border"],["labelPlacement","end","justify","start","tabindex","-1","name","remember",1,"focusable",2,"margin","0px 10px","box-shadow","none !important",3,"ngModel","ngModelChange"],["ion-button","","tabindex","-1","component-click","",1,"full-primary-button","focusable",2,"width","-webkit-fill-available",3,"click"],[1,"license-agreement"],["col-11",""],["href","#",3,"click"],["name","close"],[2,"font-size","15px"],[1,"dashboard-block",2,"z-index","9999","position","absolute","top","0","left","0","width","100%","height","100%"],[2,"width","100%","margin-top","30px","display","inline-block","text-align","center"],[2,"padding-top","5px","width","150px",3,"src"],["padding","",2,"text-align","center","top","50%","min-height","100%","position","absolute","width","100%","transform","translateY(-18vw)",3,"touchstart","touchend"],[2,"width","auto","display","inline-block","padding-top","10px"],[1,"alert-title"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1),e.YNc(4,Ze,2,1,"a",2),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,Ie,2,0,"a",4),e.TgZ(7,"a",5),e.NdJ("click",function(){return n.goBack()}),e.qZA()(),e.TgZ(8,"div")(9,"ion-title",6),e._UZ(10,"img",7),e.qZA()()()()(),e.TgZ(11,"ion-content",null,8),e.YNc(13,tt,3,3,"ng-template",9),e.qZA(),e.TgZ(14,"ion-footer",10),e.YNc(15,nt,3,2,"ion-toolbar",11),e.qZA(),e.YNc(16,ot,10,4,"div",12)),2&t&&(e.xp6(1),e.Q6J("ngStyle",n.theAppState.iontoolbarStyle),e.xp6(3),e.Q6J("ngIf",!n.hideUILanguage),e.xp6(2),e.Q6J("ngIf","main"!=n.page||n.ShowHistoryBackButton),e.xp6(4),e.Q6J("src",n.AppIcon,e.LSH),e.xp6(3),e.Q6J("ngIf",0==n.forceHideLogin),e.xp6(2),e.Q6J("ngIf","main"==n.page),e.xp6(1),e.Q6J("ngIf",n.show_login_banner&&n.dashboardMode))},dependencies:[y.sg,y.O5,y.PC,b._Y,b.JJ,b.JL,b.nD,b.On,b.F,m.YG,m.PM,m.nz,m.wI,m.W2,m.fr,m.jY,m.Gu,m.gu,m.pK,m.Ie,m.u8,m.IK,m.td,m.Q$,m.q_,m.Nd,m.t9,m.n0,m.wd,m.sr,m.w,m.QI,m.j9,Pe.T,Ae.t,Te.c,ee.X$],styles:["ion-item[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]{background-color:transparent}ion-select[_ngcontent-%COMP%]{display:flex!important;overflow:hidden!important;max-width:98%!important}.validate[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{color:#dc143c}ion-item[_ngcontent-%COMP%], .item-md[_ngcontent-%COMP%]{background-color:transparent}ion-select[_ngcontent-%COMP%]{padding:6px;margin:5px;border-radius:5px;border:2px solid rgba(150,150,150,.3);text-align:center}.select-text[_ngcontent-%COMP%]{overflow:hidden;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:nowrap}.select-icon[_ngcontent-%COMP%]{display:block;top:5px;position:relative;width:12px;height:18px}select-md[_ngcontent-%COMP%]{padding:4px 10px}.validate[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{color:red;--border-color: none}.has-focus.ion-valid.sc-ion-input-ios-h[_ngcontent-%COMP%], .ion-touched.ion-invalid.sc-ion-input-ios-h[_ngcontent-%COMP%]{--border-color: none !important;caret-color:none!important}.ion-touched.ion-invalid.sc-ion-input-ios-h[_ngcontent-%COMP%]{--highlight-color: none !important}.disabledbutton[_ngcontent-%COMP%]{pointer-events:none;opacity:.4!important}.validate[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{color:#0f0;--border-color: none}.bottom-footer[_ngcontent-%COMP%]{text-align:center;font-size:small;margin:5px;position:absolute;bottom:5px;width:100%}.footer[_ngcontent-%COMP%]   .toolbar-background[_ngcontent-%COMP%]{background:none}.footer[_ngcontent-%COMP%]   .toolbar-title-md[_ngcontent-%COMP%]{font-size:15px}.full-primary-button[_ngcontent-%COMP%]{width:-webkit-fill-available}.button-container[_ngcontent-%COMP%]{padding:16px}ion-item-sliding[_ngcontent-%COMP%]{background:rgba(0,0,0,.16)}ion-item-sliding[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{box-shadow:none!important}.break-line-grad[_ngcontent-%COMP%]{height:1px;background-color:#0000;background-image:linear-gradient(to right,rgba(0,0,0,0) 5%,#FFF,rgba(0,0,0,0) 95%)}ion-select[_ngcontent-%COMP%]::part(icon){display:block!important}ion-select[_ngcontent-%COMP%]::part(text){font-size:1.3rem!important;justify-content:center!important}.sc-ion-alert-md[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%], .sc-ion-alert-ios[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]{color:#fff!important}.edit-button-old[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#355a75 0,#083656 100%)}.delete-button-old[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#af1921 0,#9f191d 50%,#951313 51%,#792117 100%)}"]}),d})()}];let rt=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[M.Bz.forChild(it),M.Bz]}),d})();var at=u(23934);let lt=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[ae.i],imports:[y.ez,b.u5,m.Pc,rt,ee.aw,at.o]}),d})()},59764:($,H,u)=>{u.d(H,{T:()=>g});var y=u(15861),b=u(65879),m=u(56223),M=u(28662);let g=(()=>{var Z;class w{mouseDownEventHandler(P){P.stopImmediatePropagation(),P.preventDefault()}keyEventHandler(P){var A=this;return(0,y.Z)(function*(){if(P.stopImmediatePropagation(),P.preventDefault(),"Enter"==P.key||" "==P.key){var O;let L=null===(O=document.activeElement)||void 0===O?void 0:O.className.toLowerCase();if(L&&(L.indexOf("range-knob-handle")>-1||L.indexOf("range-md")>-1)&&L.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let h=document.activeElement.getAttribute("aria-valuenow");if(h){let N=Number.parseFloat(h);if(N||0===N)return console.log("range-knob-handle value change to "+N),void A.model.update.emit(N)}}let Y=A.el.nativeElement.nodeName.toLowerCase();const f=yield M.A.getInfo();["button","ion-checkbox","a"].indexOf(Y)>-1?"android"!==f.operatingSystem.toLowerCase()&&A.el.nativeElement.click():"!android"!==f.operatingSystem.toLowerCase()&&A.clickOnElement(A.el)}})()}clickOnElement(P){if(document.createEvent){let A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),P.nativeElement.dispatchEvent(A)}}mouseDownOnElement(P){let A=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});P.nativeElement.dispatchEvent(A)}constructor(P,A,O){this.el=P,this.renderer=A,this.model=O,this.eventEmitter=new b.vpe}ngOnInit(){}}return(Z=w).\u0275fac=function(P){return new(P||Z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(m.On))},Z.\u0275dir=b.lG2({type:Z,selectors:[["","component-click",""]],hostBindings:function(P,A){1&P&&b.NdJ("mousedown",function(L){return A.mouseDownEventHandler(L)})("keypress",function(L){return A.keyEventHandler(L)})},outputs:{eventEmitter:"eventEmitter"},features:[b._Bn([m.On])]}),w})()},48753:($,H,u)=>{u.d(H,{c:()=>b});var y=u(65879);let b=(()=>{var m;class M{constructor(Z){this.elementRef=Z}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(m=M).\u0275fac=function(Z){return new(Z||m)(y.Y36(y.SBq))},m.\u0275dir=y.lG2({type:m,selectors:[["","padding",""]]}),M})()}}]);