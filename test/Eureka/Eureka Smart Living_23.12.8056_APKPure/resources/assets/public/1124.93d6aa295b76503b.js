"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1124,9764],{81124:(E,v,l)=>{l.r(v),l.d(v,{ClientRequestsPageModule:()=>y});var g=l(96814),u=l(56223),i=l(73582),C=l(70160),p=l(15861),c=l(8873),A=l(46729),x=l(51141),e=l(65879),r=l(34414),m=l(63999),f=l(59764),L=l(48753);function R(o,d){if(1&o&&(e.TgZ(0,"ion-col")(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&o){const s=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"ip"),"\xa0"),e.xp6(3),e.Oqu(s.IpAddress)}}function q(o,d){if(1&o&&(e.TgZ(0,"ion-col",24)(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&o){const s=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"mac"),"\xa0"),e.xp6(3),e.Oqu(s.MacAddress)}}function h(o,d){if(1&o&&(e.TgZ(0,"ion-col")(1,"span")(2,"b"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.qZA()()),2&o){const s=e.oxw().$implicit;e.xp6(3),e.hij("",e.lcZ(4,2,"last-login-on"),"\xa0"),e.xp6(2),e.Oqu(s.LastAttemptString)}}function O(o,d){if(1&o){const s=e.EpF();e.TgZ(0,"ion-item-sliding",7)(1,"ion-card",8)(2,"ion-item",9)(3,"ion-avatar",10),e._UZ(4,"ion-icon",11),e.qZA(),e.TgZ(5,"ion-label")(6,"div",12),e._uU(7),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.qZA(),e.TgZ(10,"ion-grid")(11,"ion-row",13),e.YNc(12,R,6,4,"ion-col",14),e.YNc(13,q,6,4,"ion-col",15),e.qZA(),e.TgZ(14,"ion-row",13),e.YNc(15,h,6,4,"ion-col",14),e.qZA()()(),e._UZ(16,"ion-icon",16),e.qZA()(),e.TgZ(17,"ion-item-options",17)(18,"ion-item-option",18),e.NdJ("click",function(){const n=e.CHM(s).$implicit,_=e.oxw();return e.KtG(_.Delete(n))}),e._UZ(19,"ion-icon",19),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ion-item-option",20),e.NdJ("click",function(){const n=e.CHM(s).$implicit,_=e.oxw();return e.KtG(_.Block(n))}),e._UZ(23,"ion-icon",21),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"ion-item-option",22),e.NdJ("click",function(){const n=e.CHM(s).$implicit,_=e.oxw();return e.KtG(_.Allow(n))}),e._UZ(27,"ion-icon",23),e._uU(28),e.ALo(29,"translate"),e.qZA()()()}if(2&o){const s=d.$implicit;e.xp6(1),e.Q6J("id","DEVICE_"+s.Id),e.xp6(3),e.Q6J("name",s.Logo),e.xp6(3),e.Oqu(s.Name),e.xp6(2),e.Oqu(s.HardwareId),e.xp6(3),e.Q6J("ngIf",s.IpAddress),e.xp6(1),e.Q6J("ngIf",s.MacAddress),e.xp6(2),e.Q6J("ngIf",s.LastAttempt),e.xp6(5),e.hij(" ",e.lcZ(21,10,"delete")," "),e.xp6(4),e.hij(" ",e.lcZ(25,12,"block")," "),e.xp6(4),e.hij(" ",e.lcZ(29,14,"allow")," ")}}const P=[{path:"",component:(()=>{var o;class d{constructor(t,a,n,_,Z){this.navCtrl=t,this.navParams=a,this.translate=n,this.alertCtrl=_,this.platform=Z,this.theAppState=c.a}GetClientRequests(){return(0,p.Z)(function*(){return c.a.DefaultController.GetClientRequests()})()}AllowClientRequest(t){var a=this;return(0,p.Z)(function*(){return c.a.DefaultController.AllowClientRequest(t).then(()=>{a.LoadAllRequests()})})()}DeleteClientRequest(t){var a=this;return(0,p.Z)(function*(){return c.a.DefaultController.DeleteClientRequest(t).then(()=>{a.LoadAllRequests()})})()}BlockClientRequest(t){var a=this;return(0,p.Z)(function*(){return c.a.DefaultController.BlockClientRequest(t).then(()=>{a.LoadAllRequests()})})()}ionViewDidEnter(){console.log("ionViewDidLoad ClientRequestsPage"),this.LoadAllRequests()}LoadAllRequests(){this.GetClientRequests().then(t=>{if(t&&t.body&&t.body.result){this.clientRequests=t.body.result,this.clientRequests=this.clientRequests.sort((a,n)=>a.LastAttempt.valueOf()-n.LastAttempt.valueOf());for(let a=0;a<this.clientRequests.length;a++){let n=this.clientRequests[a];n.LastAttemptString=A.V0.getElapsedDateTime(Date.parse(n.LastAttempt.toString()).valueOf(),this.translate.currentLang),n.Logo=n.Name.toLowerCase().indexOf("apple")>-1||n.Name.toLowerCase().indexOf("ios")>-1?"logo-apple":n.Name.toLowerCase().indexOf("chrome")>-1?"logo-chrome":n.Name.toLowerCase().indexOf("firefox")>-1?"md-browsers":n.Name.toLowerCase().indexOf("window")>-1?"logo-windows":n.Name.toLowerCase().indexOf("linux")>-1||n.Name.toLowerCase().indexOf("ubuntu")>-1?"logo-tux":n.Name.toLowerCase().indexOf("android")>-1?"logo-android":"md-laptop"}}})}Delete(t){this.ShowAlertController(this.translate.instant("delete"),"",t.Id,!1,!0)}Allow(t){this.ShowAlertController(this.translate.instant("allow"),"",t.Id,!1)}Block(t){this.ShowAlertController(this.translate.instant("block"),"",t.Id,!0)}ShowAlertController(t,a,n,_=!1,Z=!1){var w=this;return(0,p.Z)(function*(){let k=[];k.push({text:t,role:"yes",handler:()=>{Z?w.DeleteClientRequest(n):w.SetClientRequestBLocked(n,_)},cssClass:_?"block-button":Z?"delete-button":"allow-button"}),k.push({text:"cancel",role:"cancel"}),(yield w.alertCtrl.create({header:t,cssClass:"buttons-list-alert",message:a,buttons:k})).present()})()}SetClientRequestBLocked(t,a){var n=this;return(0,p.Z)(function*(){return a?n.BlockClientRequest(t):n.AllowClientRequest(t)})()}goBack(t=!1){t?this.navCtrl.navigateRoot(x.g6):this.navCtrl.back()}}return(o=d).\u0275fac=function(t){return new(t||o)(e.Y36(r.SH),e.Y36(r.X1),e.Y36(m.sK),e.Y36(r.Br),e.Y36(r.t4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["client-requests"]],decls:14,vars:5,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["padding",""],["ngFor","",3,"ngForOf"],[1,"sliding-list-item"],["tappable","",1,"generic-card",3,"id"],[1,"generic-card"],["item-start","","slot","start"],[2,"font-size","8vw",3,"name"],[1,"generic-title"],[2,"font-size","small"],[4,"ngIf"],["style","text-align:start;",4,"ngIf"],["item-end","","slot","end","name","chevron-back"],["side","end"],[1,"delete-button",3,"click"],["name","close-circle"],[1,"block-button",3,"click"],["name","close"],[1,"allow-button",3,"click"],["name","checkmark"],[2,"text-align","start"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1)(4,"div",2)(5,"a",3),e.NdJ("click",function(){return a.goBack()}),e._UZ(6,"ion-icon",4),e.qZA()(),e.TgZ(7,"div")(8,"ion-title"),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()(),e.TgZ(11,"ion-content",5)(12,"ion-list"),e.YNc(13,O,30,16,"ng-template",6),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngStyle",a.theAppState.iontoolbarStyle),e.xp6(8),e.Oqu(e.lcZ(10,3,"requests")),e.xp6(4),e.Q6J("ngForOf",a.clientRequests))},dependencies:[g.sg,g.O5,g.PC,i.BJ,i.PM,i.wI,i.W2,i.jY,i.Gu,i.gu,i.Ie,i.u8,i.IK,i.td,i.Q$,i.q_,i.Nd,i.wd,i.sr,f.T,L.c,m.X$]}),d})()}];let D=(()=>{var o;class d{}return(o=d).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(P),C.Bz]}),d})();var T=l(23934);let y=(()=>{var o;class d{}return(o=d).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,u.u5,i.Pc,D,m.aw.forChild(),T.o]}),d})()},59764:(E,v,l)=>{l.d(v,{T:()=>p});var g=l(15861),u=l(65879),i=l(56223),C=l(28662);let p=(()=>{var c;class A{mouseDownEventHandler(e){e.stopImmediatePropagation(),e.preventDefault()}keyEventHandler(e){var r=this;return(0,g.Z)(function*(){if(e.stopImmediatePropagation(),e.preventDefault(),"Enter"==e.key||" "==e.key){var m;let f=null===(m=document.activeElement)||void 0===m?void 0:m.className.toLowerCase();if(f&&(f.indexOf("range-knob-handle")>-1||f.indexOf("range-md")>-1)&&f.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let q=document.activeElement.getAttribute("aria-valuenow");if(q){let h=Number.parseFloat(q);if(h||0===h)return console.log("range-knob-handle value change to "+h),void r.model.update.emit(h)}}let L=r.el.nativeElement.nodeName.toLowerCase();const R=yield C.A.getInfo();["button","ion-checkbox","a"].indexOf(L)>-1?"android"!==R.operatingSystem.toLowerCase()&&r.el.nativeElement.click():"!android"!==R.operatingSystem.toLowerCase()&&r.clickOnElement(r.el)}})()}clickOnElement(e){if(document.createEvent){let r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.nativeElement.dispatchEvent(r)}}mouseDownOnElement(e){let r=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});e.nativeElement.dispatchEvent(r)}constructor(e,r,m){this.el=e,this.renderer=r,this.model=m,this.eventEmitter=new u.vpe}ngOnInit(){}}return(c=A).\u0275fac=function(e){return new(e||c)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(i.On))},c.\u0275dir=u.lG2({type:c,selectors:[["","component-click",""]],hostBindings:function(e,r){1&e&&u.NdJ("mousedown",function(f){return r.mouseDownEventHandler(f)})("keypress",function(f){return r.keyEventHandler(f)})},outputs:{eventEmitter:"eventEmitter"},features:[u._Bn([i.On])]}),A})()},48753:(E,v,l)=>{l.d(v,{c:()=>u});var g=l(65879);let u=(()=>{var i;class C{constructor(c){this.elementRef=c}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(i=C).\u0275fac=function(c){return new(c||i)(g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i,selectors:[["","padding",""]]}),C})()}}]);