"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9570,9764],{19570:(D,A,n)=>{n.r(A),n.d(A,{SelectedThingActionPageModule:()=>b});var u=n(96814),r=n(56223),c=n(73582),O=n(70160),f=n(15861),s=n(1901),E=n(51141),y=n(28002),o=n(82721),l=n(77144),e=n(8873),t=n(65879),T=n(34414),P=n(88446),R=n(59764),h=n(48753),k=n(63999);function N(i,m){if(1&i&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&i){const g=t.oxw();t.xp6(1),t.hij(" ",g.appState.ROAEO.thing.translated_name,"")}}function x(i,m){if(1&i){const g=t.EpF();t.TgZ(0,"ion-button",10),t.NdJ("click",function(){const v=t.CHM(g).$implicit,S=t.oxw();return t.KtG(S.select(v))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const g=m.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,g.Name)," ")}}const B=[{path:"",component:(()=>{var i;class m{constructor(a,d,v,S){if(this.navCtrl=a,this.navProv=d,this.viewCtrl=v,this.router=S,this.listOfActions=[],this.appState=e.a,this.theAppState=e.a,this.navProv.pagesToLoad.push(this),e.a.ROAEO.thing.thingType==s.a.Device)if(e.a.ROAEO.thing.type==l.Y.RGB){let M=[];for(let C=0;C<e.a.ROAEO.thing.actions.length;C++){let p=e.a.ROAEO.thing.actions[C];("SetValue"==p.Name||"StartAnimation"==p.Name||"TurnOn"==p.Name||"TurnOff"==p.Name||"SetAnimationSpeed"==p.Name||"SetPowerState"==p.Name)&&M.push(p)}this.listOfActions=M}else this.listOfActions=e.a.ROAEO.thing.actions;else(e.a.ROAEO.thing.thingType==s.a.Scene||e.a.ROAEO.thing.thingType==s.a.Room)&&(this.listOfActions=e.a.ROAEO.thing.actions)}callback(a,d,v=void 0){return(0,f.Z)(function*(){console.debug("selected-thing-action, callback")})()}select(a){if("action"==e.a.ROAEO.actionOrCondition){let d="";a.Parameters&&Object.entries(a.Parameters).length>0?(d=E.pX,e.a.ROAEO.actionName=a.Name,e.a.ROAEO.thingAction=a,e.a.ROAEO.noParameters=!1,e.a.ROAEO.actionParameters=a.Parameters):(e.a.ROAEO.roomOccupancyActionAction||(e.a.ROAEO.roomOccupancyActionAction=new y.aU),e.a.ROAEO.roomOccupancyActionAction.action=new y.XG,e.a.ROAEO.roomOccupancyActionAction.action.action=a.Name,e.a.ROAEO.roomOccupancyActionAction.action.actionParameters=void 0,e.a.ROAEO.roomOccupancyActionAction.action.thingId=e.a.ROAEO.thing.id,e.a.ROAEO.roomOccupancyActionAction.action.thingType=e.a.ROAEO.thing.thingType,e.a.ROAEO.roomOccupancyActionAction.action.type=o.v.CallAction,e.a.ROAEO.actionName=a.Name,e.a.ROAEO.thingAction=a,e.a.ROAEO.noParameters=!0,d=E.ZM),e.a.odata={ROAEO:e.a.ROAEO},this.navCtrl.navigateForward(d)}}ionViewDidEnter(){console.log("ionViewDidLoad SelectedThingActionPage")}goBack(){this.navCtrl.back()}}return(i=m).\u0275fac=function(a){return new(a||i)(t.Y36(T.SH),t.Y36(P.Y),t.Y36(T.IN),t.Y36(O.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["selected-thing-action"]],decls:15,vars:6,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"text-align","end","float","right","min-width","10px"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["padding",""],["class","edit-thing-name",4,"ngIf"],["ion-item","","class","full-primary-button","style","margin: 0;\n    display: block;\n    font-size: 1.4rem;",3,"click",4,"ngFor","ngForOf"],[1,"edit-thing-name"],["ion-item","",1,"full-primary-button",2,"margin","0","display","block","font-size","1.4rem",3,"click"]],template:function(a,d){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1),t._UZ(3,"div",2),t.TgZ(4,"div",3)(5,"a",4),t.NdJ("click",function(){return d.goBack()}),t._UZ(6,"ion-icon",5),t.qZA()(),t.TgZ(7,"div")(8,"ion-title"),t._uU(9),t.ALo(10,"translate"),t.qZA()()()()(),t.TgZ(11,"ion-content",6),t.YNc(12,N,2,1,"p",7),t.TgZ(13,"ion-list"),t.YNc(14,x,3,3,"ion-button",8),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("ngStyle",d.theAppState.iontoolbarStyle),t.xp6(8),t.Oqu(t.lcZ(10,4,"select-action")),t.xp6(3),t.Q6J("ngIf",d.appState.ROAEO&&d.appState.ROAEO.thing),t.xp6(2),t.Q6J("ngForOf",d.listOfActions))},dependencies:[u.sg,u.O5,u.PC,c.YG,c.W2,c.Gu,c.gu,c.q_,c.wd,c.sr,R.T,h.c,k.X$]}),m})()}];let _=(()=>{var i;class m{}return(i=m).\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[O.Bz.forChild(B),O.Bz]}),m})();var Z=n(23934);let b=(()=>{var i;class m{}return(i=m).\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,r.u5,c.Pc,_,k.aw.forChild(),Z.o]}),m})()},59764:(D,A,n)=>{n.d(A,{T:()=>f});var u=n(15861),r=n(65879),c=n(56223),O=n(28662);let f=(()=>{var s;class E{mouseDownEventHandler(o){o.stopImmediatePropagation(),o.preventDefault()}keyEventHandler(o){var l=this;return(0,u.Z)(function*(){if(o.stopImmediatePropagation(),o.preventDefault(),"Enter"==o.key||" "==o.key){var e;let t=null===(e=document.activeElement)||void 0===e?void 0:e.className.toLowerCase();if(t&&(t.indexOf("range-knob-handle")>-1||t.indexOf("range-md")>-1)&&t.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let R=document.activeElement.getAttribute("aria-valuenow");if(R){let h=Number.parseFloat(R);if(h||0===h)return console.log("range-knob-handle value change to "+h),void l.model.update.emit(h)}}let T=l.el.nativeElement.nodeName.toLowerCase();const P=yield O.A.getInfo();["button","ion-checkbox","a"].indexOf(T)>-1?"android"!==P.operatingSystem.toLowerCase()&&l.el.nativeElement.click():"!android"!==P.operatingSystem.toLowerCase()&&l.clickOnElement(l.el)}})()}clickOnElement(o){if(document.createEvent){let l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.nativeElement.dispatchEvent(l)}}mouseDownOnElement(o){let l=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});o.nativeElement.dispatchEvent(l)}constructor(o,l,e){this.el=o,this.renderer=l,this.model=e,this.eventEmitter=new r.vpe}ngOnInit(){}}return(s=E).\u0275fac=function(o){return new(o||s)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(c.On))},s.\u0275dir=r.lG2({type:s,selectors:[["","component-click",""]],hostBindings:function(o,l){1&o&&r.NdJ("mousedown",function(t){return l.mouseDownEventHandler(t)})("keypress",function(t){return l.keyEventHandler(t)})},outputs:{eventEmitter:"eventEmitter"},features:[r._Bn([c.On])]}),E})()},48753:(D,A,n)=>{n.d(A,{c:()=>r});var u=n(65879);let r=(()=>{var c;class O{constructor(s){this.elementRef=s}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(c=O).\u0275fac=function(s){return new(s||c)(u.Y36(u.SBq))},c.\u0275dir=u.lG2({type:c,selectors:[["","padding",""]]}),O})()}}]);