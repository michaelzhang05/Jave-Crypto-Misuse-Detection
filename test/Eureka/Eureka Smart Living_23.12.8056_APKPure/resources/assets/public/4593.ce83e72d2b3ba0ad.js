"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4593,9764],{14593:(E,U,f)=>{f.r(U),f.d(U,{ItemListPageModule:()=>oi});var b=f(96814),d=f(56223),g=f(73582),P=f(70160),p=f(15861),v=f(8873),J=f(56544),O=f(37092),Z=f(32206),I=f(9952),h=f(77144),L=f(79616),N=f(90274),x=f(46729),S=f(51141),Y=f(19462),q=f(24257),e=f(65879),D=f(34414),F=f(63999),R=f(6593),$=f(77935),V=f(59764),Q=f(69705),K=f(11998);let B=(()=>{var o;class s{constructor(){this._live=!1,this._width="80px",this._height="80px",this.timestamp=Math.floor((new Date).valueOf()/1e3),this.imageUrl="",this.showCameraThumbnail=!1,this.refreshStaticImageTimeout=-1,this.retrytimerTimeout=-1,console.log("CameraIcon Component"),this.showCameraThumbnail=x.V0.showCameraThumbnail,x.V0.events.unsubscribe("IPChanged"),x.V0.events.subscribe("IPChanged",i=>{this.ionViewWillEnter()})}ngOnInit(){this.ionViewWillEnter()}ngOnDestroy(){this.ionViewWillLeave()}set camera(i){this._camera=i,this.imageUrl=this._camera.directImageUrl}set live(i){this._live=i,this.timestamp=Math.floor((new Date).valueOf()/1e3)}get live(){return this._live}set width(i){this._width=i}get width(){return this._width}set height(i){this._height=i}get height(){return this._height}get camera(){return this._camera}ionViewWillEnter(){this.imageUrl=K.p.isCurrentRemoteIP()?this._camera.proxyImageUrl:this.live?this._camera.directVideoUrl:this._camera.directImageUrl,this.timestamp=Math.floor((new Date).valueOf()/1e3)}ionViewWillLeave(){clearTimeout(this.refreshStaticImageTimeout),this.imageUrl="#"}loadedData(){this.live&&(this.imageUrl==this.camera.directImageUrl||this.imageUrl==this.camera.proxyImageUrl)&&(clearTimeout(this.refreshStaticImageTimeout),this.refreshStaticImageTimeout=window.setTimeout(()=>{this.timestamp=Math.floor((new Date).valueOf()/1e3)},this.camera.refresh_time))}imageLoadErrorHandler(){var i=this;return(0,p.Z)(function*(){i.imageUrl==i.camera.noVideoUrl&&(0==v.a.ConnectedToTheInternet||1==v.a.IsMinimized)||(yield setTimeout(()=>{switch(i.imageUrl){case i.camera.directVideoUrl:clearInterval(i.retrytimerTimeout),i.imageUrl=i.camera.proxyVideoUrl?i.camera.proxyVideoUrl:i.camera.noVideoUrl;break;case i.camera.proxyVideoUrl:clearInterval(i.retrytimerTimeout),i.imageUrl=i.camera.directImageUrl?i.camera.directImageUrl:i.camera.noVideoUrl;break;case i.camera.directImageUrl:clearInterval(i.retrytimerTimeout),i.imageUrl=i.camera.proxyImageUrl?i.camera.proxyImageUrl:i.camera.noVideoUrl;break;default:i.imageUrl=i.camera.noVideoUrl,clearInterval(i.retrytimerTimeout),!v.a.IsMinimized&&v.a.ConnectedToTheInternet&&(i.retrytimerTimeout=window.setTimeout(()=>{i.ionViewWillEnter()},5e3))}},5e3))})()}}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["camera-icon"]],inputs:{camera:"camera",live:"live",width:"width",height:"height"},decls:1,vars:5,consts:[["alt","",1,"device-icon",2,"min-height","80px",3,"src","load","error"]],template:function(i,n){1&i&&(e.TgZ(0,"img",0),e.NdJ("load",function(){return n.loadedData()})("error",function(){return n.imageLoadErrorHandler()}),e.qZA()),2&i&&(e.Udp("width",n.width)("height",n.height),e.Q6J("src",n.showCameraThumbnail?n.imageUrl+"&ts="+n.timestamp:"assets/img/themes/default/camera.png",e.LSH))},styles:[".device-icon[alt][_ngcontent-%COMP%]:after{display:block;position:absolute;top:5px;left:9px;width:80px;height:80px;background-color:#323232;font-family:Helvetica;font-weight:300;content:attr(alt);border-radius:5px;border:1px solid gray}"]}),s})();var G=f(15231);class H{static convertTempToC(s,t="C"){if(t=t.toLowerCase(),s=Number(s),!Number.isNaN(s))return"k"==t?s-273.15:"f"==t?.5555*(s-32):s}}function z(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function j(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function W(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",21)(3,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleLights(n.room))}),e._UZ(4,"img",6),e.qZA(),e.YNc(5,z,2,1,"div",23),e.qZA(),e.TgZ(6,"ion-col",21)(7,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleCurtains(n.room))}),e._UZ(8,"img",6),e.qZA(),e.YNc(9,j,2,1,"div",23),e.qZA(),e.TgZ(10,"ion-col",21)(11,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleAC(n.room))}),e._UZ(12,"img",6),e.qZA(),e.YNc(13,W,2,1,"div",23),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_lights?"":" inactive")+" _80px"),e.xp6(1),e.Q6J("src",t.room.is_lights_on?t.IMAGES.light._100:t.IMAGES.light._10,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_lights_locked),e.xp6(2),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_curtain?"":" inactive")+" _80px"),e.xp6(1),e.Q6J("src",t.room.is_curtains_open?t.IMAGES.shutter._100:t.IMAGES.shutter._0,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_curtains_locked),e.xp6(2),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_ac?"":" inactive")+" _80px"),e.xp6(1),e.Q6J("src",t.room.is_ac_on?t.IMAGES.thermostat_state.on:t.IMAGES.thermostat_state.off,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_ac_locked)}}function ee(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function te(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function ie(o,s){if(1&o&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.IMAGES.lock_thing,e.LSH)}}function ne(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-grid")(2,"ion-row")(3,"ion-col",21)(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleLights(n.room))}),e._UZ(5,"img",6),e.qZA(),e.YNc(6,ee,2,1,"div",23),e.qZA(),e.TgZ(7,"ion-col",21)(8,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleCurtains(n.room))}),e._UZ(9,"img",6),e.qZA(),e.YNc(10,te,2,1,"div",23),e.qZA(),e.TgZ(11,"ion-col",21)(12,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleAC(n.room))}),e._UZ(13,"img",6),e.qZA(),e.YNc(14,ie,2,1,"div",23),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_lights?"":" inactive")),e.xp6(1),e.Q6J("src",t.room.is_lights_on?t.IMAGES.light._100:t.IMAGES.light._0,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_lights_locked),e.xp6(2),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_curtain?"":" inactive")),e.xp6(1),e.Q6J("src",t.room.is_curtains_open?t.IMAGES.shutter._100:t.IMAGES.shutter._0,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_curtains_locked),e.xp6(2),e.Tol("button ion-button lock room-item-buttons"+(t.room.have_ac?"":" inactive")),e.xp6(1),e.Q6J("src",t.room.is_ac_on?t.IMAGES.thermostat_state.on:t.IMAGES.thermostat_state.off,e.LSH),e.xp6(1),e.Q6J("ngIf",t.room.is_ac_locked)}}function oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.moveItemUp(n.room))}),e._UZ(2,"ion-icon",28),e.qZA(),e.TgZ(3,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.moveItemDown(n.room))}),e._UZ(4,"ion-icon",30),e.qZA()()}}function re(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-card",1)(1,"ion-grid")(2,"ion-row",2)(3,"ion-col",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.callopenRoomClick())}),e._UZ(6,"img",6),e.qZA()()(),e.TgZ(7,"ion-col",7)(8,"ion-grid")(9,"ion-row")(10,"ion-col",8)(11,"h2",9),e.NdJ("touchstart",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.longPressStartThing(n,r.room.id,3))})("mousedown",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.longPressMouseStart(n,r.room.id,3))})("touchmove",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.touchMoving(n))})("touchend",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.pressEndThing(n))}),e._uU(12),e.qZA(),e._UZ(13,"div",10),e.qZA()(),e.TgZ(14,"ion-row")(15,"ion-col"),e.YNc(16,X,14,12,"ion-grid",11),e.qZA()()()()(),e.YNc(17,ne,15,12,"ion-row",11),e.TgZ(18,"ion-row")(19,"ion-col"),e._UZ(20,"div",10),e.TgZ(21,"ion-grid",12)(22,"ion-row")(23,"ion-col",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showOccupancyDialog(n.room))}),e._UZ(24,"img",14),e.qZA(),e.TgZ(25,"ion-col",15),e._UZ(26,"img",16),e.qZA(),e.TgZ(27,"ion-col",15),e._UZ(28,"img",16),e.qZA(),e.TgZ(29,"ion-col",15),e._UZ(30,"img",16),e.qZA()(),e.TgZ(31,"ion-row")(32,"ion-col",17)(33,"div",18),e._uU(34),e.qZA()(),e.TgZ(35,"ion-col",19)(36,"div",18),e._uU(37),e.qZA()(),e.TgZ(38,"ion-col",15)(39,"div",18),e._uU(40),e.qZA()(),e.TgZ(41,"ion-col",15)(42,"div",18),e._uU(43),e.qZA()()()()()()(),e.YNc(44,oe,5,0,"div",20),e.qZA()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("src",null==t.room?null:t.room.image_url,e.LSH),e.xp6(6),e.Oqu(t.room.translated_name),e.xp6(4),e.Q6J("ngIf",t._screen.width>419),e.xp6(1),e.Q6J("ngIf",t._screen.width<=419),e.xp6(6),e.Tol(null!=t.room.OccupancyState?"":"inactive"),e.xp6(1),e.Udp("background-image",t.room.ForceOccupancyState?"url("+t.IMAGES.forced_occupancy+")":t.room.ManualOccupancyState?"url("+t.IMAGES.manual_occupancy+")":""),e.Q6J("src",t.room.OccupancyState?t.IMAGES.occupied:t.IMAGES.unoccupied,e.LSH),e.xp6(1),e.Tol(t.room.have_temp?"":"inactive"),e.xp6(1),e.Q6J("src",t.IMAGES.thermometer_icon,e.LSH),e.xp6(1),e.Tol(t.room.have_door?"":"inactive"),e.xp6(1),e.Q6J("src",t.room.is_door_open?t.IMAGES.door_open_icon:t.IMAGES.door_close_icon,e.LSH),e.xp6(1),e.Tol(t.room.have_msensor?"":"inactive"),e.xp6(1),e.Q6J("src",t.room.is_msensor_active?t.IMAGES.motion.active:t.IMAGES.motion.idle,e.LSH),e.xp6(3),e.Udp("display",null==t.room.OccupancyState?"none":"block"),e.xp6(1),e.Oqu(t.room.OccupancyDT),e.xp6(1),e.Tol(t.room.have_temp?"":"inactive"),e.xp6(2),e.Oqu(t.room.temp),e.xp6(1),e.Tol(t.room.have_door?"":"inactive"),e.xp6(2),e.Oqu(t.room.door_breached_time_string),e.xp6(1),e.Tol(t.room.have_msensor?"":"inactive"),e.xp6(2),e.Oqu(t.room.sensor_breached_time_string),e.xp6(1),e.Q6J("ngIf",t.reorderSaveState)}}let ae=(()=>{var o;class s{callopenRoomClick(){this.openRoomClick.emit()}set room(i){this._room=i}get room(){return this._room}constructor(i,n,r,l,a,_){this.translate=i,this.alertCtrl=n,this.platform=r,this.navCtrl=l,this.popoverCtrl=a,this.loadingCtrl=_,this.openRoomClick=new e.vpe,this.delay_update=!1,this.IMAGES=Y.s.Images,this.refreshIntervalId=-1,this.reorderSaveState=!1,this.toggleLightsForRoom=(c,y)=>{for(let m=0;m<c.children_rooms.length;m++)this.toggleLightsForRoom(c.children_rooms[m],y);console.log("toggle lights for room",c.name),this.delay_update=!0;let A=y;for(let m=0;m<c.devices.length;m++){let u=c.devices[m];u.permission_readonly||u.ExcludeFromRoomControl||u.category==I.I.Lighting&&(u.type==h.Y.Switch||u.type==h.Y.Dimmer||u.type==h.Y.RGB)&&u.turnState(A)}},this.toggleCurtainsForRoom=(c,y)=>{for(let m=0;m<c.children_rooms.length;m++)this.toggleCurtainsForRoom(c.children_rooms[m],y);this.delay_update=!0;let A=y;for(let m=0;m<c.devices.length;m++){let u=c.devices[m];u.permission_readonly||u.category==I.I.Curtains&&u.type==h.Y.Shutter&&(A?u.turnOn():u.turnOff())}},this.toggleACForRoom=(c,y)=>{console.log("Toggle AC for room",c.name);for(let m=0;m<c.children_rooms.length;m++)this.toggleACForRoom(c.children_rooms[m],y);this.delay_update=!0;let A=y;for(let m=0;m<c.devices.length;m++){let u=c.devices[m];u.permission_readonly||u.category==I.I.HVAC&&u.type==h.Y.Thermostat&&(1==A?u.turnOn():0==A&&u.turnOff())}},this.longPressCounter=0,this.longPressDetected=!1,this.yScrollDt=0,this._screen=screen}ionViewWillEnter(){}ionViewWillLeave(){window.clearInterval(this.refreshIntervalId)}ngAfterViewInit(){setTimeout(()=>{x.V0.events.subscribe(G.B.DeviceUpdate.toString(),()=>{this.updateRoom()}),this.refreshIntervalId=window.setInterval(()=>{this.updateRoom()},4e3),this.updateRoom()})}ngOnDestroy(){window.clearInterval(this.refreshIntervalId),x.V0.events.unsubscribe(G.B.DeviceUpdate)}updateRoom(){return new Promise(()=>{if(!this.room)return;this.room.is_ac_locked=!1,this.room.have_temp=!1,this.room.have_door=!1,this.room.is_door_open=!1,this.room.have_msensor=!1,this.room.have_humidity=!1,this.room.is_lights_locked=!1,this.room.is_curtains_locked=!1,this.room.is_msensor_active=!1,this.room.lights_value=0,this.room.curtains_value=0,this.room.door_breached_time=0,this.room.sensor_breached_time=0,this.room.temp=" ",this.room.humidity=" ",this.room.door_breached_time_string="",this.room.sensor_breached_time_string="";let i=1==this.room.OccupancyState?this.room.OccupiedSince:this.room.UnoccupiedSince;i&&(this.room.OccupancyDT=x.V0.getElapsedDateTime(new Date(i),this.translate.currentLang,!1));let n=0,r=0,l=!1,a=new Date(1971,1,1).valueOf(),_=!1,c=new Date(1971,1,1).valueOf(),y=this.getRoomAllDevices(this.room);for(let A=0;A<y.length;A++){let m=y[A];if(m.online&&m.visible&&m.enabled)switch(m.type){case h.Y.DoorSensor:let u=m;this.room.have_door=!0;let M=m;if(l=l||u.IsOn,l){let T=Date.parse(M.LastBreached.toString());a<T&&(a=T,this.room.door_breached_time=T)}else{let T=Date.parse(M.LastClosed.toString());a<T&&(a=T,this.room.door_breached_time=T)}break;case h.Y.MotionSensor:this.room.have_msensor=!0,_=_||m.IsOn;let w=m;if(_){let T=w.LastBreached.valueOf();c<T&&(this.room.sensor_breached_time=T,c=T)}else if(w.LastInactive){let T=w.LastInactive.valueOf();c<T&&(this.room.sensor_breached_time=T,c=T)}break;case h.Y.HumiditySensor:this.room.have_humidity=!0,this.room.humidity=m.value+"%";break;case h.Y.TemperatureSensor:if(m.visible&&m.enabled&&m.online){let T=H.convertTempToC(m.properties.Value,m.properties.unit);null!=T&&!Number.isNaN(T)&&0!=T&&(n+=T,r+=1),this.room.have_temp=!0}break;case h.Y.Thermostat:if(m.visible&&m.enabled&&m.online){let T=H.convertTempToC(m.RoomTemperature,m.room_temperature_unit);null!=T&&0!=T&&(n+=T,r+=1),this.room.have_temp=!0}}}this.room.is_msensor_active=_,this.room.have_msensor&&(this.room.sensor_breached_time=c,this.room.sensor_breached_time_string=x.V0.getElapsedDateTime(new Date(this.room.sensor_breached_time),this.translate.currentLang,!1)),this.room.is_door_open=l,this.room.door_breached_time_string=x.V0.getElapsedDateTime(this.room.door_breached_time,this.translate.currentLang,!1),this.room.is_lights_locked=this.room.is_lights_locked&&this.room.have_lights,this.room.is_ac_locked=this.room.is_ac_locked&&this.room.have_ac,this.room.is_curtains_locked=this.room.is_curtains_locked&&this.room.have_curtain,r>0&&(this.room.temp=0!=n?(n/r).toFixed(0)+"\xb0C":"---\xb0C")})}getRoomAllDevices(i,n=void 0){let r=i.devices.filter(l=>null==n||null!=n&&l.type!=n);for(let l=0;l<i.children_rooms.length;l++)r=r.concat(this.getRoomAllDevices(i.children_rooms[l],h.Y.DoorSensor));return r}moveItemUp(i){console.log("move up",i)}moveItemDown(i){console.log("move down",i)}showOccupancyDialog(i){var n=this;return(0,p.Z)(function*(){let r=yield n.popoverCtrl.create({component:S.Ow,cssClass:"room-occupancy-popover",backdropDismiss:!0,componentProps:{header:n.translate.instant("occupancy"),room:i,occupancy:i.OccupancyState,forcedOccupancy:i.ForceOccupancyState}});(yield r.onDidDismiss()).data().then(function(){var l=(0,p.Z)(function*(a){if(a&&null!=a.occupancy&&null!=a.forcedOccupancy){let _=n.loadingCtrl.create();try{yield i.setOccupancyState(a.occupancy,a.forcedOccupancy)}catch{}(yield _).dismiss()}});return function(a){return l.apply(this,arguments)}}()),r.present()})()}toggle(i,n,r,l,a,_,c=!0){var y=this;return(0,p.Z)(function*(){c&&i.children_rooms.length>0?(yield y.alertCtrl.create({header:n,message:r,cssClass:"network-alert",buttons:[{text:y.translate.instant(l),handler:()=>{_(i,a)}},{text:y.translate.instant("cancel"),role:"cancel",handler:()=>{}}]})).present():_(i,a)})()}toggleLights(i,n=!0){let r=this.translate.instant(i.is_lights_on?"turn-off-all-light":"turn-on-all-light"),l=this.translate.instant(i.is_lights_on?"TurnOff":"TurnOn");this.toggle(i,i.name,r,l,!i.is_lights_on,this.toggleLightsForRoom,n),this.updateRoom()}toggleAC(i,n=!0){let r=this.translate.instant(i.is_ac_on?"turn-off-all-acs":"turn-on-all-acs"),l=this.translate.instant(i.is_ac_on?"TurnOff":"TurnOn");this.toggle(i,i.name,r,l,!i.is_ac_on,this.toggleACForRoom,n),this.updateRoom()}toggleCurtains(i,n=!0){let r=this.translate.instant(i.is_curtains_open?"close-all-curtains":"open-all-curtains"),l=this.translate.instant(i.is_curtains_open?"close":"open");this.toggle(i,i.name,r,l,!i.is_curtains_open,this.toggleCurtainsForRoom,n),this.updateRoom()}longPressMouseStart(i,n=1,r=1){let l=_=>{this.touchMoving(_)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",_=>{this.pressEndThing(_),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",l)}),this.longPressStartThing(i,n,r)}longPressStartThing(i,n=1,r=1){i.preventDefault(),this.yScrollDt="mousedown"==i.type?i.pageY:i.changedTouches[0].pageY,this.longPressDetected=!1,this.longPressCounter=window.setTimeout(()=>{this.longPressDetected=!0,this.ChangeVoiceLanguageThing(n,r)},1e3)}touchMoving(i){i.preventDefault(),Math.abs(this.yScrollDt-("mousemove"==i.type?i.pageY:i.changedTouches[0].pageY))>1&&(this.yScrollDt=0,clearTimeout(this.longPressCounter),this.longPressDetected=!1)}pressEndThing(i){i.preventDefault(),clearTimeout(this.longPressCounter),this.longPressDetected=!1}ChangeVoiceLanguageThing(i,n=3){let r=v.a.DefaultController.voiceCommandControl.voice_thing_names.filter(_=>_.thing_id==i&&_.language_id==x.V0.defaultVoiceLanguage.id&&-1!=_.id&&_.thing_type==n),l=[],a=v.a.DefaultController.rooms.find(_=>_.id==i);for(let _=0;_<r.length;_++){if(null==r[_])continue;let c=r[_];c.language_id==x.V0.defaultVoiceLanguage.id&&3==c.thing_type&&l.push({id:c.id,command:""==c.command?null:c.command,lang_id:c.language_id})}console.log(a),this.navCtrl.navigateForward(S.OE,{queryParams:{commands:l,thing:a.translated_name,direction:x.V0.defaultVoiceLanguage.direction,ui_direction:this.platform.isRTL?"rtl":"ltr",language_symbol:x.V0.defaultVoiceLanguage.displaySymbol,language_id:x.V0.defaultVoiceLanguage.id,thing_id:a.id,thing_type:3}})}compare(i,n){return(i=0==i?999999:i)==(n=0==n?999999:n)?0:i<n?-1:1}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(F.sK),e.Y36(D.Br),e.Y36(D.t4),e.Y36(D.SH),e.Y36(D.Dh),e.Y36(D.HT))},o.\u0275cmp=e.Xpm({type:o,selectors:[["room"]],inputs:{room:"room"},outputs:{openRoomClick:"openRoomClick"},decls:1,vars:1,consts:[["ion-item","",4,"ngIf"],["ion-item",""],[1,"ion-justify-content-end"],["size","auto","tappable","",1,"button"],["item-start",""],["ion-button","",1,"room-item-image","_80px",3,"click"],[3,"src"],[1,"ion-align-self-top"],[2,"text-align","center"],[1,"room-title",3,"touchstart","mousedown","touchmove","touchend"],[1,"break-line-grad"],[4,"ngIf"],[1,"room-detail-grid"],["size","3",2,"pointer-events","all",3,"click"],[1,"room-device-icon",2,"background-size","cover",3,"src"],["size","3"],[1,"room-device-icon",3,"src"],["size","3",3,"class"],[1,"room-detail-text"],["size","3",2,"direction","ltr"],["class","overlay-clear no-pointer",4,"ngIf"],["size","4"],["ion-button","",3,"click"],["class","overlay-clear",4,"ngIf"],[1,"overlay-clear"],[1,"lock-device",2,"width","16px","vertical-align","middle","top","5px","position","absolute","left","5px",3,"src"],[1,"overlay-clear","no-pointer"],["ion-button","","clear","",1,"pointer",2,"position","absolute","padding","19px","top","0","right","-1px","width","10px",3,"click"],["name","chevron-up",2,"color","white","border-top","3px solid"],["ion-button","","clear","",1,"pointer",2,"position","absolute","padding","19px","bottom","0","right","-1px","width","10px",3,"click"],["name","chevron-down",2,"color","white","border-bottom","3px solid"]],template:function(i,n){1&i&&e.YNc(0,re,45,31,"ion-card",0),2&i&&e.Q6J("ngIf",n.room)},dependencies:[b.O5,g.PM,g.wI,g.jY,g.gu,g.Nd,Q.t],styles:["._80px[_ngcontent-%COMP%]{width:80px;margin-right:8px;height:8px;min-height:80px;min-width:80px}.room-device-icon[_ngcontent-%COMP%]{width:40px;max-width:64px;font-size:12px;display:block;vertical-align:middle;margin:auto}.room-detail-text[_ngcontent-%COMP%]{font-size:.8em}.room-item-buttons[_ngcontent-%COMP%]{color:#fff;width:60px;min-width:10px;text-align:center;height:60px;min-height:auto}.room-item-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:inherit}.device-icon[_ngcontent-%COMP%], .room-item-image[_ngcontent-%COMP%]{border:1px solid gray;padding:5px;background-color:#0000001a;border-radius:3px}.room-item-image[_ngcontent-%COMP%]{width:23vw;height:23vw;margin:auto;max-height:80%}.item[_ngcontent-%COMP%], .item-ios[_ngcontent-%COMP%]{background-color:#5353534d;box-shadow:1px 1px 3px #333;border-radius:3px}ion-card[_ngcontent-%COMP%]{background:var(--ion-background)}ion-item[_ngcontent-%COMP%]{background:var(--ion-background)}.room-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:4vw!important;white-space:wrap}.room-detail-grid[_ngcontent-%COMP%]{text-align:center}"]}),s})();var le=f(73290);function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle_reorder())}),e._UZ(1,"ion-icon",13),e.qZA()}}function se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.add_device())}),e._UZ(1,"ion-icon",14),e.qZA()}}function ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle_hand())}),e._UZ(1,"ion-icon",15),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("name",t.disable_hand?"hand-right-outline":"thumbs-up")}}function me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.get_default_order())}),e._UZ(1,"ion-icon",16),e.qZA()}}function de(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save_reorder())}),e._UZ(1,"ion-icon",17),e.qZA()}}function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cancel_reorder())}),e._UZ(1,"ion-icon",18),e.qZA()}}function pe(o,s){if(1&o&&e._UZ(0,"img",35),2&o){const t=e.oxw(2);e.Q6J("src",null==t.room?null:t.room.image_url,e.LSH)}}function ue(o,s){if(1&o&&e._UZ(0,"img",36),2&o){const t=e.oxw(2);e.Q6J("src",null==t.filter?null:t.filter.image_url,e.LSH)}}function fe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("touchstart",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.EditFavStart())})("touchend",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.EditFavEnd())}),e._UZ(1,"ion-icon",38),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol("button button-md clear-btn small-filter-button"),e.Udp("border",t.editFavThings?"2px solid":""),e.xp6(1),e.Q6J("name",t.filterFavorite?"star":"star-outline")}}function he(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.EditFavEnd())}),e._UZ(1,"ion-icon",38),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol("button button-md clear-btn small-filter-button"),e.Udp("border",t.editFavThings?"2px solid":""),e.xp6(1),e.Q6J("name",t.filterFavorite?"star":"star-outline")}}function ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-toolbar")(1,"ion-grid",19)(2,"ion-row")(3,"ion-col",20)(4,"button",21),e.NdJ("click",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.changeRoom(n))}),e.TgZ(5,"ion-row",22),e.YNc(6,pe,1,1,"img",23),e._uU(7,"\xa0 "),e.TgZ(8,"ion-col",24)(9,"ion-label",25),e._uU(10),e.qZA()(),e.TgZ(11,"ion-col",26),e._UZ(12,"ion-icon",27),e.qZA()()()(),e.TgZ(13,"ion-col",20)(14,"button",21),e.NdJ("click",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.changeFilterCategory(n))}),e.TgZ(15,"ion-row",22),e.YNc(16,ue,1,1,"img",28),e.TgZ(17,"ion-col",24)(18,"ion-label",25),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"ion-col",26),e._UZ(22,"ion-icon",27),e.qZA()()()()(),e.TgZ(23,"ion-row")(24,"ion-col",29)(25,"ion-searchbar",30),e.NdJ("ionInput",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.getItems(n))}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"ion-col",26)(28,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle_on_devices())}),e._UZ(29,"ion-icon",32),e.qZA()(),e.TgZ(30,"ion-col",26),e.YNc(31,fe,2,5,"button",33),e.YNc(32,he,2,5,"button",34),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.room),e.xp6(4),e.Oqu(null==t.room?null:t.room.translated_name),e.xp6(6),e.Q6J("ngIf",t.filter),e.xp6(3),e.Oqu(e.lcZ(20,9,null==t.filter?null:t.filter.name)),e.xp6(6),e.s9C("placeholder",e.lcZ(26,11,"search")),e.xp6(3),e.Tol((t.filter_on_devices_only?"button button-md turn-on-btn":"button button-md clear-btn")+" small-filter-button"),e.xp6(3),e.Q6J("ngIf",t.platform.is("ios")||t.platform.is("android")),e.xp6(1),e.Q6J("ngIf",!t.platform.is("ios")&&!t.platform.is("android"))}}function xe(o,s){if(1&o&&(e.TgZ(0,"ion-list-header",42)(1,"ion-label",43),e._UZ(2,"img",44),e.TgZ(3,"ion-label",45),e._uU(4),e.qZA()()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",t.roomImage,e.LSH),e.xp6(2),e.Oqu(t.devicesRoomName)}}function Te(o,s){if(1&o&&e._UZ(0,"img",81),2&o){const t=e.oxw(2).$implicit;e.Tol(t.advanced_options?"device-icon":""),e.Q6J("src",t._image_id.main_url,e.LSH)}}function Ie(o,s){if(1&o&&e._UZ(0,"img",81),2&o){const t=e.oxw(2).$implicit;e.Tol(t.advanced_options?"device-icon":""),e.Q6J("src",t._image_id.main_url,e.LSH)}}function we(o,s){if(1&o&&e._UZ(0,"img",81),2&o){const t=e.oxw(2).$implicit;e.Tol(t.advanced_options?"device-icon":""),e.Q6J("src",t._image_id.main_url,e.LSH)}}function be(o,s){if(1&o&&e._UZ(0,"img",81),2&o){const t=e.oxw(2).$implicit;e.Tol(t.advanced_options?"device-icon":""),e.Q6J("src",t._image_id.main_url,e.LSH)}}function ye(o,s){if(1&o&&e._UZ(0,"img",81),2&o){const t=e.oxw(2).$implicit;e.Tol(t.advanced_options?"device-icon":""),e.Q6J("src",t._image_id.main_url,e.LSH)}}function Ze(o,s){if(1&o&&(e.TgZ(0,"div",82),e._UZ(1,"img",83),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Udp("background-color","rgb("+t.r+","+t.g+","+t.b+")"),e.xp6(1),e.Q6J("src",t.current_animation>0?i.IMAGES.rgb_anim:i.IMAGES.rgb_default_color,e.LSH)}}function Ce(o,s){if(1&o&&e._UZ(0,"camera-icon",84),2&o){const t=e.oxw(2).$implicit;e.Q6J("camera",t)}}function Ae(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Udp("color",t.type==i.DeviceType.FloodSensor||t.type==i.DeviceType.SmokeSensor?"crimson":""),e.xp6(1),e.hij(" ",t.last_breached_string," ")}}function Le(o,s){if(1&o&&(e.TgZ(0,"span",85),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.total_power,"\xa0kWh ")}}function ke(o,s){if(1&o&&(e.TgZ(0,"span",85),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t.properties?null:t.properties.ActiveTotalImport,"\xa0kWh ")}}function Pe(o,s){if(1&o&&(e.TgZ(0,"span",85),e._uU(1),e.TgZ(2,"var")(3,"sup"),e._uU(4,"3"),e.qZA()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.total_volume,"\xa0m")}}function Me(o,s){if(1&o&&(e.TgZ(0,"span",85),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.displayValue," ")}}function Se(o,s){if(1&o&&(e.TgZ(0,"p",86),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" (",t.properties.LastUnlockedBy,") ")}}function De(o,s){if(1&o&&(e.TgZ(0,"span")(1,"span",87),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.hij("(",t.current_animation_name,")")}}function Oe(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.value?t.last_activation_string:t.last_deactivation_string," ")}}function Ue(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.last_activation_string," ")}}function Je(o,s){if(1&o&&(e.TgZ(0,"h2"),e._uU(1),e.qZA(),e.TgZ(2,"span"),e._uU(3),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.value),e.xp6(2),e.hij(" ",t.lastValueTimeString," ")}}function Ye(o,s){if(1&o&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.value)}}function Ne(o,s){if(1&o&&e._uU(0),2&o){const t=e.oxw(2).$implicit,i=e.oxw(3).$implicit;e.hij(" ",i.properties["UI."+t.name+".Value"]," ")}}function Ee(o,s){if(1&o&&e.YNc(0,Ne,1,1,"ng-template",61),2&o){const t=e.oxw().$implicit;e.Q6J("ngIf",1==t.type)}}function Fe(o,s){1&o&&e.YNc(0,Ee,1,1,"ng-template",61),2&o&&e.Q6J("ngIf",1==s.$implicit.visible_on_card)}function qe(o,s){if(1&o&&(e.TgZ(0,"span",88),e.YNc(1,Fe,1,1,"ng-template",10),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",null==t.device_ui?null:t.device_ui.controls)}}function Qe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.PowerToggle())}),e._UZ(2,"ion-icon",90),e.qZA()()}if(2&o){const t=e.oxw(4);e.Udp("direction",t.opposite_dir)}}function Ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.toggle())}),e._UZ(1,"ion-toggle",92),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol(t.IsOn?"toggle-on":"toggle-off"),e.Q6J("checked",t.IsOn)}}function He(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.toggle())}),e._UZ(1,"ion-toggle",92),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol(t.IsOn?"toggle-on":"toggle-off"),e.Q6J("checked",t.IsOn)}}function Re(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.toggle())}),e._UZ(1,"ion-toggle",92),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol(t.IsOn?"toggle-on":"toggle-off"),e.Q6J("checked",t.IsOn)}}function $e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.main())}),e._UZ(1,"ion-toggle",92),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol(t.IsOn?"toggle-on":"toggle-off"),e.Q6J("checked",t.IsOn)}}function Ve(o,s){if(1&o&&(e.TgZ(0,"div",94)(1,"ion-label",95),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.lnq("",null==t.properties?null:t.properties.Value,"",e.lcZ(3,3,"\xb0"),"",e.lcZ(4,5,null==t.properties?null:t.properties.Unit),"")}}function Ke(o,s){if(1&o&&(e.TgZ(0,"div",96)(1,"ion-label",95),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.AsE("",null==t.properties?null:t.properties.Value," ",e.lcZ(3,2,"lux"),"")}}function Be(o,s){if(1&o&&(e.TgZ(0,"div",96)(1,"ion-label",95),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.displayValue)}}function ze(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.switchLock())}),e._UZ(2,"ion-icon",38),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Udp("direction","ltr"==i.dir?"rtl":"ltr"),e.xp6(2),e.Q6J("name",t.is_locked?"lock-closed":"lock-open")}}function je(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.openItem(n))}),e._UZ(2,"ion-icon",97),e.qZA()()}if(2&o){const t=e.oxw(4);e.Udp("direction",t.opposite_dir)}}function We(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",98)(1,"button",99),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.Close())}),e._UZ(2,"ion-icon",100),e.qZA(),e.TgZ(3,"button",99),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.Stop())}),e._UZ(4,"ion-icon",101),e.qZA(),e.TgZ(5,"button",99),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.Open())}),e._UZ(6,"ion-icon",102),e.qZA()()}}function Xe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",103),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2).$implicit;return e.KtG(r.callButtonAction(n.name))}),e._UZ(1,"span",104),e.ALo(2,"sanitizeHtml"),e.qZA()}if(2&o){const t=e.oxw().$implicit,i=e.oxw(4);e.Udp("direction",i.opposite_dir),e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,3,t.text),e.oJD)}}function et(o,s){if(1&o&&e.YNc(0,Xe,3,5,"ng-template",61),2&o){const t=s.$implicit,i=e.oxw(2).$implicit,n=e.oxw(2);e.Q6J("ngIf",i.type==n.DeviceType.VirtualDevice&&2==t.type&&t.visible_on_card)}}function tt(o,s){if(1&o&&(e.TgZ(0,"div",129)(1,"table",130)(2,"tr")(3,"td",131)(4,"span",132),e._uU(5),e.qZA()(),e.TgZ(6,"td",131),e._uU(7),e.qZA()(),e.TgZ(8,"tr")(9,"td"),e._UZ(10,"ion-icon",133),e.qZA(),e.TgZ(11,"td",131),e._uU(12),e.qZA()(),e.TgZ(13,"tr")(14,"td")(15,"span",132),e._uU(16,"F"),e.qZA()(),e.TgZ(17,"td"),e._uU(18),e.qZA()()()()),2&o){const t=e.oxw(3).$implicit;e.xp6(5),e.Oqu(t.weather_condition_name),e.xp6(2),e.AsE("\xa0",t.weather_temperature," ",t.weather_temperature_unit,""),e.xp6(5),e.AsE("\xa0",t.weather_humidity," ",t.weather_humidity_unit," "),e.xp6(6),e.AsE("\xa0",t.weather_wind," ",t.weather_wind_unit,"")}}function it(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",105),e.YNc(1,tt,19,7,"div",106),e.TgZ(2,"div",107)(3,"div",108)(4,"div",109)(5,"div",110)(6,"div",111),e._UZ(7,"img",112),e.TgZ(8,"span",113),e._uU(9),e.qZA()(),e.TgZ(10,"span",111),e._UZ(11,"img",114),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span",111),e._UZ(15,"img",115),e._uU(16),e.ALo(17,"translate"),e.qZA()()()(),e.TgZ(18,"div",108)(19,"div",109)(20,"div",116)(21,"button",117),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.IncreaseTemperature())}),e._UZ(22,"ion-icon",118),e.qZA()(),e.TgZ(23,"div",119)(24,"ion-label",120),e._uU(25),e.qZA()(),e.TgZ(26,"div",116)(27,"button",117),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.DecreaseTemperature())}),e._UZ(28,"ion-icon",121),e.qZA()()()(),e.TgZ(29,"div",108)(30,"div",122)(31,"table",49)(32,"tr")(33,"td",123)(34,"div",124)(35,"p",125),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",126),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.IncreaseACMode())}),e._UZ(39,"img",127),e.qZA()()()(),e._UZ(40,"tr"),e.TgZ(41,"tr")(42,"td",123)(43,"div",124)(44,"p",125),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"button",128),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.IncreaseFanMode())}),e._UZ(48,"img",127),e.qZA()()()()()()()()()}if(2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Thermostat&&i._screen.width>315),e.xp6(1),e.Udp("width",i._screen.width>315?"70%":"100%"),e.xp6(7),e.AsE("",0==t.RoomTemperature?"---":t.RoomTemperature,"",t.room_temperature_unit,""),e.xp6(3),e.hij(" ",e.lcZ(13,13,t.CurrentAcState),""),e.xp6(4),e.hij(" ",e.lcZ(17,15,t.CurrentFanState),""),e.xp6(9),e.AsE("",t.SetTemperature,"",t.set_temperature_unit,""),e.xp6(11),e.hij(" ",e.lcZ(37,17,"mode"),""),e.xp6(3),e.Q6J("src",t.AcStateIcon,e.LSH),e.xp6(6),e.hij(" ",e.lcZ(46,19,"fan"),""),e.xp6(3),e.Q6J("src",t.FanStateIcon,e.LSH)}}function nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",134)(1,"ion-grid")(2,"ion-row")(3,"ion-col",135)(4,"div",136)(5,"ion-range",137),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(2).$implicit;return e.KtG(r.Volume=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.UpdateVolume())}),e.qZA()()(),e.TgZ(6,"ion-col",138)(7,"ion-label"),e._uU(8),e.qZA()()()()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(5),e.Q6J("ngModel",t.Volume),e.xp6(3),e.Oqu(t.Volume)}}function ot(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-label",139),e._uU(1),e.qZA(),e.TgZ(2,"div",136)(3,"ion-range",140),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(2).$implicit,l=e.oxw(3).$implicit;return e.KtG(l.properties["UI."+r.name+".Value"]=n)})("ionChange",function(n){e.CHM(t);const r=e.oxw(2).$implicit,l=e.oxw(3).$implicit;return e.KtG(l.callSliderUpdateFromUI(n,r.name))}),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.text),e.xp6(2),e.Q6J("id",t.name)("ngModel",i.properties["UI."+t.name+".Value"])}}function rt(o,s){if(1&o&&e.YNc(0,ot,4,3,"ng-template",61),2&o){const t=e.oxw().$implicit;e.Q6J("ngIf",3==t.type)}}function at(o,s){1&o&&e.YNc(0,rt,1,1,"ng-template",61),2&o&&e.Q6J("ngIf",1==s.$implicit.visible_on_card)}function lt(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,at,1,1,"ng-template",10),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",null==t.device_ui?null:t.device_ui.controls)}}function _t(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",136)(1,"ion-range",141),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(2).$implicit;return e.KtG(r.value=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.onSliderChange(n.value))}),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.value)}}function st(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-range",143),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(3).$implicit;return e.KtG(r.value=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.KtG(n.onSliderChange(n.value))}),e.qZA()}if(2&o){const t=e.oxw(3).$implicit;e.Q6J("ngModel",t.value)}}function ct(o,s){if(1&o&&(e.TgZ(0,"div",136),e.YNc(1,st,1,1,"ion-range",142),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Dimmer)}}function mt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-range",145),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(3).$implicit;return e.KtG(r.hue=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.KtG(n.onSliderChange(n.hue))}),e.qZA()}if(2&o){const t=e.oxw(3).$implicit;e.Q6J("ngModel",t.hue)}}function dt(o,s){if(1&o&&(e.TgZ(0,"div",136),e.YNc(1,mt,1,1,"ion-range",144),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB)}}function gt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-range",147),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(3).$implicit;return e.KtG(r.brightnessSlider=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.KtG(n.updateBrightness())}),e._UZ(1,"ion-icon",148),e.qZA()}if(2&o){const t=e.oxw(3).$implicit,i=e.oxw(2);e.Udp("background",i._sanitizer.bypassSecurityTrustStyle(i.platform.isRTL?"linear-gradient(to left,hsl("+t.hue+",100%,0%) 0%,hsl("+t.hue+",100%,62.5%) 75%,hsl("+t.hue+",100%,100%) 100%)":"linear-gradient(to right,hsl("+t.hue+",100%,0%) 0%,hsl("+t.hue+",100%,62.5%) 75%,hsl("+t.hue+",100%,100%) 100%)")),e.Q6J("ngModel",t.brightnessSlider)}}function pt(o,s){if(1&o&&(e.TgZ(0,"div",136),e.YNc(1,gt,2,3,"ion-range",146),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB)}}function ut(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-range",150),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(3).$implicit;return e.KtG(r.w=n)})("ionChange",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.KtG(n.updateColor())}),e.qZA()}if(2&o){const t=e.oxw(3).$implicit,i=e.oxw(2);e.Akn(i.platform.isRTL?"background:linear-gradient(to left, #000, #FFF)":"background:linear-gradient(to right, #000, #FFF)"),e.Q6J("ngModel",t.w)}}function ft(o,s){if(1&o&&(e.TgZ(0,"div",136),e.YNc(1,ut,1,3,"ion-range",149),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB)}}function ht(o,s){if(1&o&&(e.TgZ(0,"ion-row",73)(1,"ion-item",151)(2,"ion-label",152),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-label",153),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item",154)(8,"ion-label",152),e._uU(9),e.qZA(),e.TgZ(10,"ion-label",153),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item",154)(13,"ion-label",152),e._uU(14),e.qZA(),e.TgZ(15,"ion-label",153),e._uU(16),e.qZA()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.AsE(" T:\xa0",null==t.properties?null:t.properties.Temperature,"",e.lcZ(4,7,"\xb0")," "),e.xp6(3),e.hij(" PM2.5:\xa0",null==t.properties?null:t.properties.ParticulateMatter25," "),e.xp6(3),e.hij(" H:\xa0",null==t.properties?null:t.properties.Humidity,"\xa0% "),e.xp6(2),e.hij(" VOC:\xa0",null==t.properties?null:t.properties.VolatileOrganicCompound," "),e.xp6(3),e.hij(" I:\xa0",null==t.properties?null:t.properties.Illuminance,"\xa0Lux "),e.xp6(2),e.hij(" L:\xa0",null==t.properties?null:t.properties.Loudness,"\xa0dB ")}}function vt(o,s){if(1&o&&(e.TgZ(0,"ion-row",73)(1,"ion-item",151)(2,"ion-label",152),e._uU(3),e.qZA(),e.TgZ(4,"ion-label",153),e._uU(5),e.qZA()(),e.TgZ(6,"ion-item",154)(7,"ion-label",152),e._uU(8),e.qZA(),e.TgZ(9,"ion-label",153),e._uU(10),e.qZA()(),e.TgZ(11,"ion-item",154)(12,"ion-label",152),e._uU(13),e.qZA(),e.TgZ(14,"ion-label",153),e._uU(15),e.qZA()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" V:\xa0",null==t.properties?null:t.properties.Voltage," "),e.xp6(2),e.hij(" ",null==t.properties?null:t.properties.Frequency,"\xa0Hz "),e.xp6(3),e.hij(" A:\xa0",null==t.properties?null:t.properties.ActiveCurrent," "),e.xp6(2),e.hij(" ",null==t.properties?null:t.properties.Temperature,"\xa0C\u2070 "),e.xp6(3),e.hij(" kW:\xa0",null==t.properties?null:t.properties.ActivePower," "),e.xp6(2),e.hij(" ",null==t.properties?null:t.properties.PowerFactor," \xa0PF ")}}function xt(o,s){if(1&o&&(e.TgZ(0,"ion-row",73)(1,"ion-item",155)(2,"ion-label",156),e._uU(3," Flow"),e.TgZ(4,"var")(5,"sup"),e._uU(6,"(+)"),e.qZA()(),e._uU(7),e.TgZ(8,"var")(9,"sup"),e._uU(10,"3"),e.qZA()(),e._uU(11,"/h "),e.qZA(),e.TgZ(12,"ion-label",153),e._uU(13," Flow"),e.TgZ(14,"var")(15,"sup"),e._uU(16,"(-)"),e.qZA()(),e._uU(17),e.TgZ(18,"var")(19,"sup"),e._uU(20,"3"),e.qZA()(),e._uU(21,"/h "),e.qZA()(),e.TgZ(22,"ion-item",154)(23,"ion-label",157),e._uU(24),e.qZA(),e.TgZ(25,"ion-label",153),e._uU(26),e.qZA()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(7),e.hij(":\xa0",null==t.properties?null:t.properties.FlowRate,"\xa0m"),e.xp6(10),e.hij(":\xa0",null==t.properties?null:t.properties.ReverseFlowRate,"\xa0m"),e.xp6(7),e.hij(" Water:\xa0",null==t.properties?null:t.properties.WaterTemperature,"\xa0C\u2070 "),e.xp6(2),e.hij(" Ambient:\xa0",null==t.properties?null:t.properties.AmbientTemperature,"\xa0C\u2070 ")}}function Tt(o,s){if(1&o&&(e.TgZ(0,"ion-row",73)(1,"ion-item",155)(2,"ion-label",158),e._UZ(3,"img",112),e._uU(4),e.qZA(),e.TgZ(5,"ion-label",159),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item",154)(8,"ion-label",158),e._UZ(9,"img",114),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-label",159),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ion-item",154)(16,"ion-label",158),e._UZ(17,"img",115),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"ion-label",159),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" \xa0Set:\xa0",t.SetTemperature," "),e.xp6(2),e.hij(" Room:\xa0",t.RoomTemperature," "),e.xp6(4),e.hij(" \xa0Mode:\xa0",e.lcZ(11,6,t.CurrentAcMode)," "),e.xp6(3),e.hij(" State:\xa0",e.lcZ(14,8,t.CurrentAcState)," "),e.xp6(5),e.hij(" \xa0Mode:\xa0",e.lcZ(19,10,t.CurrentFanMode)," "),e.xp6(3),e.hij(" State:\xa0",e.lcZ(22,12,t.CurrentFanState)," ")}}function It(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"ion-img",161),e.TgZ(2,"ion-popover"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("src",t.IMAGES.open_door_exit),e.xp6(2),e.Oqu(e.lcZ(4,2,"door-left-open"))}}function wt(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"ion-img",161),e.TgZ(2,"ion-popover"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("src",t.IMAGES.open_door_exit_error),e.xp6(2),e.Oqu(e.lcZ(4,2,"intrusion"))}}function bt(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"ion-img",161),e.TgZ(2,"ion-popover"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("src",t.IMAGES.dont_disturb),e.xp6(2),e.Oqu(e.lcZ(4,2,"privacy"))}}function yt(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"ion-img",161),e.TgZ(2,"ion-popover"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("src",t.IMAGES.lock_borken),e.xp6(2),e.Oqu(e.lcZ(4,2,"tamper"))}}function Zt(o,s){if(1&o&&(e.TgZ(0,"ion-row",160),e.YNc(1,It,5,4,"ng-container",8),e.YNc(2,wt,5,4,"ng-container",8),e.YNc(3,bt,5,4,"ng-container",8),e.YNc(4,yt,5,4,"ng-container",8),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.doorLeftOpen),e.xp6(1),e.Q6J("ngIf",t.intrusion),e.xp6(1),e.Q6J("ngIf",t.privacy),e.xp6(1),e.Q6J("ngIf",t.tamper)}}function Ct(o,s){if(1&o&&(e.TgZ(0,"ion-label",167),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.power,"W ")}}function At(o,s){if(1&o&&(e.TgZ(0,"ion-label",168),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.energy,"kWh ")}}function Lt(o,s){if(1&o&&e._UZ(0,"img",169),2&o){const t=e.oxw(3).$implicit;e.Q6J("src",t.getBatteryImage,e.LSH)}}function kt(o,s){if(1&o&&(e.TgZ(0,"ion-col",162),e.YNc(1,Ct,2,1,"ion-label",163),e.qZA(),e.TgZ(2,"ion-col",164),e.YNc(3,At,2,1,"ion-label",165),e.YNc(4,Lt,1,1,"img",166),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.isPowerMetering),e.xp6(1),e.Udp("direction",i.opposite_dir),e.xp6(1),e.Q6J("ngIf",t.isPowerMetering),e.xp6(1),e.Q6J("ngIf",t.isBatteryPowered)}}function Pt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",170)(1,"button",171),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw().$implicit,l=e.oxw();return e.KtG(l.moveItemUp(n,r.room_index))}),e._UZ(2,"ion-icon",172),e.qZA(),e.TgZ(3,"button",173),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw().$implicit,l=e.oxw();return e.KtG(l.moveItemDown(n,r.room_index))}),e._UZ(4,"ion-icon",174),e.qZA()()}}function Mt(o,s){if(1&o&&(e.TgZ(0,"ion-label",178),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.Q6J("id","label-toast"+t.id),e.xp6(1),e.Oqu(t.warningDescription)}}function St(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",175),e.NdJ("mouseover",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.setOpen(n,!0))})("mouseout",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.setOpen(n,!1))}),e._UZ(1,"ion-icon",176),e.TgZ(2,"ion-grid",123)(3,"ion-col"),e.YNc(4,Mt,2,2,"ion-label",177),e.qZA()()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.Q6J("ngIf",t.ShowToast)}}function Dt(o,s){if(1&o&&(e.TgZ(0,"ion-label",178),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.Q6J("id","label-toast"+t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,"device-error-"+t.offline_reason))}}function Ot(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",175),e.NdJ("mouseover",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.setOpen(n,!0))})("mouseout",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.setOpen(n,!1))}),e._UZ(1,"ion-icon",176),e.TgZ(2,"ion-grid",123)(3,"ion-col"),e.YNc(4,Dt,3,4,"ion-label",177),e.qZA()()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(4),e.Q6J("ngIf",t.ShowToast)}}function Ut(o,s){1&o&&(e.TgZ(0,"div",179),e._UZ(1,"img",180),e.TgZ(2,"ion-popover",181),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"locked")," "))}function Jt(o,s){1&o&&(e.TgZ(0,"div",182),e._UZ(1,"img",183),e.TgZ(2,"ion-popover",184),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"disabled")," "))}function Yt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",185)(1,"button",186),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.toggleFav(n))}),e._UZ(2,"ion-icon",38),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("name",t.fav?"star":"star-outline")}}function Nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-reorder",47)(1,"ion-card",48)(2,"ion-label",49)(3,"ion-grid")(4,"ion-row")(5,"ion-col",50)(6,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openItem(n))}),e.YNc(7,Te,1,3,"img",52),e.YNc(8,Ie,1,3,"img",52),e.YNc(9,we,1,3,"img",52),e.YNc(10,be,1,3,"img",52),e.YNc(11,ye,1,3,"img",52),e.YNc(12,Ze,2,3,"div",53),e.YNc(13,Ce,1,1,"camera-icon",54),e.qZA()(),e.TgZ(14,"ion-col")(15,"div",55)(16,"table",49)(17,"tr")(18,"td",56)(19,"h2",57),e.NdJ("touchstart",function(n){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.longPressStartThing(n,r.id))})("mousedown",function(n){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.longPressMouseStart(n,r.id))})("touchmove",function(n){e.CHM(t);const r=e.oxw(3);return e.KtG(r.touchMoving(n))})("touchend",function(n){e.CHM(t);const r=e.oxw(3);return e.KtG(r.pressEndThing(n))}),e._uU(20),e.qZA(),e.YNc(21,Ae,2,3,"span",58),e.YNc(22,Le,2,1,"span",59),e.YNc(23,ke,2,1,"span",59),e.YNc(24,Pe,5,1,"span",59),e.YNc(25,Me,2,1,"span",59),e.YNc(26,Se,2,1,"p",60),e.YNc(27,De,3,1,"span",8),e.YNc(28,Oe,2,1,"span",8),e.YNc(29,Ue,2,1,"span",8),e.YNc(30,Je,4,2,"ng-template",61),e.YNc(31,Ye,2,1,"ng-template",61),e.YNc(32,qe,2,1,"span",62),e.qZA(),e.TgZ(33,"td"),e.YNc(34,Qe,3,2,"div",63),e.YNc(35,Ge,2,3,"div",64),e.YNc(36,He,2,3,"div",65),e.YNc(37,Re,2,3,"div",65),e.YNc(38,$e,2,3,"div",65),e.YNc(39,Ve,5,7,"div",66),e.YNc(40,Ke,4,4,"div",67),e.YNc(41,Be,3,1,"div",67),e.YNc(42,ze,3,3,"div",63),e.YNc(43,je,3,2,"div",63),e.YNc(44,We,7,0,"div",68),e.YNc(45,et,1,1,"ng-template",10),e.qZA()()()()()(),e.TgZ(46,"ion-row")(47,"ion-col"),e.YNc(48,it,49,21,"div",69),e.YNc(49,nt,9,2,"div",70),e.YNc(50,lt,2,1,"div",8),e.YNc(51,_t,2,1,"div",71),e.YNc(52,ct,2,1,"div",71),e.YNc(53,dt,2,1,"div",71),e.YNc(54,pt,2,1,"div",71),e.YNc(55,ft,2,1,"div",71),e.YNc(56,ht,17,9,"ion-row",72),e.YNc(57,vt,16,6,"ion-row",72),e.YNc(58,xt,27,4,"ion-row",72),e.YNc(59,Tt,23,14,"ion-row",72),e.qZA()(),e.TgZ(60,"ion-row",73)(61,"ion-col",74),e.YNc(62,Zt,5,4,"ion-row",75),e.qZA(),e.YNc(63,kt,5,5,"ng-template",61),e.qZA()(),e.YNc(64,Pt,5,0,"div",76),e.YNc(65,St,5,1,"div",77),e.YNc(66,Ot,5,1,"div",77),e.YNc(67,Ut,5,3,"div",78),e.YNc(68,Jt,5,3,"div",79),e.YNc(69,Yt,3,1,"div",80),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.uIk("device-id",t.id)("polling",!!t.polling_interval),e.xp6(6),e.Q6J("ngIf",t.type!=i.DeviceType.RGB&&t.type!=i.DeviceType.Camera&&t.type!=i.DeviceType.GenericMeter&&t.type!=i.DeviceType.PowerMeter&&t.type!=i.DeviceType.WaterMeter&&t.type!=i.DeviceType.AcMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.GenericMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.WaterMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.PowerMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.AcMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Camera),e.xp6(7),e.Oqu(t.translated_name),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.MotionSensor||t.type==i.DeviceType.DoorSensor||t.type==i.DeviceType.OccupancySensor||t.type==i.DeviceType.SmokeSensor||t.type==i.DeviceType.Lock||t.type==i.DeviceType.FloodSensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.AcMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.PowerMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.WaterMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.GenericMeter),e.xp6(1),e.Q6J("ngIf",null==t.properties?null:t.properties.LastUnlockedBy),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB&&t.current_animation&&0!=t.current_animation.action),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.OccupancySensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.DoorBell),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.GenericSensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RemoteControl),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.VirtualDevice),e.xp6(2),e.Q6J("ngIf",t.type==i.DeviceType.MultiMedia&&t.SupportPowerCommand),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Thermostat),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Switch),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Dimmer),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.TemperatureSensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.LightSensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.HumiditySensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Lock),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Camera),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Shutter),e.xp6(1),e.Q6J("ngForOf",null==t.device_ui?null:t.device_ui.controls),e.xp6(3),e.Q6J("ngIf",t.type==i.DeviceType.Thermostat),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.MultiMedia&&t.SupportVolumeStatus),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.VirtualDevice),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Shutter&&(null==t.properties?null:t.properties.SupportsPositioning)),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.Dimmer),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.RGB),e.xp6(1),e.Q6J("ngIf",t.support_white),e.xp6(1),e.Q6J("ngIf",t.support_white),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.EnvironmentSensor),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.PowerMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.WaterMeter),e.xp6(1),e.Q6J("ngIf",t.type==i.DeviceType.AcMeter),e.xp6(3),e.Q6J("ngIf",t.doorLeftOpen||t.isBatteryPowered||t.doorLeftOpen||t.intrusion||t.privacy||t.tamper),e.xp6(1),e.Q6J("ngIf",t.isPowerMetering||t.isBatteryPowered),e.xp6(1),e.Q6J("ngIf",i.reorder_save_state),e.xp6(1),e.Q6J("ngIf",t.HasWarning),e.xp6(1),e.Q6J("ngIf",0==t.online&&0==t.forceOnline),e.xp6(1),e.Q6J("ngIf",1==t.enabled&&1==t.permission_readonly),e.xp6(1),e.Q6J("ngIf",0==t.enabled),e.xp6(1),e.Q6J("ngIf",i.editFavThings)}}function Et(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Nt,70,54,"ion-reorder",46),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Ft(o,s){1&o&&(e.TgZ(0,"span",196),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"running")))}function qt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",170)(1,"button",171),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw().$implicit,l=e.oxw();return e.KtG(l.moveItemUp(n,r.room_index,!1))}),e._UZ(2,"ion-icon",197),e.qZA(),e.TgZ(3,"button",173),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw().$implicit,l=e.oxw();return e.KtG(l.moveItemDown(n,r.room_index,!1))}),e._UZ(4,"ion-icon",174),e.qZA()()}}function Qt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",185)(1,"div")(2,"button",198),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.KtG(n.makeTemproryOnline())}),e._UZ(3,"ion-icon",199),e.qZA(),e.TgZ(4,"ion-label",200),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(5),e.Oqu(e.lcZ(6,1,"device-error-"+t.offline_reason))}}function Gt(o,s){1&o&&(e.TgZ(0,"div",179),e._UZ(1,"img",180),e.TgZ(2,"ion-popover",184),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"locked")," "))}function Ht(o,s){1&o&&(e.TgZ(0,"div",182),e._UZ(1,"img",183),e.TgZ(2,"ion-popover",184),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"disabled")," "))}function Rt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",185)(1,"button",201),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.toggleFav(n))}),e._UZ(2,"ion-icon",38),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol("overlay-fav disable-hover button button-md button-clear button-clear-md"),e.xp6(1),e.Q6J("name",t.fav?"star":"star-outline")}}function $t(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-reorder")(1,"ion-card",48)(2,"ion-grid")(3,"ion-row",187)(4,"ion-col",188)(5,"div")(6,"img",189),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.runScene(n))}),e.qZA()()(),e.TgZ(7,"ion-col",190),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.runScene(n))}),e.TgZ(8,"h4",191),e.NdJ("touchstart",function(n){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.longPressStartThing(n,r.id,2))})("mousedown",function(n){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.longPressMouseStart(n,r.id,2))})("touchmove",function(n){e.CHM(t);const r=e.oxw(3);return e.KtG(r.touchMoving(n))})("touchend",function(n){e.CHM(t);const r=e.oxw(3);return e.KtG(r.pressEndThing(n))}),e._uU(9),e.qZA(),e.YNc(10,Ft,3,3,"span",192),e.qZA(),e.TgZ(11,"ion-col",193)(12,"button",194),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.runScene(n))}),e._UZ(13,"ion-icon",195),e.qZA()()()(),e.YNc(14,qt,5,0,"div",76),e.YNc(15,Qt,7,3,"div",80),e.YNc(16,Gt,5,3,"div",78),e.YNc(17,Ht,5,3,"div",79),e.YNc(18,Rt,3,3,"div",80),e.qZA()()}if(2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(6),e.Q6J("src",null==t?null:t.image_url,e.LSH),e.xp6(3),e.Oqu(t.translated_name),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.running_instances)>0),e.xp6(1),e.Udp("direction",i.opposite_dir),e.xp6(3),e.Q6J("ngIf",i.reorder_save_state),e.xp6(1),e.Q6J("ngIf",0==t.online&&0==t.forceOnline),e.xp6(1),e.Q6J("ngIf",1==t.enabled&&1==t.permission_readonly),e.xp6(1),e.Q6J("ngIf",0==t.enabled),e.xp6(1),e.Q6J("ngIf",i.editFavThings)}}function Vt(o,s){if(1&o&&(e.ynx(0),e.YNc(1,$t,19,10,"ion-reorder",8),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Kt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"room",203),e.NdJ("openRoomClick",function(){e.CHM(t);const n=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.openRoomfromcomponent(n))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("room",t)}}function Bt(o,s){if(1&o&&(e.TgZ(0,"ion-item-group"),e.YNc(1,Kt,1,1,"room",202),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function zt(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Bt,2,1,"ion-item-group",8),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}function jt(o,s){if(1&o&&(e.TgZ(0,"ion-item-group"),e.YNc(1,zt,2,1,"ng-container",41),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.rooms)}}function Wt(o,s){if(1&o){const t=e.EpF();e.YNc(0,xe,5,2,"ion-list-header",39),e.TgZ(1,"ion-reorder-group",40),e.NdJ("ionItemReorder",function(n){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.reorderDevices(n,l.room_index))}),e.YNc(2,Et,2,1,"ng-container",41),e.qZA(),e.TgZ(3,"ion-reorder-group",40),e.NdJ("ionItemReorder",function(n){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.reorderScenes(n,l.room_index))}),e.YNc(4,Vt,2,1,"ng-container",41),e.qZA(),e.YNc(5,jt,2,1,"ion-item-group",8)}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngIf",null!=t.devicesRoomName&&!t.hidden&&t.isTitleVisible),e.xp6(1),e.Q6J("disabled",i.disable_hand),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.devices),e.xp6(1),e.Q6J("disabled",i.disable_hand),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.scenes),e.xp6(1),e.Q6J("ngIf",!i.filterFavorite)}}function Xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",204),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.ManualEditFav())}),e.TgZ(1,"ion-button",205),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"ion-icon",206),e.qZA()()}2&o&&(e.xp6(2),e.AsE(" ",e.lcZ(3,2,"edit"),"\xa0(",e.lcZ(4,4,"favorite"),")\xa0"))}const ei=[{path:"",component:(()=>{var o;class s extends J.n{add_device(){this.addDeviceButtonClicked=!0,this.navCtrl.navigateForward(S.ze,{state:{data:{command:"add-device",room:this.room}}}).then(i=>{console.log("Navigated to Device...")})}constructor(i,n,r,l,a,_,c,y,A,m,u,M,w,k,C){if(super(n,c,a,_,i,u,!0,C,y),this.navCtrl=i,this.api=n,this.loadingCtrl=r,this.actionSheetCtrl=l,this.alertCtrl=a,this.translate=_,this.platform=c,this.toastCtrl=y,this._sanitizer=A,this.modalCtrl=m,this.changeDetectorRef=M,this.settings=w,this.popoverCtrl=k,this.router=C,this.addDeviceButtonClicked=!1,this.IMAGES=Y.s.Images,this.listOfRooms=[],this.DeviceType=h.Y,this.DeviceCapability=Z.q,this.visible_device_ids=[],this.filter_on_devices_only=!1,this.enable_reorder=!1,this.dir="ltr",this.opposite_dir="rtl",this.enterFirstTime=!0,this.theAppState=v.a,this.selected_room_id=-1,this._temp_update_timer=-1,this.selected_filter_id=-1,this.isToastOpen=!1,this.longPressCounter_1=0,this.long_press_detected_1=!1,this.last_y_change=0,this.reorders_ids=[],this.reorder_save_state=!1,this.filterFavorite=!1,this.editFavThings=!1,this.editFav_timeout_id=-1,this.skipFilterAction=!1,this.skipDisableEditing=!1,this.disable_hand=!0,this.dir=this.platform.isRTL?"rtl":"ltr",this.opposite_dir="ltr"==this.dir?"rtl":"ltr",this._screen=screen,this.visible_device_ids=[],this.listOfCategories=L._.list_of_filters,!v.a.DefaultController)return console.error("No default controller found"),void i.navigateForward(S.g6);if(this.router.getCurrentNavigation().extras.state){const T=this.router.getCurrentNavigation().extras.state;this.navParams=T.data}this.navParams.fav&&(this.filterFavorite=this.navParams.fav)}resetSearchFilterFlagOnEveryThing(){try{for(let i=0;i<this.currentItems.length;i++){for(let n=0;n<this.currentItems[i].devices.length;n++)this.currentItems[i].devices[n].hidden=!1;for(let n=0;n<this.currentItems[i].scenes.length;n++)this.currentItems[i].scenes[n].hidden=!1;for(let n=0;n<this.currentItems[i].rooms.length;n++)this.currentItems[i].rooms[n].hidden=!1}}catch(i){console.log(i)}}LoadThings(){var i=this;return(0,p.Z)(function*(){if(console.time("load-things"),null==i.navParams)i.navCtrl.back();else{if(i.room=i.navParams.room,null==i.room)return;i.selected_room=i.room.translated_name;let n=i.navParams.filter;n&&(i.listOfRooms=v.a.DefaultController.rooms.filter(r=>!r.is_empty||r.children_rooms.length>0)),yield i.initializeFilterThenRoom(n,i.room)}if(!i.currentItems||i.currentItems.length<=0)i.showToast(i.translate.instant("nothing-found"));else for(let n=0;n<i.currentItems.length;n++)i.currentItems[n].forceOnline=!1;clearInterval(i._temp_update_timer),i._temp_update_timer=window.setInterval(()=>{i.updateTimer()},1e3),console.timeEnd("load-things")})()}get AppIcon(){return window.devicePixelRatio<=1?O.Y.appLogoXSmall:O.Y.appLogo}initializeFilterThenRoom(i,n){var r=this;return(0,p.Z)(function*(){console.time("initializeFilterThenRoom");let l=yield r.ShowSimpleLoadingController();yield r.initializeFilter(i),yield r.loadDevicesByRoom(n),console.timeEnd("initializeFilterThenRoom"),l.dismiss()})()}loadDevicesByRoomWithFilter(i){var n=this;return(0,p.Z)(function*(){let r=yield n.ShowSimpleLoadingController();yield n.loadDevicesByRoom(i),yield n.filterCategory(n.listOfCategories.find(l=>l.id==n.selected_filter_id).id),r.dismiss()})()}loadDevicesByRoom(i){this.room=i,this.selected_room=i.translated_name,this.selected_room_id=i.id;let n=v.a.DefaultController.rooms.filter(r=>!r.is_empty||r.children_rooms.length>0);if(n=n.sort((r,l)=>r.translated_name>l.translated_name?1:l.translated_name>r.translated_name?-1:0),n.reverse(),this.selected_room_id=i.id,n.length>1){let r=new N.d;r.name=this.translate.instant("all"),r.id=-1,r.sort_order=-1,r.is_empty=!1,r.hidden=!1,r.visible=!0,r.image_url=Y.s.Images.main_room,n.push(r),n.reverse(),this.listOfRooms=n}}runScene(i){v.a.DefaultController.CallScene(i.id),this.showToast(i.translated_name,3e3)}ionViewDidLeave(){super.ionViewDidLeave(),clearInterval(this._temp_update_timer)}ionViewDidEnter(){var i=()=>super.ionViewDidEnter,n=this;return(0,p.Z)(function*(){let r=yield n.ShowSimpleLoadingController();i().call(n),yield n.LoadThings().then(()=>{n.ionViewDidEnter2()}),clearInterval(n._temp_update_timer),n._temp_update_timer=window.setInterval(()=>{n.updateTimer(),0!=n.visible_device_ids.length&&v.a.PollDevices(n.visible_device_ids)},1e3),n.addDeviceButtonClicked&&(n.addDeviceButtonClicked=!1),r.dismiss()})()}updateTimer(){var i=this;return(0,p.Z)(function*(){return new Promise(n=>{if(null!=i.currentItems&&i.currentItems.length>0)for(let r=0;r<i.currentItems.length;r++)for(let l=0;l<i.currentItems[r].devices.length;l++){let a=i.currentItems[r].devices[l];a&&(a.type==h.Y.DoorSensor?a.last_breached_string=x.V0.getElapsedDateTime(a.isOn?a.LastBreached:a.LastClosed,i.translate.currentLang):a.type==h.Y.MotionSensor?a.last_breached_string=x.V0.getElapsedDateTime(a.isOn?a.LastBreached:a.LastInactive,i.translate.currentLang):a.type==h.Y.GenericSensor?a.lastValueTimeString=x.V0.getElapsedDateTime(a.lastValueTime,i.translate.currentLang):a.type==h.Y.SmokeSensor||a.type==h.Y.FloodSensor?a.last_breached_string=a.isOn?x.V0.getElapsedDateTime(a.LastBreached,i.translate.currentLang):"":a.type==h.Y.Lock?a.last_breached_string=x.V0.getElapsedDateTime(a.last_unlocked,i.translate.currentLang):a.type==h.Y.DoorBell?a.last_activation_string=x.V0.getElapsedDateTime(a.LastActivated,i.translate.currentLang):a.type==h.Y.OccupancySensor&&(1==a.value&&a.LastActivated?a.last_activation_string=x.V0.getElapsedDateTime(a.LastActivated,i.translate.currentLang):0==a.value&&a.LastDeactivated&&(a.last_deactivation_string=x.V0.getElapsedDateTime(a.LastDeactivated,i.translate.currentLang))))}})})()}ionViewDidEnter2(){this.scrollHandlerOnEnd()}initializeFilter(i){var n=this;return(0,p.Z)(function*(){let r=n.listOfCategories.find(l=>l.name==i);r?yield n.filterCategory(r.id):yield n.filterCategory(n.listOfCategories[0].id)})()}ShowSimpleLoadingController(){var i=this;return(0,p.Z)(function*(){let n=i.loadingCtrl.create({backdropDismiss:!0});return(yield n).present(),n})()}filterCategory(i){var n=this;return(0,p.Z)(function*(){console.time("filter_category");let r=n.filter=n.listOfCategories.find(m=>m.id==i);n.selected_filter_id=r.id;let l=v.a.DefaultController.devices.filter(m=>m.visible).sort((m,u)=>{let M=n.compare(m.sort_id,u.sort_id);return 0==M&&(M=n.compare(n.getDeviceCategoryOrder(m.category),n.getDeviceCategoryOrder(u.category))),0==M&&(M=n.compare(m.translated_name,u.translated_name)),M}),a=v.a.DefaultController.scenes.filter(m=>m.visible).sort((m,u)=>{let M=n.compare(m.sort_id,u.sort_id);return 0==M&&(M=n.compare(m.translated_name,u.translated_name)),M});n.filterFavorite&&(n.loadFav(l),n.loadFav(a),l=l.filter(m=>m.fav),a=a.filter(m=>m.fav)),n.room.id>-1&&(l=l.filter(m=>m.room_id==n.room.id),a=a.filter(m=>m.room_id==n.room.id));let _=[],c=[];console.log("filter type:"+r.type),"scene"==r.type?(c=a.slice(),_=[]):"all"==r.type?(_=l.slice(),c=a.slice()):_=r.category.length>0?l.filter(m=>r.category.indexOf(m.category)>-1):l.slice();let y=[];y=r.device_types.length>0?l.filter(m=>r.device_types.indexOf(m.type)>-1):l.slice();let A=[];if(A=l.filter(r.category_and_type?m=>_.indexOf(m)>-1&&y.indexOf(m)>-1:m=>_.indexOf(m)>-1||y.indexOf(m)>-1),l=r.exclude?l.filter(m=>A.indexOf(m)<0):A,r.exclusionCategoryType&&r.exclusionCategoryType.length>0&&r.exclusionCategoryType.forEach(m=>{l=l.filter(u=>!(u.category==m.deviceCategory&&u.type==m.deviceType))}),n.room.id<0){let m=v.a.DefaultController.rooms.sort((w,k)=>{let C=n.compare(w.sort_order,k.sort_order);return 0==C&&(C=n.compare(w.translated_name,k.translated_name)),C}),u=[];m=m.filter(w=>1==w.visible&&!w.is_empty);let M=0;for(let w=0;w<m.length;w++){let k=m[w],C=l.filter(T=>T.room_id==k.id).length;"all"==n.filter.type||"scene"==n.filter.type?C+=a.filter(T=>T.room_id==k.id).length:"rooms"==n.filter.type&&(C+=1),C>0&&u.push({id:k.id,devicesRoomName:k.translated_name,isTitleVisible:!1,room:k,is_empty:k.is_empty,room_index:M++,roomImage:k.image_url,devices:[],scenes:[],rooms:[]})}for(let w=0;w<u.length;w++){let k=u[w];if("rooms"!=n.filter.type&&"scene"!=n.filter.type)for(let C=0;C<l.length;C++){let T=l[C];T.room_id==k.id&&(!n.filter_on_devices_only||n.filter_on_devices_only&&T.IsOn&&n.is_valid_on_type(T.type))&&u[w].devices.push(T)}if(("all"==n.filter.type||"rooms"==n.filter.type)&&(u[w].rooms=[],u[w].rooms=u[w].rooms.concat(k.room.children_rooms)),"all"==n.filter.type||"scene"==n.filter.type)for(let C=0;C<a.length;C++){let T=a[C];T.room_id==k.id&&!n.filter_on_devices_only&&u[w].scenes.push(T)}u[w].isTitleVisible=u[w].scenes.length>0||u[w].devices.length>0||u[w].rooms.length>0}n.currentItems=u}else n.currentItems=[],n.currentItems.push({devices:[],scenes:[],rooms:[]}),n.filter_on_devices_only&&(l=l.filter(m=>m.IsOn&&n.is_valid_on_type(m.type)),c=[]),n.currentItems[0].devices=l,("all"==n.filter.type||"scene"==n.filter.type)&&(n.currentItems[0].scenes=c),("all"==n.filter.type||"rooms"==n.filter.type)&&(n.currentItems[0].rooms=[],n.currentItems[0].rooms=n.currentItems[0].rooms.concat(n.room.children_rooms));n.enterFirstTime&&(n.resetSearchFilterFlagOnEveryThing(),n.enterFirstTime=!1),console.timeEnd("filter_category")})()}openItem(i){if(1==i.advanced_options){if(i.type==h.Y.VirtualDevice&&(null==i.device_ui||null==i.device_ui))return void console.log("Return, as there is no device UI for Virtual Device");console.log("Opening Detail Page"),this.navCtrl.navigateForward(S.r2,{state:{data:{item:i,FromDashboard:!1}},animated:!0,animationDirection:"forward"})}else console.log("There is no detailed page, calling main function"),i.main()}openRoomfromcomponent(i){var n=this;return(0,p.Z)(function*(){let r=yield n.ShowSimpleLoadingController();n.room=i,n.selected_filter_id=-1,yield n.filterCategory(-1),yield n.openRoom(i.id),r.dismiss()})()}openRoom(i){console.log(i),this.loadDevicesByRoomWithFilter(this.listOfRooms.find(n=>n.id==i))}makeDefaultRoom(i){this.settings.setValue("fav-room",i.id)}showToast(i,n=2e3,r="bottom"){var l=this;return(0,p.Z)(function*(){let a=i.split(" ").length;(yield l.toastCtrl.create({position:r,message:i,duration:n+(null!=a?1e3*a:0)})).present()})()}changeFilterCategory(i){var n=this;return(0,p.Z)(function*(){if(n.listOfCategories.length>1){let r=yield n.popoverCtrl.create({component:q.t,componentProps:{listOfCategories:n.listOfCategories},alignment:"start",backdropDismiss:!0});r.onDidDismiss().then(function(){var l=(0,p.Z)(function*(a){if(null!=a){let _=yield n.ShowSimpleLoadingController();yield n.filterCategory(a.data.id),_.dismiss()}});return function(a){return l.apply(this,arguments)}}()),yield r.present(i)}})()}showHint(i){var n=this;return(0,p.Z)(function*(){n.toast=yield n.toastController.create({message:i,position:"top",cssClass:"custom-toast"}),yield n.toast.present()})()}closeHint(){var i=this;return(0,p.Z)(function*(){yield i.toast.dismiss()})()}changeRoom(i){var n=this;return(0,p.Z)(function*(){if(n.listOfRooms.length>1){let r=[];for(let a=0;a<n.listOfRooms.length;a++){let _=n.listOfRooms[a];r.push({name:_.id<0?_.name:_.translated_name,image_url:_.image_url,id:_.id})}let l=yield n.popoverCtrl.create({component:q.t,componentProps:{listofRoomsModel:r},alignment:"start",backdropDismiss:!0});l.onDidDismiss().then(function(){var a=(0,p.Z)(function*(_){if(null!=_&&null!=_.data){let c=yield n.ShowSimpleLoadingController();n.openRoom(_.data.id),c.dismiss()}});return function(_){return a.apply(this,arguments)}}()),yield l.present(i)}})()}longPressMouseStart(i,n=1,r=1){this.changeDetectorRef.detectChanges();let l=_=>{this.touchMoving(_)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",_=>{this&&this.pressEndThing&&this.pressEndThing(_),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",l)}),this.longPressStartThing(i,n,r)}longPressStartThing(i,n=1,r=1){this.changeDetectorRef.detectChanges(),this.last_y_change="mousedown"==i.type?i.pageY:i.changedTouches[0].pageY,console.log("Long Press Event Started",i),this.long_press_detected_1=!1,this.longPressCounter_1=window.setTimeout(()=>{this.long_press_detected_1=!0,this.ChangeVoiceLanguageThing(n,r)},1e3)}touchMoving(i){this.changeDetectorRef.detectChanges(),Math.abs(this.last_y_change-("mousemove"==i.type?i.pageY:i.changedTouches[0].pageY))>1&&(this.last_y_change=0,clearTimeout(this.longPressCounter_1),this.long_press_detected_1=!1)}pressEndThing(i){this.changeDetectorRef.detectChanges(),clearTimeout(this.longPressCounter_1),this.long_press_detected_1=!1}ChangeVoiceLanguageThing(i,n=1){console.log(i,n);let r=v.a.DefaultController.voiceCommandControl.voice_thing_names.filter(_=>_.thing_id==i&&_.language_id==x.V0.defaultVoiceLanguage.id&&-1!=_.id&&_.thing_type==n),l=[],a=1==n?v.a.DefaultController.devices.find(_=>_.id==i):v.a.DefaultController.scenes.find(_=>_.id==i);console.debug("ChangeVoiceLanguageThing",a,r,x.V0.defaultVoiceLanguage.id,n);for(let _=0;_<r.length;_++){if(null==r[_])continue;let c=r[_];c.language_id==x.V0.defaultVoiceLanguage.id&&c.thing_type==(a.is_device?1:2)&&l.push({id:c.id,command:""==c.command?null:c.command,lang_id:c.language_id})}this.navCtrl.navigateForward(S.OE,{state:{data:{commands:l,thing:a.translated_name,direction:x.V0.defaultVoiceLanguage.direction,ui_direction:this.platform.isRTL?"rtl":"ltr",language_symbol:x.V0.defaultVoiceLanguage.displaySymbol,language_id:x.V0.defaultVoiceLanguage.id,thing_id:a.id,thing_type:a.is_device?1:2}}})}toggle_reorder(){this.enable_reorder=!this.enable_reorder,this.enable_reorder?this.reorder_save_state=!0:(this.reorder_save_state=!1,this.disable_hand=!0)}save_reorder(){var i=this;return(0,p.Z)(function*(){if(v.a.DefaultController.user.is_super_user)(yield i.alertCtrl.create({header:i.translate.instant("sort-order"),cssClass:"network-alert",message:i.translate.instant("sort-order-for"),buttons:[{text:i.translate.instant("only-me"),role:"exit",handler:()=>{i.reorder_save_state=!1,i.enable_reorder=!i.enable_reorder,i.disable_hand=!0;let r=[],l=[];for(let a=0;a<i.currentItems.length;a++){if(i.currentItems[a].devices.length>0){let _=i.currentItems[a].devices.map(c=>c.id);l=l.concat(_)}if(i.currentItems[a].scenes.length>0){let _=i.currentItems[a].scenes.map(c=>c.id);r=r.concat(_)}}v.a.DefaultController.SetDevicesSortOrder(l,!1).then(a=>{null!=a.body&&null!=a.body.result&&1==a.body.result&&i.GetAllDevicesAndResort()}),v.a.DefaultController.SetScenesSortOrder(r,!1).then(a=>{null!=a.body&&null!=a.body.result&&1==a.body.result&&i.GetAllScenesAndResort()})}},{text:i.translate.instant("default"),role:"exit",handler:()=>{i.reorder_save_state=!1,i.enable_reorder=!i.enable_reorder,i.disable_hand=!0;let r=[],l=[];for(let a=0;a<i.currentItems.length;a++){if(i.currentItems[a].devices.length>0){let _=i.currentItems[a].devices.map(c=>c.id);l=l.concat(_)}if(i.currentItems[a].scenes.length>0){let _=i.currentItems[a].scenes.map(c=>c.id);r=r.concat(_)}}console.log("exiting app"),v.a.DefaultController.SetDevicesSortOrder(l,!0).then(a=>{null!=a.body&&null!=a.body.result&&1==a.body.result&&i.GetAllDevicesAndResort()}),v.a.DefaultController.SetScenesSortOrder(r,!0).then(a=>{null!=a.body&&null!=a.body.result&&1==a.body.result&&i.GetAllScenesAndResort()})}},{text:i.translate.instant("cancel"),role:"cancel",handler:()=>{}}],backdropDismiss:!0})).present();else{i.reorder_save_state=!1,i.enable_reorder=!i.enable_reorder,i.disable_hand=!0;let n=[],r=[];for(let l=0;l<i.currentItems.length;l++){if(i.currentItems[l].devices.length>0){let a=i.currentItems[l].devices.map(_=>_.id);r=r.concat(a)}if(i.currentItems[l].scenes.length>0){let a=i.currentItems[l].scenes.map(_=>_.id);n=n.concat(a)}}v.a.DefaultController.SetDevicesSortOrder(r,!1).then(l=>{console.log("devices sorted",l),i.GetAllDevicesAndResort()}),v.a.DefaultController.SetScenesSortOrder(n,!1).then(l=>{console.log("scenes sorted",l),i.GetAllScenesAndResort()})}})()}GetAllDevicesAndResort(){v.a.DefaultController.RefreshDeviceOrder().then(i=>{console.log("Loaded all devices",i)})}GetAllScenesAndResort(){v.a.DefaultController.RefreshScenesOrder().then(i=>{console.log("Loaded all scenes",i)})}cancel_reorder(){for(let i=0;i<this.currentItems.length;i++)this.currentItems[i].devices.length>0&&this.currentItems[i].devices.sort((n,r)=>{let l=this.compare(n.sort_id,r.sort_id);return 0==l&&(l=this.compare(this.getDeviceCategoryOrder(n.category),this.getDeviceCategoryOrder(r.category))),0==l&&(l=this.compare(n.translated_name,r.translated_name)),l}),this.currentItems[i].scenes.length>0&&this.currentItems[i].scenes.sort((n,r)=>{let l=this.compare(n.sort_id,r.sort_id);return 0==l&&(l=this.compare(n.translated_name,r.translated_name)),l});this.reorders_ids=[],this.reorder_save_state=!1,this.enable_reorder=!1,this.disable_hand=!0}moveItemUp(i,n,r=!0){this.updateSortView(i,n,r)}moveItemDown(i,n,r=!0){this.updateSortView(i,n,r,!0)}updateSortView(i,n,r=!0,l=!1){let a=this.currentItems[n];if(!a&&1==this.currentItems.length&&(a=this.currentItems[0]),a)if(r){let _=a.devices.indexOf(i),c={from:_,to:_};l?_+1<a.devices.length&&(c.to=_+1):_>0&&(c.to=_-1),this.reorderDevices(c,n)}else{let _=a.scenes.indexOf(i),c={from:_,to:_};l?_+1<a.scenes.length&&(c.to=_+1):_>0&&(c.to=_-1),this.reorderScenes(c,n)}}reorderDevices(i,n){var r;r=i.detail?i.detail:i,this.room.id<0?this.currentItems[n].devices=this.reorderArray(this.currentItems[n].devices,r):this.currentItems[0].devices=this.reorderArray(this.currentItems[0].devices,r),i.detail&&i.detail.complete()}reorderScenes(i,n){var r;r=i.detail?i.detail:i,this.room.id<0?(this.currentItems[n].scenes=this.reorderArray(this.currentItems[n].scenes,r),this.reorders_ids.push({from:r.from,to:r.to,r_index:n,is_device:!1})):(this.currentItems[0].scenes=this.reorderArray(this.currentItems[0].scenes,r),this.reorders_ids.push({from:r.from,to:r.to,r_index:0,is_device:!1})),i.detail&&i.detail.complete()}scrollHandlerOnEnd(){var i=[];const n=document.querySelectorAll('ion-item-group ion-card:not([polling="false"])'),l=new IntersectionObserver(function(a,_){a.forEach(c=>{c.isIntersecting&&(i.includes(Number(c.target.getAttribute("device-id")))||i.push(Number(c.target.getAttribute("device-id"))))})},{});n.forEach(function(a){l.observe(a)}),this.visible_device_ids=i}scrollHandler(i){this.changeDetectorRef.detectChanges(),this.content.scrollToTop=i.deltaY+i.startY}compare(i,n){return(i=0==i?999999:i)==(n=0==n?999999:n)?0:i<n?-1:1}getDeviceCategoryOrder(i){switch(i){case I.I.Lighting:return 1;case I.I.Curtains:return 2;case I.I.HVAC:return 3;case I.I.Fan:return 4;case I.I.Media:return 5;case I.I.Lock:return 6;case I.I.Appliances:return 7;case I.I.Other:return 8;case I.I.Valve:return 9;case I.I.Gate:return 10;case I.I.Siren:return 11;default:return 9999}}get_default_order(){var i=this;return(0,p.Z)(function*(){(yield i.alertCtrl.create({header:i.translate.instant("sort-order"),cssClass:"network-alert",message:i.translate.instant("do-you-want-default-sort-order"),buttons:[{text:i.translate.instant("yes"),role:"exit",handler:()=>{v.a.DefaultController.SetDefaultDevicesAndSceneSortOrder().then(n=>{for(let r=0;r<i.currentItems.length;r++){let l=i.currentItems[r];null!=l.devices&&l.devices.length>0?l.devices=l.devices.sort((a,_)=>{let c=i.compare(a.sort_id,_.sort_id);return 0==c&&(c=i.compare(i.getDeviceCategoryOrder(a.category),i.getDeviceCategoryOrder(_.category))),0==c&&(c=i.compare(a.translated_name,_.translated_name)),c}):null!=l.scenes&&l.scenes.length>0&&(l.scenes=l.scenes.sort((a,_)=>{let c=i.compare(a.sort_id,_.sort_id);return 0==c&&(c=i.compare(a.translated_name,_.translated_name)),c}))}}),i.cancel_reorder()}},{text:i.translate.instant("no"),role:"cancel",handler:()=>{i.cancel_reorder()}}]})).present()})()}toggle_on_devices(){this.filter_on_devices_only=!this.filter_on_devices_only,this.loadDevicesByRoomWithFilter(this.room)}is_valid_on_type(i){return i==h.Y.Dimmer||i==h.Y.AcMeter||i==h.Y.PowerMeter||i==h.Y.WaterMeter||i==h.Y.GenericMeter||i==h.Y.Switch||i==h.Y.Shutter||i==h.Y.RGB||i==h.Y.Thermostat}getItems(i){const n=i.target.value;let r=[],l=[],a=[];if(n&&n.length>=2){for(let _=0;_<this.currentItems.length;_++){let c=this.currentItems[_].devices.filter(m=>m.translated_name.toLowerCase().indexOf(n.toLowerCase())>-1);r=r.concat(c);let y=this.currentItems[_].scenes.filter(m=>m.translated_name.toLowerCase().indexOf(n.toLowerCase())>-1);l=l.concat(y);let A=this.currentItems[_].rooms.filter(m=>m.translated_name.toLowerCase().indexOf(n.toLowerCase())>-1);a=a.concat(A),this.currentItems[_].hidden=c.length<1&&y.length<1&&A.length<1}for(let _=0;_<this.currentItems.length;_++){for(let c=0;c<this.currentItems[_].devices.length;c++)this.currentItems[_].devices[c].hidden=!0;for(let c=0;c<this.currentItems[_].scenes.length;c++)this.currentItems[_].scenes[c].hidden=!0;for(let c=0;c<this.currentItems[_].rooms.length;c++)this.currentItems[_].rooms[c].hidden=!0}for(let _=0;_<r.length;_++)r[_].hidden=!1;for(let _=0;_<l.length;_++)l[_].hidden=!1;for(let _=0;_<a.length;_++)a[_].hidden=!1}else for(let _=0;_<this.currentItems.length;_++){this.currentItems[_].hidden=!1;for(let c=0;c<this.currentItems[_].devices.length;c++)this.currentItems[_].devices[c].hidden=!1;for(let c=0;c<this.currentItems[_].scenes.length;c++)this.currentItems[_].scenes[c].hidden=!1;for(let c=0;c<this.currentItems[_].rooms.length;c++)this.currentItems[_].rooms[c].hidden=!1}}toggleFav(i){var n=this;return(0,p.Z)(function*(){i.fav=!i.fav,yield n.settings.setValue("fav_"+v.a.DefaultController.serial_no+"|"+i.thingType+"|"+i.id,i.fav)})()}loadFav(i){for(let n=0;n<i.length;n++){let r=i[n];r.fav=this.settings.allSettings["fav_"+v.a.DefaultController.serial_no+"|"+r.thingType+"|"+r.id]}}EditFavStart(){this.editFavThings||(window.clearTimeout(this.editFav_timeout_id),this.editFav_timeout_id=window.setTimeout(()=>{this.FavEditStart()},1500))}EditFavEnd(){var i=this;return(0,p.Z)(function*(){if(window.clearTimeout(i.editFav_timeout_id),!i.skipDisableEditing)return i.editFavThings?(i.editFavThings=!1,i.filterFavorite=!1,void(i.skipFilterAction=!1)):(i.skipFilterAction||(i.filterFavorite=!i.filterFavorite,yield i.filterCategory(i.listOfCategories.find(n=>n.id==i.selected_filter_id).id)),void(i.skipFilterAction=!1));i.skipDisableEditing=!1})()}EnableFavEditing(){this.skipDisableEditing=!0,this.editFavThings=!0}FavEditStart(){var i=this;return(0,p.Z)(function*(){i.skipFilterAction=!0,i.filterFavorite&&(i.filterFavorite=!1,yield i.filterCategory(i.listOfCategories.find(n=>n.id==i.selected_filter_id).id)),i.EnableFavEditing()})()}ManualEditFav(){var i=this;return(0,p.Z)(function*(){if(i.skipFilterAction=!0,i.filterFavorite&&(i.filterFavorite=!1,yield i.filterCategory(i.listOfCategories.find(n=>n.id==i.selected_filter_id).id)),i.EnableFavEditing(),window.clearTimeout(i.editFav_timeout_id),!i.skipDisableEditing)return i.editFavThings?(i.editFavThings=!1,i.filterFavorite=!1,void(i.skipFilterAction=!1)):(i.skipFilterAction||(i.filterFavorite=!i.filterFavorite,yield i.filterCategory(i.listOfCategories.find(n=>n.id==i.selected_filter_id).id)),void(i.skipFilterAction=!1));i.skipDisableEditing=!1})()}toggle_hand(){this.disable_hand=!this.disable_hand}reorderArray(i,n){var r=i[n.from];return i.splice(n.from,1),i.splice(n.to,0,r),i}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(D.SH),e.Y36(x.V0),e.Y36(D.HT),e.Y36(D.BX),e.Y36(D.Br),e.Y36(F.sK),e.Y36(D.t4),e.Y36(D.yF),e.Y36(R.H7),e.Y36(D.IN),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36($.Z),e.Y36(D.Dh),e.Y36(P.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["item-list"]],viewQuery:function(i,n){if(1&i&&e.Gf(g.W2,5),2&i){let r;e.iGM(r=e.CRH())&&(n.content=r.first)}},features:[e.qOj],decls:21,vars:11,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","color","white","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],[2,"text-align","end","float","right","min-width","10px"],["style","background: transparent;","ion-button","","clear","","class","top-mic-button",3,"click",4,"ngIf"],[2,"text-align","center"],[4,"ngIf"],[1,"page-item-list",3,"ionScroll","ionScrollEnd"],["ngFor","",3,"ngForOf"],["style","text-align:center;",3,"click",4,"ngIf"],["ion-button","","clear","",1,"top-mic-button",2,"background","transparent",3,"click"],["name","code",1,"rotate-90",2,"font-size","x-large"],["name","add-outline",2,"font-size","x-large"],[2,"font-size","x-large",3,"name"],["name","code-working",1,"rotate-90",2,"font-size","x-large"],["name","checkmark",2,"font-size","x-large"],["name","close",2,"font-size","x-large"],[1,"filter-header"],["size","6"],["ion-button","","tappable","",1,"drop-down-button",2,"width","100%","margin","5px 0px",3,"click"],[2,"justify-content","space-between","align-items","center","margin-top","-15px","margin-left","-2px"],["style","width: 32px;","onerror","this.src='assets/img/others/error-icon.png'","class","relative-icon","width","32",3,"src",4,"ngIf"],["size","7"],[2,"text-overflow","ellipsis","white-space","nowrap","line-height","1.7","font-size","large"],["size","2"],["name","chevron-down",2,"font-size","x-large","margin-top","4px"],["style","width: 32px;","width","32",3,"src",4,"ngIf"],["size","8"],["animated","true","debounce","500",2,"width","100%","padding","0px",3,"placeholder","ionInput"],["ion-button","",2,"width","100%",3,"click"],["name","bulb"],["ion-button","","style","width:100%;",3,"class","border","touchstart","touchend",4,"ngIf"],["ion-button","","style","width:100%;",3,"class","border","click",4,"ngIf"],["onerror","this.src='assets/img/others/error-icon.png'","width","32",1,"relative-icon",2,"width","32px",3,"src"],["width","32",2,"width","32px",3,"src"],["ion-button","",2,"width","100%",3,"touchstart","touchend"],[3,"name"],["class","item-device-room-title","style"," text-align:center; background:none; border:none; box-shadow:none; margin-top:20px; margin-bottom:10px; font-size:x-large;",4,"ngIf"],[3,"disabled","ionItemReorder"],[4,"ngFor","ngForOf"],[1,"item-device-room-title",2,"text-align","center","background","none","border","none","box-shadow","none","margin-top","20px","margin-bottom","10px","font-size","x-large"],[2,"margin","0"],["onerror","this.src='assets/img/others/error-icon.png'",1,"room-item-icon",3,"src"],[1,"room-title",2,"display","inline","text-align","center"],["ion-item","",4,"ngIf"],["ion-item",""],["ion-item","",2,"position","relative"],[2,"width","100%"],[2,"width","20%","max-width","100px"],["tappable","",3,"click"],["style","width:80px; margin-left:8px;margin-right:8px; min-height:80px; min-width:80px;","onerror","this.src='assets/img/others/error-icon.png'",3,"src","class",4,"ngIf"],["class","rgb-image","style","display:inline-block;-webkit-clip-path: circle(30px at 50% 50%); clip-path: circle(31px at 50% 50%);",3,"background-color",4,"ngIf"],[3,"camera",4,"ngIf"],[2,"width","100%","text-align","start","background","none"],[2,"vertical-align","top"],["tappable","",1,"device-title",2,"white-space","normal",3,"touchstart","mousedown","touchmove","touchend"],[3,"color",4,"ngIf"],["style","font-weight: bold;",4,"ngIf"],["style","white-space:normal;",4,"ngIf"],[3,"ngIf"],["style","display:block; overflow:hidden; white-space:normal; text-overflow:ellipsis;",4,"ngIf"],[3,"direction",4,"ngIf"],["class","toggle-item","style","background-color:transparent; width:auto; text-align:end; min-height:0",3,"click",4,"ngIf"],["style","background-color:transparent; text-align:end; width:auto;",3,"click",4,"ngIf"],["style","background-color:transparent; text-align:end; direction:ltr; text-align:end; width:auto;",4,"ngIf"],["style","background-color:transparent; text-align:end; text-align:end; width:auto;",4,"ngIf"],["dir","ltr","style","white-space:nowrap;text-align: end;",4,"ngIf"],["class","ac",4,"ngIf"],["class","multi-media",4,"ngIf"],["class","padding-8px",4,"ngIf"],["class","ion-align-items-end",4,"ngIf"],[1,"ion-align-items-end"],["size","4"],["class","ion-align-items-start",4,"ngIf"],["class","overlay-clear no-pointer",4,"ngIf"],["class","overlay","style","background:none; pointer-events:none;",3,"mouseover","mouseout",4,"ngIf"],["class","overlay-clear",4,"ngIf"],["class","overlay-semi",4,"ngIf"],["class","overlay",4,"ngIf"],["onerror","this.src='assets/img/others/error-icon.png'",2,"width","80px","margin-left","8px","margin-right","8px","min-height","80px","min-width","80px",3,"src"],[1,"rgb-image",2,"display","inline-block","-webkit-clip-path","circle(30px at 50% 50%)","clip-path","circle(31px at 50% 50%)"],[2,"width","100%","padding","0px","position","absolute","top","-6px","left","1px",3,"src"],[3,"camera"],[2,"font-weight","bold"],[2,"white-space","normal"],[1,"animated-rgb-name"],[2,"display","block","overflow","hidden","white-space","normal","text-overflow","ellipsis"],["ion-button","","tappable","",1,"lock","fixed-square-button",3,"click"],["name","power"],[1,"toggle-item",2,"background-color","transparent","width","auto","text-align","end","min-height","0",3,"click"],["ion-button","","tappable","",3,"checked"],[2,"background-color","transparent","text-align","end","width","auto",3,"click"],[2,"background-color","transparent","text-align","end","direction","ltr","text-align","end","width","auto"],["end",""],[2,"background-color","transparent","text-align","end","text-align","end","width","auto"],["name","eye"],["dir","ltr",2,"white-space","nowrap","text-align","end"],["ion-button","","clear","","item-right","","tappable","",3,"click"],["name","chevron-down"],["name","pause"],["name","chevron-up"],["ion-button","","tappable","",1,"lock","fixed-square-button",2,"min-width","50px","max-width","200px","text-align","end","float","inline-end","text-align","center","font-size","large","text-transform","uppercase","max-height","50px","display","inline-block","overflow","hidden",3,"click"],[3,"innerHtml"],[1,"ac"],["class","section","style","width:28%; line-height:26px; display:inline-block;",4,"ngIf"],[2,"display","inline-block"],[1,"section"],[1,"section-container"],[1,"sec-content",2,"text-align","start","white-space","nowrap","font-size","smaller"],[2,"display","block","padding","4px"],["src","assets/img/themes/default/thermometer-icon.png",2,"width","16px","display","inline"],[2,"font-weight","bolder","display","inline"],["src","assets/img/themes/default/air-condition.png",2,"width","16px","display","inline"],["src","assets/img/themes/default/fan-icon.png",2,"width","16px","display","inline"],[1,"sec-button",2,"text-align","center"],["clear","","icon-only","","ion-button","","tappable","",1,"ac-arrow-button",2,"display","contents",3,"click"],["name","caret-up"],[1,"sec-content"],["color","primary",2,"margin","0px","font-weight","bold","line-height","1.6","min-width","50px"],["name","caret-down"],[1,"section-container",2,"font-size","small"],[2,"text-align","end"],[2,"width","66px","display","inline-block"],[2,"text-align","center","color","white","font-size","small","margin","0px"],["ion-button","",1,"lock","fixed-square-button","no-animation",2,"display","inline-block","margin","0px",3,"click"],[2,"width","20px",3,"src"],["ion-button","","tappable","",1,"lock","fixed-square-button","no-animation",2,"display","inline-block","margin","0px",3,"click"],[1,"section",2,"width","28%","line-height","26px","display","inline-block"],[1,"outdoor"],[2,"direction","ltr"],[1,"weather-icon"],["name","water"],[1,"multi-media"],["size","10"],[1,"padding-8px"],["component-click","","tabindex","0","min","0","max","100","value","30","debounce","500",1,"multi-media",3,"ngModel","ngModelChange","ionChange"],[2,"margin-top","-12px","margin-left","12px"],[2,"margin","0px 3px"],["component-click","","tabindex","0","min","0","step","1","max","98","debounce","500",1,"e-control",3,"id","ngModel","ngModelChange","ionChange"],["component-click","","tabindex","0","min","0","step","1","max","98","debounce","500",1,"e-control",3,"ngModel","ngModelChange","ionChange"],["component-click","","tabindex","0","min","0","max","99","style","","debounce","500","step","1","class","e-control",3,"ngModel","ngModelChange","ionChange",4,"ngIf"],["component-click","","tabindex","0","min","0","max","99","debounce","500","step","1",1,"e-control",3,"ngModel","ngModelChange","ionChange"],["component-click","","tabindex","0","id","test","min","0","max","360","debounce","500","class","rgb-range-bar e-control","style","border-radius: 6px;\n                      height: 15px;\n                      margin: 8px;\n                      width: 95%;\n                      margin-left: 23px;\n                      --bar-background: transparent !important;\n                      --bar-background-active: transparent !important;\n                      background-repeat: no-repeat;\n                      background-size: 100% 100%;\n                      border: 3px solid #303030;",3,"ngModel","ngModelChange","ionChange",4,"ngIf"],["component-click","","tabindex","0","id","test","min","0","max","360","debounce","500",1,"rgb-range-bar","e-control",2,"border-radius","6px","height","15px","margin","8px","width","95%","margin-left","23px","--bar-background","transparent !important","--bar-background-active","transparent !important","background-repeat","no-repeat","background-size","100% 100%","border","3px solid #303030",3,"ngModel","ngModelChange","ionChange"],["component-click","","tabindex","0","min","1","max","99","step","1","class","dynamic-gradient-color","debounce","500",3,"background","ngModel","ngModelChange","ionChange",4,"ngIf"],["component-click","","tabindex","0","min","1","max","99","step","1","debounce","500",1,"dynamic-gradient-color",3,"ngModel","ngModelChange","ionChange"],["small","","range-left","",1,"color-seperator-75"],["component-click","","tabindex","0","min","1","max","255","step","1","class","dynamic-gradient-color","debounce","500",3,"style","ngModel","ngModelChange","ionChange",4,"ngIf"],["component-click","","tabindex","0","min","1","max","255","step","1","debounce","500",1,"dynamic-gradient-color",3,"ngModel","ngModelChange","ionChange"],[1,"ion-align-self-start",2,"text-align","center","box-shadow","0px 0px 0px #333","border-radius","0px"],[1,"label","label-md",2,"text-align","start","margin-left","11px"],[1,"label","label-md",2,"text-align","end"],[1,"ion-align-self-end","ion-justify-content-end",2,"margin-top","-16px","text-align","center","box-shadow","0px 0px 0px #333","border-radius","0px"],[1,"ion-align-self-end","ion-justify-content-end",2,"text-align","center","box-shadow","0px 0px 0px #333","border-radius","0px"],[1,"label","label-md",2,"text-align","center","text-align","start","margin-left","11px","color","white"],[1,"label","label-md",2,"text-align","center","text-align","start","margin-left","11px"],[1,"label",2,"text-align","start","margin-left","11px"],[1,"label",2,"text-align","end"],[1,"ion-align-items-start"],["mobileEvent","press","desktopEvent","hover","positionH","right","arrow","",1,"margin-0",2,"width","28px","min-width","28px",3,"src"],[1,"ion-align-self-start"],["ngClass","label-md","class","powering-meter",4,"ngIf"],[1,"ion-align-self-end","ion-justify-content-end"],["ngClass","label-md","class","energy-meter",4,"ngIf"],["style","width:28px;","class","margin-0",3,"src",4,"ngIf"],["ngClass","label-md",1,"powering-meter"],["ngClass","label-md",1,"energy-meter"],[1,"margin-0",2,"width","28px",3,"src"],[1,"overlay-clear","no-pointer"],["ion-button","",1,"pointer","reorder_button_top",3,"click"],["name","chevron-up",2,"border-top","3px solid","font-size","2.2em"],["ion-button","",1,"pointer","reorder_button",3,"click"],["name","chevron-down",2,"border-bottom","3px solid"],[1,"overlay",2,"background","none","pointer-events","none",3,"mouseover","mouseout"],["name","warning",1,"offline-device",2,"color","gold"],["class","label-toast",3,"id",4,"ngIf"],[1,"label-toast",3,"id"],[1,"overlay-clear"],["src","assets/img/themes/default/lock-device.png",1,"lock-device",2,"pointer-events","all"],["slot","start"],[1,"overlay-semi"],["src","assets/img/themes/default/disabled-device.png",1,"disabled-device",2,"pointer-events","all"],["slot","end"],[1,"overlay"],["ion-button","","clear","",1,"overlay-fav",3,"click"],[1,"ion-justify-content-end"],["justify-content-start","",1,"ion-align-self-start",2,"width","20%","max-width","100px"],["onerror","this.src='assets/img/others/error-icon.png'","tappable","",1,"animated-img",2,"max-width","64px","margin-left","8px","margin-right","8px","width","64px","height","64px",3,"src","click"],["tappable","",1,"ion-align-self-top",2,"width","100%","min-width","10px",3,"click"],[1,"animated-img","device-title",3,"touchstart","mousedown","touchmove","touchend"],["style","font-style:italic;",4,"ngIf"],[1,"ion-align-self-center","ion-justify-content-end"],["ion-button","","item-end","","tappable","",1,"lock","fixed-square-button",3,"click"],["name","play"],[2,"font-style","italic"],["name","chevron-up",2,"border-top","3px solid"],["ion-button","","tappable","","clear","",1,"offline-button",2,"vertical-align","middle",3,"click"],["name","close-circle-outline"],[1,"offline-text"],[3,"click"],[3,"room","openRoomClick",4,"ngIf"],[3,"room","openRoomClick"],[2,"text-align","center",3,"click"],[1,"full-primary-button",2,"font-size","large","text-transform","uppercase"],["name","star",2,"font-size","16px"]],template:function(i,n){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1)(4,"div",2)(5,"a",3),e.NdJ("click",function(){return n.goBack()}),e._UZ(6,"ion-icon",4),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,_e,2,0,"button",6),e.YNc(9,se,2,0,"button",6),e.YNc(10,ce,2,1,"button",6),e.YNc(11,me,2,0,"button",6),e.YNc(12,de,2,0,"button",6),e.YNc(13,ge,2,0,"button",6),e.qZA()()(),e.TgZ(14,"ion-title",7),e._uU(15),e.qZA()(),e.YNc(16,ve,33,13,"ion-toolbar",8),e.qZA(),e.TgZ(17,"ion-content",9),e.NdJ("ionScroll",function(l){return n.scrollHandler(l)})("ionScrollEnd",function(){return n.scrollHandlerOnEnd()}),e.TgZ(18,"ion-list"),e.YNc(19,Wt,6,6,"ng-template",10),e.qZA(),e.YNc(20,Xt,6,6,"div",11),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngStyle",n.theAppState.iontoolbarStyle),e.xp6(7),e.Q6J("ngIf",!n.reorder_save_state),e.xp6(1),e.Q6J("ngIf",n.isExperimentEnabled&&!n.reorder_save_state&&(null==n.room?null:n.room.id)>0),e.xp6(1),e.Q6J("ngIf",n.reorder_save_state),e.xp6(1),e.Q6J("ngIf",n.reorder_save_state),e.xp6(1),e.Q6J("ngIf",n.reorder_save_state),e.xp6(1),e.Q6J("ngIf",n.reorder_save_state),e.xp6(2),e.hij(" ",null==n.room?null:n.room.translated_name," "),e.xp6(1),e.Q6J("ngIf",1!=n.theAppState.appFlow),e.xp6(3),e.Q6J("ngForOf",n.currentItems),e.xp6(1),e.Q6J("ngIf",!n.editFavThings&&n.filterFavorite))},dependencies:[b.mk,b.sg,b.O5,b.PC,d.JJ,d.On,g.YG,g.PM,g.wI,g.W2,g.jY,g.Gu,g.gu,g.Xz,g.Ie,g.Ub,g.Q$,g.q_,g.yh,g.I_,g.Nh,g.oz,g.Nd,g.VI,g.wd,g.ho,g.sr,g.d8,g.w,g.QI,g.j9,V.T,Q.t,B,ae,F.X$,le.Z],styles:["[_nghost-%COMP%]{color:#fff}.item-md[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:0}ion-slides[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}ion-slides[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:small;display:block}.lock-device[_ngcontent-%COMP%]{width:16px;position:absolute;top:10px;left:15px}.offline-device[_ngcontent-%COMP%]{width:16px;position:absolute;top:4px;right:4px;background:none;font-size:16px;border:none;pointer-events:all}.disabled-device[_ngcontent-%COMP%]{width:16px;position:absolute;top:10px;left:15px}.offline-button[_ngcontent-%COMP%]{white-space:nowrap;color:#fff;float:left;font-size:64px;height:64px;padding:8px}.offline-text[_ngcontent-%COMP%]{color:#fff;font-size:large}.card-md[_ngcontent-%COMP%]{position:relative;border-radius:10px!important;box-shadow:#000000ba 1px 1px 5px}.overlay-fav[_ngcontent-%COMP%]{font-size:10vw;width:100%;height:100%;background-color:transparent}.small-filter-button[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:50px}.item-md[_ngcontent-%COMP%], .item-ios[_ngcontent-%COMP%]{background-color:transparent}ion-card[_ngcontent-%COMP%]{box-shadow:.2vw .2vw 1vw #000000ba;background-color:#0003;border-radius:0vw;margin-top:0}.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#bfbfbf}.sliding-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .users-subprofile[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:0 0;font-size:small;border:none;color:#bfbfbf}ion-label[_ngcontent-%COMP%]{margin:0;display:block;overflow:hidden;flex:1;font-size:inherit;text-overflow:ellipsis;white-space:nowrap}.device-title[_ngcontent-%COMP%]{white-space:nowrap;width:auto;text-overflow:ellipsis;overflow:hidden;margin-top:15px!important;color:#fff;margin:2px 0;font-size:1.6rem;font-weight:400}h2[_ngcontent-%COMP%]{margin:2px 0;font-size:1.6rem;font-weight:400}ion-label[_ngcontent-%COMP%]{margin:13px 0;font-weight:400;font-size:1.6rem}ion-label[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0}span[_ngcontent-%COMP%]{margin:2px 0;font-size:1.4rem;font-weight:400}a[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:inline-block;font-size:1.2em}[icon-only][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4em;line-height:.67}div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:15px;font-size:1.6rem;font-weight:400}ion-range[_ngcontent-%COMP%]{width:auto!important;margin-left:25px!important;margin-right:10px!important}.reorder_button_top[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border:none;display:flow;text-align:center;background-color:#fff;background:rgba(255,255,255,.15)}.reorder_button[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;border:none;display:flow;text-align:center;background-color:#fff;background:rgba(255,255,255,.15)}.reorder_button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem}.reorder_button_top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem}ion-range[_ngcontent-%COMP%]{--bar-background-active: linear-gradient(to bottom, #3b679e 0%,#2b88d9 50%,#207cca 51%,#7db9e8 100%) }"]}),s})()}];let ti=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[P.Bz.forChild(ei),P.Bz]}),s})();var ii=f(79773),ni=f(23934);let oi=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.ez,d.u5,g.Pc,ti,F.aw,ii.D,ni.o]}),s})()},59764:(E,U,f)=>{f.d(U,{T:()=>p});var b=f(15861),d=f(65879),g=f(56223),P=f(28662);let p=(()=>{var v;class J{mouseDownEventHandler(Z){Z.stopImmediatePropagation(),Z.preventDefault()}keyEventHandler(Z){var I=this;return(0,b.Z)(function*(){if(Z.stopImmediatePropagation(),Z.preventDefault(),"Enter"==Z.key||" "==Z.key){var h;let L=null===(h=document.activeElement)||void 0===h?void 0:h.className.toLowerCase();if(L&&(L.indexOf("range-knob-handle")>-1||L.indexOf("range-md")>-1)&&L.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let S=document.activeElement.getAttribute("aria-valuenow");if(S){let Y=Number.parseFloat(S);if(Y||0===Y)return console.log("range-knob-handle value change to "+Y),void I.model.update.emit(Y)}}let N=I.el.nativeElement.nodeName.toLowerCase();const x=yield P.A.getInfo();["button","ion-checkbox","a"].indexOf(N)>-1?"android"!==x.operatingSystem.toLowerCase()&&I.el.nativeElement.click():"!android"!==x.operatingSystem.toLowerCase()&&I.clickOnElement(I.el)}})()}clickOnElement(Z){if(document.createEvent){let I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Z.nativeElement.dispatchEvent(I)}}mouseDownOnElement(Z){let I=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});Z.nativeElement.dispatchEvent(I)}constructor(Z,I,h){this.el=Z,this.renderer=I,this.model=h,this.eventEmitter=new d.vpe}ngOnInit(){}}return(v=J).\u0275fac=function(Z){return new(Z||v)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(g.On))},v.\u0275dir=d.lG2({type:v,selectors:[["","component-click",""]],hostBindings:function(Z,I){1&Z&&d.NdJ("mousedown",function(L){return I.mouseDownEventHandler(L)})("keypress",function(L){return I.keyEventHandler(L)})},outputs:{eventEmitter:"eventEmitter"},features:[d._Bn([g.On])]}),J})()},56450:(E,U,f)=>{f.d(U,{q:()=>g});class b{constructor(p,v,J,O){this.id=p,this.name=v,this.type=J,this.image_url=O}}var d=f(86845);class g extends b{constructor(p,v,J,O=!1,Z="",I=[],h=[],L=!0,N=!1,x=!0,S=[d.t.Unknown],Y=[]){super(p,v,J,Z),this.category_and_type=!0,this.exclude=!1,this.visible=!0,this.eventFilterType=[d.t.Unknown],this.is_all=O,this.category=I,this.device_types=h,this.category_and_type=L,this.exclude=N,this.visible=x,this.eventFilterType=S,this.exclusionCategoryType=Y}}},79616:(E,U,f)=>{f.d(U,{_:()=>Z});var b=f(56450),d=f(77144),g=f(9952),P=f(19462),p=f(86845);class v{constructor(h,L){this.deviceCategory=h,this.deviceType=L}}var J=f(1901);class Z{static getFilterByType(h){return this.list_of_filters.find(L=>L.type==h)}static getFilterByName(h){return this.list_of_filters.find(L=>L.name==h)}static getFilteredThings(h,L){let N=h;L.exclusionCategoryType&&L.exclusionCategoryType.length>0&&L.exclusionCategoryType.forEach(x=>{N=N.filter(S=>!(S.thingType==J.a.Device&&S.type==x.deviceType&&S.category==x.deviceCategory))})}}Z.list_of_filters=[new b.q(-1,"all","all",!0,P.s.Images.all_device,void 0,void 0,void 0,void 0,void 0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(-3,"rooms","rooms",!1,P.s.Images.default_room_image,[],[],!1,!0,!0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(-2,"scenes","scene",!0,P.s.Images.scene,[],[],!1,!0,!0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(0,"lights","lights",!1,P.s.Images.light._90,[g.I.Lighting],[d.Y.RGB,d.Y.Dimmer,d.Y.Switch],void 0,void 0,void 0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(2,"climate","climate",!1,P.s.Images.climate,[g.I.HVAC,g.I.Fan,g.I.Other],[d.Y.Thermostat,d.Y.Generic],!0,void 0,void 0,[p.t.ThingPropertyChange,p.t.Action],[new v(g.I.Other,d.Y.Switch),new v(g.I.Other,d.Y.Dimmer),new v(g.I.Other,d.Y.Generic)]),new b.q(1,"curtains","curtains",!1,P.s.Images.shutter._50,[g.I.Curtains],[d.Y.Shutter],void 0,void 0,void 0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(3,"sensors","sensors",!1,P.s.Images.sensors,[g.I.Other,g.I.Gate],[d.Y.HumiditySensor,d.Y.TemperatureSensor,d.Y.MotionSensor,d.Y.OccupancySensor,d.Y.EnvironmentSensor,d.Y.DoorSensor,d.Y.GenericSensor,d.Y.FloodSensor,d.Y.SmokeSensor,d.Y.LightSensor],!0,void 0,void 0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(7,"doors","doors",!1,P.s.Images.doors,[g.I.Other,g.I.Gate,g.I.Lock],[d.Y.DoorSensor,d.Y.DoorBell,d.Y.Lock],!0,!1,!0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(5,"media","media",!1,P.s.Images.multi_media_devices,[g.I.Media],[d.Y.MultiMedia],!1,!1,!0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(4,"others","others",!1,P.s.Images.other_devices,[g.I.Siren,g.I.Appliances,g.I.Valve,g.I.Other],[d.Y.Switch,d.Y.Generic,d.Y.VirtualDevice,d.Y.RemoteControl],!0,!1,void 0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(6,"cameras","camera",!1,P.s.Images.camera_devices,[g.I.Other],[d.Y.Camera],!0,!1,!0,[p.t.ThingPropertyChange,p.t.Action]),new b.q(8,"meters","meters",!1,P.s.Images.generic_meter,[g.I.Other],[d.Y.AcMeter,d.Y.GenericMeter,d.Y.WaterMeter,d.Y.PowerMeter],!0,!1,!0,[p.t.ThingPropertyChange,p.t.Action])]},86845:(E,U,f)=>{f.d(U,{t:()=>b});var b=function(d){return d[d.Unknown=0]="Unknown",d[d.ThingPropertyChange=1]="ThingPropertyChange",d[d.GenericEvent=2]="GenericEvent",d[d.Notification=3]="Notification",d[d.Action=4]="Action",d}(b||{})}}]);