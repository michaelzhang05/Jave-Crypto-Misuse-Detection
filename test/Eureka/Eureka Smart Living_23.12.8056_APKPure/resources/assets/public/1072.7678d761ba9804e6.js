"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1072,9764],{31072:(M,h,i)=>{i.r(h),i.d(h,{GlobalVariablesPageModule:()=>J});var b=i(96814),g=i(56223),r=i(73582),f=i(70160),u=i(15861),_=i(8873),w=i(31138),e=i(65879),c=i(34414),s=i(63999),p=i(59764),m=i(69705),G=i(48753);function P(a,d){1&a&&(e.TgZ(0,"ion-row",17)(1,"ion-col"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-col"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"ion-col",14),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"name")),e.xp6(3),e.Oqu(e.lcZ(6,4,"value")))}function x(a,d){1&a&&(e.TgZ(0,"ion-row",17)(1,"ion-col",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"add")))}function C(a,d){if(1&a&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&a){const l=e.oxw().$implicit;e.xp6(1),e.Oqu(l.value)}}function V(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-textarea",23),e.NdJ("ngModelChange",function(n){e.CHM(l);const o=e.oxw().$implicit;return e.KtG(o.value=n)}),e.qZA()}if(2&a){const l=e.oxw().$implicit;e.Q6J("ngModel",l.value)}}function T(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-col")(1,"button",24),e.NdJ("click",function(){e.CHM(l);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.update(n))}),e._UZ(2,"ion-icon",25),e.qZA()()}}function Z(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-col")(1,"button",26),e.NdJ("click",function(){e.CHM(l);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.cancel(n))}),e._UZ(2,"ion-icon",27),e.qZA()()}}function E(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-col")(1,"button",26),e.NdJ("click",function(){e.CHM(l);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.enableEdit(n))}),e._UZ(2,"ion-icon",28),e.qZA()()}}function O(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-col")(1,"button",29),e.NdJ("click",function(){e.CHM(l);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.delete(n))}),e._UZ(2,"ion-icon",30),e.qZA()()}}function y(a,d){if(1&a){const l=e.EpF();e.TgZ(0,"ion-row",19)(1,"ion-col",20),e.NdJ("touchstart",function(){const o=e.CHM(l).$implicit,v=e.oxw();return e.KtG(v.longPressStart(o))})("touchend",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.longPressEnd())}),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col"),e.YNc(5,C,2,1,"ion-label",21),e.YNc(6,V,1,1,"ion-textarea",22),e.qZA(),e.YNc(7,T,3,0,"ion-col",21),e.YNc(8,Z,3,0,"ion-col",21),e.YNc(9,E,3,0,"ion-col",21),e.YNc(10,O,3,0,"ion-col",21),e.qZA()}if(2&a){const l=d.$implicit;e.xp6(3),e.Oqu(l.name),e.xp6(2),e.Q6J("ngIf",!l.edit),e.xp6(1),e.Q6J("ngIf",l.edit),e.xp6(1),e.Q6J("ngIf",l.edit),e.xp6(1),e.Q6J("ngIf",l.edit),e.xp6(1),e.Q6J("ngIf",!l.edit),e.xp6(1),e.Q6J("ngIf",!l.edit)}}const k=[{path:"",component:(()=>{var a;class d{constructor(t,n,o,v,N){this.navCtrl=t,this.toastCtrl=n,this.translate=o,this.alertCtrl=v,this.navParams=N,this.newGlobalVariable={name:"",value:""},this.theAppState=_.a,this.value_before_edit="",this.copy_interval_id=-1,this.globalVariables=[]}ngOnInit(){}ionViewDidEnter(){console.log("ionViewDidEnter GlobalVariablesPage"),this.loadGlobalVariables()}loadGlobalVariables(){var t=this;return(0,u.Z)(function*(){try{w.B.showLoading2().then((0,u.Z)(function*(){let n=yield _.a.DefaultController.GetGlobalVariables();if(n){t.globalVariables=[];for(let o=0;o<n.length;o++)n[o].edit=!1,t.globalVariables.push(n[o]);t.globalVariables.sort(function(o,v){return(""+o.name).localeCompare(v.name)})}w.B.dismissLoading2()}))}catch(n){w.B.dismissLoading2(),console.log(n),t.showError(n)}})()}goBack(){this.navCtrl.pop()}CreateGlobalVariable(){var t=this;return(0,u.Z)(function*(){if(t.newGlobalVariable.name)try{(yield _.a.DefaultController.CreateGlobalVariable({name:t.newGlobalVariable.name,value:t.newGlobalVariable.value}))&&(t.newGlobalVariable.name="",t.newGlobalVariable.value="",t.loadGlobalVariables())}catch(n){console.log(n),t.showError(n)}})()}delete(t){var n=this;return(0,u.Z)(function*(){(yield n.alertCtrl.create({buttons:[{text:n.translate.instant("delete"),handler:()=>{n.Delete(t)}},{text:n.translate.instant("cancel"),role:"cancel"}],header:n.translate.instant("delete"),message:n.translate.instant("are-you-sure-you-want-to-delete")})).present()})()}Delete(t){var n=this;return(0,u.Z)(function*(){if(t.id)try{yield _.a.DefaultController.DeleteGlobalVariable(t.id),n.loadGlobalVariables()}catch(o){console.log(o),n.showError(o)}})()}update(t){this.Edit(t)}Edit(t){var n=this;return(0,u.Z)(function*(){if(t&&t.id&&t.name)try{yield _.a.DefaultController.EditGlobalVariable(t.id,{id:t.id,name:t.name,value:t.value}),n.loadGlobalVariables()}catch(o){console.log(o),n.showError(o)}})()}enableEdit(t){this.value_before_edit=t.value,t.edit=!t.edit}cancel(t){t.value=this.value_before_edit,t.edit=!1}copyName(t){t.name&&this.copyToClipboard(t.name)&&this.showToast(this.translate.instant("copied")+" - "+t.name)}showToast(t){var n=this;return(0,u.Z)(function*(){(yield n.toastCtrl.create({message:t,duration:3e3})).present()})()}copyToClipboard(t){return!!t&&(navigator.clipboard.writeText(t),!0)}longPressStart(t){window.clearTimeout(this.copy_interval_id),this.copy_interval_id=window.setTimeout(()=>{this.copyName(t)},1500)}longPressEnd(){window.clearTimeout(this.copy_interval_id)}refresh(){var t=this;return(0,u.Z)(function*(){try{yield t.loadGlobalVariables()}catch(n){t.showError(n)}})()}showError(t){let n=t;n=t&&t.statusText?t.statusText+" "+(t.status?t.status:""):JSON.stringify(t),this.showToast(n)}}return(a=d).\u0275fac=function(t){return new(t||a)(e.Y36(c.SH),e.Y36(c.yF),e.Y36(s.sK),e.Y36(c.Br),e.Y36(c.X1))},a.\u0275cmp=e.Xpm({type:a,selectors:[["page-global-variables"]],decls:29,vars:16,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"text-align","end","float","right","min-width","10px"],["button","","ion-button","","clear","","tappable","",3,"click"],["name","refresh"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["padding",""],[1,"gvs-container",2,"width","100%"],["class","gvs-header",4,"ngIf"],["class","gvs-item",4,"ngFor","ngForOf"],[1,"gvs-editor"],[3,"placeholder","ngModel","ngModelChange"],["size","2"],["small","",1,"full-primary-button",3,"disabled","click"],["name","add"],[1,"gvs-header"],["size","4"],[1,"gvs-item"],[3,"touchstart","touchend"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["ion-button","","clear","",2,"color","green!important",3,"click"],["name","checkmark-circle"],["ion-button","","clear","",3,"click"],["name","close-circle"],["name","create"],["ion-button","","clear","",2,"color","crimson!important",3,"click"],["name","close"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1)(4,"div",2)(5,"button",3),e.NdJ("click",function(){return n.refresh()}),e._UZ(6,"ion-icon",4),e.qZA()(),e.TgZ(7,"div",5)(8,"a",6),e.NdJ("click",function(){return n.goBack()}),e._UZ(9,"ion-icon",7),e.qZA()(),e.TgZ(10,"div")(11,"ion-title"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()(),e.TgZ(14,"ion-content",8)(15,"ion-grid",9),e.YNc(16,P,8,6,"ion-row",10),e.YNc(17,x,4,3,"ion-row",10),e.YNc(18,y,11,7,"ion-row",11),e.TgZ(19,"ion-row",12)(20,"ion-col")(21,"ion-input",13),e.NdJ("ngModelChange",function(v){return n.newGlobalVariable.name=v}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"ion-col")(24,"ion-textarea",13),e.NdJ("ngModelChange",function(v){return n.newGlobalVariable.value=v}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"ion-col",14)(27,"ion-button",15),e.NdJ("click",function(){return n.CreateGlobalVariable()}),e._UZ(28,"ion-icon",16),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngStyle",n.theAppState.iontoolbarStyle),e.xp6(11),e.Oqu(e.lcZ(13,10,"global-variables")),e.xp6(4),e.Q6J("ngIf",n.globalVariables.length>0),e.xp6(1),e.Q6J("ngIf",n.globalVariables.length<1),e.xp6(1),e.Q6J("ngForOf",n.globalVariables),e.xp6(3),e.Q6J("placeholder",e.lcZ(22,12,"name"))("ngModel",n.newGlobalVariable.name),e.xp6(3),e.Q6J("placeholder",e.lcZ(25,14,"value"))("ngModel",n.newGlobalVariable.value),e.xp6(3),e.Q6J("disabled",!n.newGlobalVariable.name))},dependencies:[b.sg,b.O5,b.PC,g.JJ,g.On,r.YG,r.wI,r.W2,r.jY,r.Gu,r.gu,r.pK,r.Q$,r.Nd,r.g2,r.wd,r.sr,r.j9,p.T,m.t,G.c,s.X$],styles:["@media (max-width: 260px){td[_ngcontent-%COMP%]{display:table-row}}@media (max-width: 270px){td[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]{padding:0;width:100%}.gvs-header[_ngcontent-%COMP%]{display:none}}.gvs-container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{word-break:break-all!important;white-space:pre-wrap!important}.gvs-container[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%]{word-break:break-all;white-space:pre-wrap}.gvs-container[_ngcontent-%COMP%]   .gvs-header[_ngcontent-%COMP%]{background:rgba(51,51,51,.8)}.gvs-container[_ngcontent-%COMP%]   .gvs-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}.gvs-container[_ngcontent-%COMP%]   .gvs-item[_ngcontent-%COMP%]{align-items:center;margin-top:4px;background:rgba(51,51,51,.5);border-bottom:1px solid white}.gvs-container[_ngcontent-%COMP%]   .gvs-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:15px}.gvs-container[_ngcontent-%COMP%]   .gvs-item[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%]{margin-left:15px}.gvs-container[_ngcontent-%COMP%]   .gvs-editor[_ngcontent-%COMP%]{align-items:center;margin-top:2px;background:rgba(51,51,51,.8)}ion-header[_ngcontent-%COMP%]{--color: $light;--background: transparent}button[_ngcontent-%COMP%]{--color: $light;--background: transparent;background:transparent}ion-content[_ngcontent-%COMP%]::part(scroll){--background: transparent}"]}),d})()}];let A=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[f.Bz.forChild(k),f.Bz]}),d})();var D=i(23934);let J=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[b.ez,g.u5,r.Pc,A,s.aw,D.o]}),d})()},59764:(M,h,i)=>{i.d(h,{T:()=>u});var b=i(15861),g=i(65879),r=i(56223),f=i(28662);let u=(()=>{var _;class w{mouseDownEventHandler(c){c.stopImmediatePropagation(),c.preventDefault()}keyEventHandler(c){var s=this;return(0,b.Z)(function*(){if(c.stopImmediatePropagation(),c.preventDefault(),"Enter"==c.key||" "==c.key){var p;let m=null===(p=document.activeElement)||void 0===p?void 0:p.className.toLowerCase();if(m&&(m.indexOf("range-knob-handle")>-1||m.indexOf("range-md")>-1)&&m.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let x=document.activeElement.getAttribute("aria-valuenow");if(x){let C=Number.parseFloat(x);if(C||0===C)return console.log("range-knob-handle value change to "+C),void s.model.update.emit(C)}}let G=s.el.nativeElement.nodeName.toLowerCase();const P=yield f.A.getInfo();["button","ion-checkbox","a"].indexOf(G)>-1?"android"!==P.operatingSystem.toLowerCase()&&s.el.nativeElement.click():"!android"!==P.operatingSystem.toLowerCase()&&s.clickOnElement(s.el)}})()}clickOnElement(c){if(document.createEvent){let s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.nativeElement.dispatchEvent(s)}}mouseDownOnElement(c){let s=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});c.nativeElement.dispatchEvent(s)}constructor(c,s,p){this.el=c,this.renderer=s,this.model=p,this.eventEmitter=new g.vpe}ngOnInit(){}}return(_=w).\u0275fac=function(c){return new(c||_)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(r.On))},_.\u0275dir=g.lG2({type:_,selectors:[["","component-click",""]],hostBindings:function(c,s){1&c&&g.NdJ("mousedown",function(m){return s.mouseDownEventHandler(m)})("keypress",function(m){return s.keyEventHandler(m)})},outputs:{eventEmitter:"eventEmitter"},features:[g._Bn([r.On])]}),w})()},48753:(M,h,i)=>{i.d(h,{c:()=>g});var b=i(65879);let g=(()=>{var r;class f{constructor(_){this.elementRef=_}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(r=f).\u0275fac=function(_){return new(_||r)(b.Y36(b.SBq))},r.\u0275dir=b.lG2({type:r,selectors:[["","padding",""]]}),f})()}}]);