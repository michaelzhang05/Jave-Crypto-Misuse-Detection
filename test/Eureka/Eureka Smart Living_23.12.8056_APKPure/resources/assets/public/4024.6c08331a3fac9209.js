"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4024,9764],{87055:(Q,q,d)=>{d.d(q,{g:()=>v});const v=(0,d(92726).fo)("App",{web:()=>d.e(2912).then(d.bind(d,62912)).then(h=>new h.AppWeb)})},24024:(Q,q,d)=>{d.r(q),d.d(q,{SettingsPageModule:()=>Ut});var M=d(96814),v=d(56223),h=d(73582),D=d(70160),C=d(15861),r=d(8873),N=d(9944),b=d(46729),f=d(51141),T=d(90274),S=d(87055),k=d(37092),J=d(56544),w=d(86235),u=d(75886),E=d(66004),W=d(79805),H=d(28662),X=d(15231),Y=d(63629),G=d(43826),Z=d(70356),F=d(9547),ee=d(10130),te=d(86799),ne=d(88594),ie=d(38763),oe=d(36627),se=d(31216),ae=d(78870),re=d(39306),le=d(67724),_e=d(75830),de=d(36413),ce=d(22752),ge=d(67956),ue=d(75609),me=d(95252),pe=d(19462),j=d(39745),R=d(20553),he=d(62850),fe=d(35605),e=d(65879),y=d(34414),xe=d(77935),ve=d(21791),be=d(9482),Ze=d(57922),V=d(58646),K=d(63999),Ce=d(59764),we=d(69705);const Te=["content"];function Ae(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div",14)(1,"ion-label",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.ShowUILanguages())}),e._UZ(5,"ion-icon",31),e._uU(6),e.qZA()()}if(2&s){const i=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,2,"language")),e.xp6(4),e.hij("\xa0",i.current_lang," ")}}function Pe(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div",14)(1,"ion-label",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.openPage("users"))}),e._UZ(5,"ion-icon",32),e._uU(6),e.ALo(7,"translate"),e.qZA()()}2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"users")),e.xp6(4),e.hij("\xa0",e.lcZ(7,4,"user-management")," "))}function Se(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div"),e.YNc(1,Ae,7,4,"div",12),e.TgZ(2,"div",14)(3,"ion-label",15),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-button",16),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.ShowThemeSelector())}),e._UZ(7,"ion-icon",17),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",14)(11,"ion-label",15),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.openPage("notification"))}),e._UZ(15,"ion-icon",19),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",14)(19,"ion-label",15),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ion-button",20),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.openPage("systemInfo"))}),e._UZ(23,"ion-icon",21),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"ion-button",22),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.refresh())}),e._UZ(27,"ion-icon",23),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",14)(31,"ion-label",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"ion-button",16),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.ShowFileManager())}),e._UZ(35,"ion-icon",24),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.YNc(38,Pe,8,6,"div",12),e.TgZ(39,"div",14)(40,"ion-label",15),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.openPage("deviceSettings"))}),e._UZ(44,"ion-icon",25),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",14)(48,"ion-label",15),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.editMyUser())}),e._UZ(52,"ion-icon",26),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"ion-button",18),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.openPage("profile"))}),e._UZ(56,"ion-icon",27),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"ion-button",28),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.presentLogoutActionSheet())}),e._UZ(60,"ion-icon",29),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"ion-button",28),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.closeApp())}),e._UZ(64,"ion-icon",30),e._uU(65),e.ALo(66,"translate"),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.hideUILanguage),e.xp6(3),e.Oqu(e.lcZ(5,19,"theme")),e.xp6(4),e.hij("\xa0",e.lcZ(9,21,i.current_theme)," "),e.xp6(4),e.Oqu(e.lcZ(13,23,"notification")),e.xp6(4),e.hij("\xa0",e.lcZ(17,25,"configure-notification")," "),e.xp6(4),e.Oqu(e.lcZ(21,27,"system")),e.xp6(4),e.hij("\xa0",e.lcZ(25,29,"SYSTEMINFO")," "),e.xp6(4),e.hij("\xa0",e.lcZ(29,31,"refresh"),""),e.xp6(4),e.Oqu(e.lcZ(33,33,"file-manager")),e.xp6(4),e.hij("\xa0",e.lcZ(37,35,"file-manager")," "),e.xp6(2),e.Q6J("ngIf",i.is_super_user),e.xp6(3),e.Oqu(e.lcZ(42,37,"device-settings")),e.xp6(4),e.hij("\xa0",e.lcZ(46,39,"device-settings")," "),e.xp6(4),e.AsE("",e.lcZ(50,41,"profile"),"\xa0",null==i.AppState||null==i.AppState.DefaultController?null:i.AppState.DefaultController.username,""),e.xp6(4),e.hij("\xa0",e.lcZ(54,43,"update-profile")," "),e.xp6(4),e.hij("\xa0",e.lcZ(58,45,"change-password")," "),e.xp6(4),e.hij("\xa0",e.lcZ(62,47,"logout")," "),e.xp6(4),e.hij("\xa0",e.lcZ(66,49,"close-app")," ")}}function ye(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label",33),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"ion-input",34),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()()(),e.TgZ(6,"ion-item")(7,"ion-label",33),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"ion-input",35),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-label",33),e._uU(13),e.ALo(14,"translate"),e._UZ(15,"ion-input",36),e.qZA()(),e.TgZ(16,"ion-item")(17,"button",37),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.changePassword())}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",38),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.goBack())}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}2&s&&(e.xp6(3),e.hij("",e.lcZ(4,5,"current-password")," "),e.xp6(5),e.hij("",e.lcZ(9,7,"new-password")," "),e.xp6(5),e.hij("",e.lcZ(14,9,"retype-password")," "),e.xp6(5),e.hij(" ",e.lcZ(19,11,"change")," "),e.xp6(3),e.Oqu(e.lcZ(22,13,"back")))}function ke(s,_){if(1&s&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&s){const i=_.$implicit;e.Q6J("value",i.Id),e.xp6(1),e.hij(" ",i.Name," ")}}function Ue(s,_){if(1&s&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const i=_.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(e.lcZ(2,2,i.name))}}function Ee(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div",14),e._UZ(1,"br"),e.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col",39)(5,"ion-label",40),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"ion-col",41)(9,"ion-checkbox",42),e.NdJ("ionChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.changeCameraThumbnail(n))}),e.qZA()()(),e.TgZ(10,"ion-row")(11,"ion-col",39)(12,"ion-label",40),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ion-col",41)(16,"ion-checkbox",43),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.toggleStatusbar())}),e.qZA()()(),e.TgZ(17,"ion-row")(18,"ion-col"),e._UZ(19,"br"),e.qZA()(),e.TgZ(20,"ion-row")(21,"ion-col",39)(22,"ion-label",40),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-col",41)(26,"ion-checkbox",44),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.updateSliderClickPermission())}),e.qZA()()(),e.TgZ(27,"ion-row")(28,"ion-col",39)(29,"ion-label",40),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"ion-col",41)(33,"ion-checkbox",45),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.updateShowUIFocusHighlight())}),e.qZA()()(),e.TgZ(34,"ion-row")(35,"ion-col",39)(36,"ion-label",40),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"ion-col",41)(40,"ion-checkbox",46),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.EnableDashboardMode())}),e.qZA()()(),e.TgZ(41,"ion-row")(42,"ion-col",47)(43,"ion-label",40),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"ion-col",41)(47,"ion-select",48),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.SelectDashboardModId())}),e.ALo(48,"translate"),e.ALo(49,"translate"),e._UZ(50,"ion-select-option",49),e.YNc(51,ke,2,2,"ion-select-option",50),e.qZA()()(),e.TgZ(52,"ion-row")(53,"ion-col",39)(54,"ion-label",40),e._uU(55),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"ion-col",41)(58,"ion-item")(59,"ion-select",51),e.NdJ("ionChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.appFlowChange(n))}),e.TgZ(60,"ion-select-option",49),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"ion-select-option",49),e._uU(64),e.ALo(65,"translate"),e.qZA()()()()(),e.TgZ(66,"ion-row")(67,"ion-col",39)(68,"ion-label",40),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"ion-col",41)(72,"ion-item")(73,"ion-select",51),e.NdJ("ionChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.roomLevelChange(n))}),e.TgZ(74,"ion-select-option",49),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"ion-select-option",49),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"ion-select-option",49),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"ion-select-option",49),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"ion-select-option",49),e._uU(87),e.ALo(88,"translate"),e.qZA()()()()()(),e._UZ(89,"br"),e.TgZ(90,"ion-grid")(91,"ion-row")(92,"ion-col",39)(93,"ion-label",40),e._uU(94),e.ALo(95,"translate"),e.qZA()(),e.TgZ(96,"ion-col",41)(97,"ion-checkbox",52),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.ChangeShakeState())}),e.qZA()()(),e.TgZ(98,"ion-row")(99,"ion-col")(100,"ion-label",40),e._uU(101),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"ion-col")(104,"ion-select",53),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.ChangeShakeFrequency())}),e.ALo(105,"translate"),e.ALo(106,"translate"),e.YNc(107,Ue,3,4,"ion-select-option",50),e.qZA()()()()()}if(2&s){const i=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,36,"show-thumbnail-on-camera")),e.xp6(7),e.Oqu(e.lcZ(14,38,"hide-statusbar")),e.xp6(10),e.Oqu(e.lcZ(24,40,"enable-slider-touch")),e.xp6(7),e.Oqu(e.lcZ(31,42,"show-ui-focus")),e.xp6(7),e.Oqu(e.lcZ(38,44,"enable-dashboard-mode")),e.xp6(7),e.hij(" ",e.lcZ(45,46,"dashboard"),""),e.xp6(3),e.s9C("cancelText",e.lcZ(48,48,"cancel")),e.s9C("okText",e.lcZ(49,50,"ok")),e.Q6J("value",i.dashboard_mode_id)("disabled",!i.list_of_dashboards||!i.dashboard_mode_enabled),e.xp6(3),e.Q6J("value",-1),e.xp6(1),e.Q6J("ngForOf",i.list_of_dashboards),e.xp6(4),e.hij(" ",e.lcZ(56,52,"application-flow"),""),e.xp6(4),e.Q6J("value",i._appFlow),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(62,54,"default")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(65,56,"lite")),e.xp6(5),e.hij(" ",e.lcZ(70,58,"room-level"),""),e.xp6(4),e.Q6J("value",i._roomLevel),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(76,60,"root-level")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(79,62,"first-level")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(82,64,"second-level")),e.xp6(2),e.Q6J("value",3),e.xp6(1),e.Oqu(e.lcZ(85,66,"third-level")),e.xp6(2),e.Q6J("value",999),e.xp6(1),e.Oqu(e.lcZ(88,68,"all")),e.xp6(7),e.Oqu(e.lcZ(95,70,"enable-shake-gesture-for-voice-command")),e.xp6(7),e.Oqu(e.lcZ(102,72,"shake-frequency")),e.xp6(3),e.s9C("cancelText",e.lcZ(105,74,"cancel")),e.s9C("okText",e.lcZ(106,76,"ok")),e.Q6J("value",i.shakeFrequency),e.xp6(3),e.Q6J("ngForOf",i.shakingOptions)}}function Le(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-item",57),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.enableExperimental())}),e.TgZ(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()}if(2&s){const i=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,4,"app-version")),e.xp6(2),e.Udp("color",i.isExperimentalEnabled?"#7200ff":"#666"),e.xp6(1),e.Oqu(i.app_version)}}function Oe(s,_){if(1&s&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()),2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"device-ip")),e.xp6(3),e.Oqu(i.current_IP)}}function Me(s,_){if(1&s&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()),2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,3,"manufacturer-model")),e.xp6(3),e.AsE("",i.device.manufacturer," / ",i.device.model,"")}}function Ne(s,_){if(1&s&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()),2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"platform")),e.xp6(3),e.Oqu(i.device.platform)}}function Ie(s,_){if(1&s&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"label",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()),2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"serial-no")),e.xp6(3),e.Oqu(i.deviceId)}}function qe(s,_){if(1&s&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()),2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"unique-id")),e.xp6(3),e.Oqu(i.unique_device_id)}}function De(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-item",58),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.enableExperimental())}),e.TgZ(1,"ion-label")(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()()}if(2&s){const i=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"software-version")),e.xp6(3),e.Oqu(i.device.osVersion)}}function Je(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-checkbox",59),e.NdJ("ionChange",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.updateExperiment())}),e.qZA()()}2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"experimental")))}function Ge(s,_){if(1&s&&(e.TgZ(0,"div")(1,"ion-list",54),e.YNc(2,Le,6,6,"ion-item",55),e.YNc(3,Oe,7,4,"ion-item",10),e.YNc(4,Me,7,5,"ion-item",10),e.YNc(5,Ne,7,4,"ion-item",10),e.YNc(6,Ie,7,4,"ion-item",10),e.YNc(7,qe,7,4,"ion-item",10),e.YNc(8,De,7,4,"ion-item",56),e.YNc(9,Je,5,3,"ion-item",10),e.qZA()()),2&s){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.app_version),e.xp6(1),e.Q6J("ngIf",i.current_IP),e.xp6(1),e.Q6J("ngIf",null!=i.device),e.xp6(1),e.Q6J("ngIf",null!=i.device),e.xp6(1),e.Q6J("ngIf",null!=i.device&&!i.platform.is("ios")),e.xp6(1),e.Q6J("ngIf",i.unique_device_id),e.xp6(1),e.Q6J("ngIf",i.device),e.xp6(1),e.Q6J("ngIf",i.showExperimentOption||i.isExperimentalEnabled)}}function Fe(s,_){if(1&s&&(e.TgZ(0,"form",13),e.YNc(1,Se,67,51,"div",10),e.YNc(2,ye,23,15,"ion-list",10),e.YNc(3,Ee,108,78,"div",12),e.YNc(4,Ge,10,8,"div",10),e.qZA()),2&s){const i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf","main"==i.page),e.xp6(1),e.Q6J("ngIf","profile"==i.page),e.xp6(1),e.Q6J("ngIf","deviceSettings"==i.page),e.xp6(1),e.Q6J("ngIf","systemInfo"==i.page)}}function je(s,_){if(1&s&&e._UZ(0,"ion-icon",71),2&s){const i=e.oxw().$implicit,t=e.oxw(2);e.Udp("color",i.AdminLevel==t.AdminLevel.SystemAdmin?"gold":"silver")}}function Ke(s,_){1&s&&(e.TgZ(0,"span"),e._uU(1," | "),e.qZA())}function Qe(s,_){1&s&&e._UZ(0,"div",72)}function He(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.deleteUser(n.Id))}),e._UZ(1,"ion-icon",74),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"delete")," "))}function Ye(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-item-sliding",62)(1,"ion-item")(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"h2"),e.YNc(6,je,1,2,"ion-icon",63),e._uU(7),e.qZA(),e.TgZ(8,"p",64)(9,"strong"),e._uU(10),e.qZA(),e.YNc(11,Ke,2,0,"span",10),e._uU(12),e.qZA()(),e.TgZ(13,"ion-col",65),e._UZ(14,"ion-icon",8),e.qZA()()(),e.YNc(15,Qe,1,0,"div",66),e.qZA(),e.TgZ(16,"ion-item-options",67)(17,"button",68),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw(2);return e.KtG(a.openEditUser(o.Id))}),e._UZ(18,"ion-icon",69),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.YNc(21,He,4,3,"button",70),e.qZA()()}if(2&s){const i=_.$implicit,t=_.last,n=e.oxw(2);e.xp6(6),e.Q6J("ngIf",i.AdminLevel),e.xp6(1),e.hij(" \xa0",i.DisplayName,""),e.xp6(3),e.Oqu(i.Username),e.xp6(1),e.Q6J("ngIf",""!=i.Username&&""!=i.Email),e.xp6(1),e.Oqu(i.Email),e.xp6(3),e.Q6J("ngIf",!t),e.xp6(4),e.hij(" ",e.lcZ(20,8,"edit")," "),e.xp6(2),e.Q6J("ngIf",n.current_user.id!=i.Id&&(i.AdminLevel==n.AdminLevel.NormalUser||n.current_user.admin_level==n.AdminLevel.SuperUser&&i.AdminLevel==n.AdminLevel.SuperUser||n.current_user.admin_level==n.AdminLevel.SystemAdmin&&i.admin_level==n.AdminLevel.SystemAdmin))}}function Re(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"button",60),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.getAddUserPermissions())}),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label",15),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.YNc(9,Ye,22,10,"ion-item-sliding",61),e.qZA()}if(2&s){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"add-new-user")),e.xp6(4),e.Oqu(e.lcZ(8,5,"users")),e.xp6(2),e.Q6J("ngForOf",i.list_of_users)}}function Ve(s,_){1&s&&(e.TgZ(0,"ion-segment-button",80),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"rooms")," "))}function Be(s,_){1&s&&(e.TgZ(0,"ion-segment-button",81),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"devices")," "))}function ze(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div",75)(1,"ion-segment",76),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.editExistingUserPage=n)}),e.TgZ(2,"ion-segment-button",77),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Ve,3,3,"ion-segment-button",78),e.YNc(6,Be,3,3,"ion-segment-button",79),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.editExistingUserPage),e.xp6(2),e.hij(" ",e.lcZ(4,4,"info")," "),e.xp6(2),e.Q6J("ngIf",i.is_super_user),e.xp6(1),e.Q6J("ngIf",i.is_super_user)}}function $e(s,_){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function We(s,_){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function Xe(s,_){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function et(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(4);return e.KtG(n.confirmOtp("email",n.edit_existing_user.new_email,{Id:n.edit_existing_user.id}))}),e._UZ(1,"ion-icon",99),e.qZA()}}function tt(s,_){1&s&&e._UZ(0,"ion-icon",100)}function nt(s,_){if(1&s&&(e.TgZ(0,"span",95),e.YNc(1,et,2,0,"button",96),e.YNc(2,tt,1,0,"ion-icon",97),e.qZA()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!i.edit_existing_user.email_confirmed&&i.edit_existing_user.previous_email==i.edit_existing_user.new_email),e.xp6(1),e.Q6J("ngIf",i.edit_existing_user.email_confirmed&&i.edit_existing_user.previous_email==i.edit_existing_user.new_email)}}function it(s,_){1&s&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function ot(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(4);return e.KtG(n.confirmOtp("phone",n.edit_existing_user.new_phone,{Id:n.edit_existing_user.id}))}),e._UZ(1,"ion-icon",99),e.qZA()}}function st(s,_){1&s&&e._UZ(0,"ion-icon",100)}function at(s,_){if(1&s&&(e.TgZ(0,"span",95),e.YNc(1,ot,2,0,"button",96),e.YNc(2,st,1,0,"ion-icon",97),e.qZA()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!i.edit_existing_user.phone_confirmed&&i.edit_existing_user.previous_phone==i.edit_existing_user.new_phone),e.xp6(1),e.Q6J("ngIf",i.edit_existing_user.phone_confirmed&&i.edit_existing_user.previous_phone==i.edit_existing_user.new_phone)}}function rt(s,_){if(1&s&&e._UZ(0,"ion-icon",71),2&s){const i=e.oxw(3);e.Udp("color",i.edit_existing_user.admin_level==i.AdminLevel.SystemAdmin?"gold":"silver")}}function lt(s,_){1&s&&(e.TgZ(0,"li",102),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"invalid-email")))}function _t(s,_){1&s&&(e.TgZ(0,"li",102),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"all-fields-required")," "))}function dt(s,_){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,lt,3,3,"li",101),e.YNc(2,_t,3,3,"li",101),e.qZA()),2&s){e.oxw();const i=e.MAs(25),t=e.MAs(18),n=e.MAs(11);e.xp6(1),e.Q6J("ngIf",i.errors&&i.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.errors&&t.errors.required||i.errors&&i.errors.required||n.errors&&n.errors.required)}}function ct(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(3);return e.KtG(n.showResetPasswordDialog(n.edit_existing_user.id))}),e._UZ(1,"ion-icon",74),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"reset-password")," "))}function gt(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item")(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label",33),e._uU(7),e.ALo(8,"translate"),e.YNc(9,$e,2,0,"span",10),e.qZA(),e.TgZ(10,"ion-input",82,83),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_display_name=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label",33),e._uU(14),e.ALo(15,"translate"),e.YNc(16,We,2,0,"span",10),e.qZA(),e.TgZ(17,"ion-input",84,85),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_username=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",33),e._uU(21),e.ALo(22,"translate"),e.YNc(23,Xe,2,0,"span",10),e.qZA(),e.TgZ(24,"ion-input",86,87),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_email=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA(),e.YNc(26,nt,3,2,"span",88),e.qZA(),e.TgZ(27,"ion-item")(28,"ion-label",33),e._uU(29),e.ALo(30,"translate"),e.YNc(31,it,2,0,"span",10),e.qZA(),e.TgZ(32,"ion-input",89,90),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.new_phone=n)})("ionChange",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.dataChanged())}),e.qZA(),e.YNc(34,at,3,2,"span",88),e.qZA(),e.TgZ(35,"div",14)(36,"ion-grid")(37,"ion-row")(38,"ion-col")(39,"ion-label",91),e.YNc(40,rt,1,2,"ion-icon",63),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"ion-col",41)(44,"ion-select",92),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw(2);return e.KtG(o.edit_existing_user.admin_level=n)}),e.ALo(45,"translate"),e.ALo(46,"translate"),e.TgZ(47,"ion-select-option",93),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"ion-select-option",49),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"ion-select-option",49),e._uU(54),e.ALo(55,"translate"),e.qZA()()()()()(),e.YNc(56,dt,3,2,"ul",10),e.TgZ(57,"ion-item"),e.YNc(58,ct,4,3,"button",70),e.qZA(),e.TgZ(59,"ion-item")(60,"button",94),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.editExistingUser())}),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"button",38),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.goBack())}),e._uU(64),e.ALo(65,"translate"),e.qZA()()()}if(2&s){const i=e.MAs(11),t=e.MAs(18),n=e.MAs(25),o=e.MAs(33),a=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,32,"edit-user")),e.xp6(4),e.hij("",e.lcZ(8,34,"display-name")," "),e.xp6(2),e.Q6J("ngIf",i.errors&&i.errors.required),e.xp6(1),e.Q6J("ngModel",a.edit_existing_user.new_display_name),e.xp6(4),e.Oqu(e.lcZ(15,36,"username")),e.xp6(2),e.Q6J("ngIf",t.errors&&t.errors.required),e.xp6(1),e.Q6J("ngModel",a.edit_existing_user.new_username),e.xp6(4),e.Oqu(e.lcZ(22,38,"email")),e.xp6(2),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngModel",a.edit_existing_user.new_email),e.xp6(2),e.Q6J("ngIf",a.edit_existing_user.new_email&&a.edit_existing_user.id>-1),e.xp6(3),e.Oqu(e.lcZ(30,40,"phone")),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required),e.xp6(1),e.Q6J("ngModel",a.edit_existing_user.new_phone),e.xp6(2),e.Q6J("ngIf",a.edit_existing_user.new_phone&&a.edit_existing_user.id>-1),e.xp6(6),e.Q6J("ngIf",a.edit_existing_user.admin_level!=a.AdminLevel.NormalUser),e.xp6(1),e.hij("\xa0",e.lcZ(42,42,"user-type"),""),e.xp6(3),e.s9C("cancelText",e.lcZ(45,44,"cancel")),e.s9C("okText",e.lcZ(46,46,"ok")),e.Q6J("disabled",a.current_user.id==a.edit_existing_user.id)("ngModel",a.edit_existing_user.admin_level),e.xp6(3),e.Q6J("value",0),e.xp6(1),e.hij(" ",e.lcZ(49,48,"normal-user"),""),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(52,50,"super-user")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(55,52,"system-admin")),e.xp6(2),e.Q6J("ngIf",t.errors||n.errors||i.errors),e.xp6(2),e.Q6J("ngIf",a.current_user.id!=a.edit_existing_user.id),e.xp6(2),e.Q6J("disabled",t.errors||n.errors||i.errors),e.xp6(1),e.hij(" ",e.lcZ(62,54,"update")," "),e.xp6(3),e.Oqu(e.lcZ(65,56,"back"))}}function ut(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e._UZ(4,"img",105),e.TgZ(5,"span",106),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",107)(8,"button",108),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw(3);return e.KtG(a.switchPermissionE(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=_.$implicit,t=e.oxw(3);e.xp6(4),e.Udp("margin-left",30*i.level+"px"),e.Q6J("src",i.image_url,e.LSH),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,7,t.getPermissionString(i.Permission))," ")}}function mt(s,_){if(1&s&&(e.TgZ(0,"div")(1,"ul",103),e.YNc(2,ut,11,9,"li",104),e.qZA()()),2&s){const i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",i.list_of_rooms)}}function pt(s,_){if(1&s&&e._UZ(0,"img",105),2&s){const i=e.oxw().$implicit;e.Q6J("src",i.image_url,e.LSH)}}function ht(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"li")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e.YNc(4,pt,1,1,"img",109),e.TgZ(5,"span",110),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",107)(8,"button",108),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw(4);return e.KtG(a.switchPermissionE(o))}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()}if(2&s){const i=_.$implicit,t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",i.image_url),e.xp6(2),e.Oqu(i.object_name),e.xp6(2),e.Tol("full-primary-button full-expand select-button-perm "+(0==i.Permission?"danger":1==i.Permission?"readonly":2==i.Permission?"fullcontrol":"default")),e.xp6(1),e.hij(" ",e.lcZ(10,5,t.getPermissionString(i.Permission))," ")}}function ft(s,_){if(1&s&&(e.TgZ(0,"div")(1,"ion-label",15),e._uU(2),e.qZA(),e.TgZ(3,"ul",103),e.YNc(4,ht,11,7,"li",104),e.qZA()()),2&s){const i=_.$implicit;e.xp6(2),e.Oqu(i.key),e.xp6(2),e.Q6J("ngForOf",i.values)}}function xt(s,_){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,ft,5,2,"div",104),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.list_of_devices_group_by_room)}}function vt(s,_){if(1&s&&(e.TgZ(0,"div",14),e.YNc(1,gt,66,58,"ion-list",10),e.YNc(2,mt,3,1,"div",10),e.YNc(3,xt,2,1,"div",10),e.qZA()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngIf","info"==i.editExistingUserPage),e.xp6(1),e.Q6J("ngIf","rooms"==i.editExistingUserPage),e.xp6(1),e.Q6J("ngIf","devices"==i.editExistingUserPage)}}function bt(s,_){if(1&s&&e._UZ(0,"img",128),2&s){const i=e.oxw(2).$implicit;e.Q6J("src",null==i?null:i.image,e.LSH)}}function Zt(s,_){if(1&s&&e._UZ(0,"img",129),2&s){const i=e.oxw(2).$implicit;e.Q6J("src",null==i?null:i.image,e.LSH)}}function Ct(s,_){if(1&s&&(e.TgZ(0,"table"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const i=e.oxw(2).$implicit;e.xp6(1),e.AsE(" ",i.name," ",e.lcZ(2,2,i.getFriendlyActionName)," ")}}function wt(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"ion-grid",120)(1,"ion-row")(2,"ion-col",121),e.YNc(3,bt,1,1,"img",122),e.YNc(4,Zt,1,1,"img",123),e.qZA(),e.TgZ(5,"ion-col",124),e.YNc(6,Ct,3,4,"table",10),e.qZA(),e.TgZ(7,"ion-col",125)(8,"ion-item",126)(9,"ion-checkbox",127),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw().$implicit;return e.KtG(o.active=n)})("ionChange",function(n){e.CHM(i);const o=e.oxw().$implicit;return e.KtG(o.toggle(n))}),e.qZA()()()()()}if(2&s){const i=e.oxw().$implicit,t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.notificationSettings.mobile_device_notification),e.xp6(1),e.Q6J("ngIf",t.notificationSettings.mobile_device_notification),e.xp6(2),e.Q6J("ngIf",i),e.xp6(3),e.Q6J("disabled",!t.notificationSettings.mobile_device_notification)("ngModel",i.active)}}function Tt(s,_){if(1&s&&(e.TgZ(0,"div",118),e.YNc(1,wt,10,5,"ion-grid",119),e._UZ(2,"div",72),e.qZA()),2&s){const i=_.$implicit;e.xp6(1),e.Q6J("ngIf",i)}}function At(s,_){if(1&s&&(e.TgZ(0,"div",14)(1,"ion-label",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Tt,3,1,"div",117),e.qZA()),2&s){const i=_.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,i.key)),e.xp6(2),e.Q6J("ngForOf",i.values)}}function Pt(s,_){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"ion-list")(2,"div",14)(3,"ion-label",15),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"ion-icon",111),e.qZA(),e.TgZ(7,"ion-grid")(8,"ion-row")(9,"ion-col",112),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-col",113)(13,"ion-item",114)(14,"ion-checkbox",115),e.NdJ("ngModelChange",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.notificationSettings.mobile_device_notification=n)})("ionChange",function(n){e.CHM(i);const o=e.oxw();return e.KtG(o.toggleNotification(n))}),e.qZA()()()()()(),e.YNc(15,At,5,4,"div",116),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(4),e.hij("",e.lcZ(5,5,"push-notification")," "),e.xp6(2),e.Q6J("name",i.notificationSettings.mobile_device_notification?"notifications":"notifications-off"),e.xp6(4),e.hij(" ",e.lcZ(11,7,"receive-push-notification-on-this-device")," "),e.xp6(4),e.Q6J("ngModel",i.notificationSettings.mobile_device_notification),e.xp6(1),e.Q6J("ngForOf",i.notificationSettings.list_of_notification_devices_by_room)}}const St=[{path:"",component:(()=>{var s;class _ extends J.n{roomLevelChange(t){this._roomLevel=t.detail.value,this.settings.setValue("roomLevel",this._roomLevel).then(o=>{r.a.roomLevel=this._roomLevel}),r.a.refreshHomePage=!0}appFlowChange(t){this._appFlow=t.detail.value,this.settings.setValue("appFlow",this._appFlow).then(o=>{this.appComponent.applyAppFlow(this._appFlow)}),r.a.refreshHomePage=!0}get hideUILanguage(){return r.a.StaticSettings.HideUILanguage}get dashboard_mode_enabled(){return r.a.DashboardMode}set dashboard_mode_enabled(t){r.a.DashboardMode=t}get dashboard_mode_id(){return r.a.DashboardId}set dashboard_mode_id(t){r.a.DashboardId=t}get shake_enabled(){return r.a.ShakeEnabled}set shake_enabled(t){r.a.ShakeEnabled=t}get shakeFrequency(){return r.a.ShakeFrequency}set shakeFrequency(t){r.a.ShakeFrequency=t}constructor(t,n,o,a,l,g,x,A,U,p,c,m,P,L,O,I,B,z,Et,$,Lt,Ot,Mt,Nt,It){super(o,I,B,z,t,Et,!1,$),this.navCtrl=t,this.settings=n,this.api=o,this.toastCtrl=a,this.loadingCtrl=l,this.themeCtrl=g,this.actionSheetCtrl=x,this.events=A,this.networkInterface=U,this.uuid=p,this.viewCtrl=c,this.ionicApp=m,this.formBuilder=P,this.navParams=L,this.popoverCtrl=O,this.platform=I,this.alertController=B,this.translate=z,this.router=$,this.appComponent=Lt,this.RouterOutlet=Ot,this.modalCtrl=Mt,this.overlayCtrl=Nt,this.renderer=It,this.AppState=r.a,this.form_edited=!1,this.addNewPage="info",this.editExistingUserPage="info",this.add_new_user={admin_level:u.Z.NormalUser,admin_level_name:"user",new_display_name:"",new_username:"",new_email:"",new_password:"",new_confirm_password:"",permissions:[]},this.edit_existing_user={id:-1,new_display_name:"",new_username:"",admin_level:u.Z.NormalUser,admin_level_name:"user",new_email:"",new_phone:"",previous_email:"",previous_phone:"",email_confirmed:!1,phone_confirmed:!1,new_password:"",new_confirm_password:"",permissions:[]},this.settingsReady=!1,this.notificationSettings={page:"updateNotification",pageTitleKey:"notification",mobile_notification_id:-1,mobile_device_notification:!1,list_of_notification_devices_by_room:[]},this.addUserSettings={page:"addNewUser",pageTitleKey:"ADD_NEW_USER_PAGE",data:void 0},this.editExistingUserSetting={page:"editExistingUser",pageTitleKey:"EDIT_USER_PAGE",data:void 0},this.listUserSettings={page:"listUsers",pageTitleKey:"LIST_USER_PAGE"},this.profileSettings={page:"profile",pageTitleKey:"SETTINGS_PAGE_PROFILE"},this.deviceSettings={page:"deviceSettings",pageTitleKey:"device-settings"},this.shakingOptions=[{id:0,name:"default"},{id:1,name:"low"},{id:2,name:"high"}],this.deviceInfo={page:"systemInfo",pageTitleKey:"SYSTEMINFO"},this.changeRoom={page:"changeRoom",pageTitleKey:"SETTINGS_PAGE_CHANGE_DEFAULT_ROOM"},this.page="main",this.pageTitleKey="SETTINGS_TITLE",this.subSettings=f.L6,this.AdminLevel=u.Z,this.cancelLabel="",this.app_version="",this.logoutLabel="",this.logout_confirmation="",this.current_IP="",this.is_super_user=!1,this.default_room=new T.d,this.list_of_rooms=null,this.list_of_devices_group_by_room=null,this.unique_device_id="",this._appFlow=0,this._roomLevel=1,this.device_manufacturer="",this.device_model="",this.device_platform="",this.theAppState=r.a,this.list_of_dashboards=[],this.current_lang="en",this.errorLabel="",this.list_of_users=[],this.lastExperimentCount=0,this.experimentTimeout=-1,this.showExperimentOption=!1,this.registerBackButtonOnSettings(),this.deviceId=(I.is("mobile"),this.unique_device_id),null!=r.a.DefaultController?(r.a.DefaultController.user&&(this.is_super_user=r.a.DefaultController.user.is_super_user),this.current_user=r.a.DefaultController.user,this.default_room.name="all",this.default_room=r.a.DefaultController.default_room,this.platform.is("mobile")&&(console.log(this.platform.is("capacitor")),this.networkInterface.getWiFiIPAddress().then(qt=>{this.current_IP=qt.ip})),this.logoutLabel=this.translate.instant("logout"),this.cancelLabel=this.translate.instant("cancel"),this.logout_confirmation=this.translate.instant("logout-confirmation"),this.loadSettings()):t.navigateForward(f.g6)}ChangeShakeFrequency(){let t=this.form.get("shakeFrequency").value;console.log(t),this.settings.setValue("shake-frequency",t).then(n=>{r.a.ShakeFrequency=t,this.SubscribeShake()})}EnableDashboardMode(){let t=this.form.get("dashboard_mode").value;console.log(t),this.settings.setValue("dashboard_mode",t).then(n=>{r.a.DashboardMode=t})}ChangeShakeState(){let t=this.form.get("shake_enabled").value;console.log(t),this.settings.setValue("shake-enabled",t).then(n=>{r.a.ShakeEnabled=t,0==t?Y.x.unsubscribeToShakeEvent():Y.x.subscribeToShakeEvent(),this.settings.save().then(o=>{console.log("App Shake Event Changed",t),b.V0.events.publish(G.n.SHAKE_CHANGED,t)})})}indentRoom(t,n=[],o){t.level=o,n.push(t),o++;for(let a=0;a<t.children_rooms.length;a++)this.indentRoom(t.children_rooms[a],n,o)}list_to_tree(t){let o,n={},a=[];for(let l=0;l<t.length;l+=1)n[t[l].id]=l,t[l].children_rooms=[];for(let l=0;l<t.length;l+=1)o=t[l],void 0!==o.parent_id?null!=n[o.parent_id]&&null!=t[n[o.parent_id]]&&t[n[o.parent_id]].children_rooms.push(o):a.push(o);return a}_buildForm(){var t=this;return(0,C.Z)(function*(){console.log("build form");let n={option_lang:[t.options.option_lang],option_speech_lang:[t.options.option_speech_lang],showCameraThumbnail:t.options.showCameraThumbnail,hideStatusbar:t.options.hideStatusbar,shake_enabled:t.options["shake-enabled"],shakeFrequency:t.options["shake-frequency"],enable_slider_touch:t.options.enable_slider_touch,showUIFocusHighlight:t.options.show_ui_focus_highlight,dashboard_mode:t.options.dashboard_mode,dashboard_mode_id:t.options.dashboard_mode_id,showExperiment:t.options.showExperiment,hardware_id:t.options["hardware-id"]};switch(b.V0.showCameraThumbnail=n.showCameraThumbnail,r.a.HideStatusBar=n.hideStatusbar,t.page){case"updateNotification":t.navCtrl.navigateForward(f.bu);break;case"main":case"changeRoom":case"systemInfo":break;case"addNewUser":if(null!=t.navParams.data.data){let o=r.a.DefaultController.ProcessAllRooms(t.navParams.data.data.rooms);t.list_of_rooms=null==o?r.a.DefaultController.rooms.slice():o;let a=t.list_to_tree(t.list_of_rooms);for(let p=0;p<a.length;p++)t.indentRoom(a[p],[],0);let l=[];for(let p=0;p<t.list_of_rooms.length;p++){let c=t.list_of_rooms[p],m=new E.t;m.object_name=c.translated_name,m.id=p,m.image_url=c.image_url,m.object_type=w.ko.Room,m.Permission=c.Permission,m.object_id=c.id,m.level=c.level,m.parent_id=c.parent_id,l.push(m)}t.list_of_rooms=l;let g=t.navParams.data.data.devices,x=!0;null==g&&(x=!1,null!=r.a.DefaultController.devices&&(g=r.a.DefaultController.devices.slice()),null!=r.a.DefaultController.scenes&&g.concat(r.a.DefaultController.scenes.slice()));let A=x?yield r.a.DefaultController.ProcessDevicesToList(g,o):g;x&&(A=A.concat(yield r.a.DefaultController.ProcessAllScenes(t.navParams.data.data.scenes,o)));let U=[];for(let p=0;p<A.length;p++){let c=A[p],m=new E.t;m.object_name=c.translated_name,m.object_type=c.is_device?w.ko.Device:w.ko.Scene,m.id=p,m.object_id=c.id,c.image_id&&(m.image_url=null!=c.image_id.main_url?c.image_id.main_url:c.image_url),c.room&&(m.group_by=c.room.translated_name),U.push(m)}if(t.list_of_devices_group_by_room=t.groupByArray(U,"group_by"),t.navParams.data.data.permissions&&t.navParams.data.data.permissions.length>0)for(let p=0;p<t.navParams.data.data.permissions.length;p++){let c=t.navParams.data.data.permissions[p],m=t.list_of_rooms.find(P=>P.object_id==c.ObjectId&&P.object_type==w.ko.Room);null!=m&&(m.Permission=c.Permission);for(let P=0;P<t.list_of_devices_group_by_room.length;P++){let L=t.list_of_devices_group_by_room[P];if(null!=L.values)for(let O=0;O<L.values.length;O++){let I=L.values[O];I.object_id==c.ObjectId&&I.object_type==c.ObjectType&&(I.Permission=c.Permission)}}}}break;case"editExistingUser":if(console.log(t.navParams.data),null!=t.navParams.data.data){t.edit_existing_user.id=t.navParams.data.data.Id,t.edit_existing_user.new_email=t.navParams.data.data.Email,t.edit_existing_user.new_phone=t.navParams.data.data.Phone,t.edit_existing_user.previous_email=t.navParams.data.data.Email,t.edit_existing_user.previous_phone=t.navParams.data.data.Phone,t.edit_existing_user.email_confirmed=t.navParams.data.data.EmailConfirmed,t.edit_existing_user.phone_confirmed=t.navParams.data.data.PhoneConfirmed,t.edit_existing_user.new_username=t.navParams.data.data.Username,t.edit_existing_user.new_display_name=t.navParams.data.data.DisplayName,t.edit_existing_user.admin_level=t.navParams.data.data.AdminLevel,t.edit_existing_user.admin_level_name=t.edit_existing_user.admin_level==u.Z.SuperUser?"super-user":t.edit_existing_user.admin_level==u.Z.SystemAdmin?"system-admin":t.edit_existing_user.admin_level==u.Z.TechnicalSupport?"technical-support":"user",t.edit_existing_user.permissions=t.navParams.data.data.permissions;let o=r.a.DefaultController.ProcessAllRooms(t.navParams.data.data.rooms);t.list_of_rooms=null==o?r.a.DefaultController.rooms.slice():o;let a=t.list_to_tree(t.list_of_rooms);for(let p=0;p<a.length;p++)t.indentRoom(a[p],[],0);let l=[];for(let p=0;p<t.list_of_rooms.length;p++){let c=t.list_of_rooms[p],m=new E.t;m.object_name=c.translated_name,m.id=p,m.image_url=c.image_url,m.object_type=w.ko.Room,m.object_id=c.id,m.level=c.level,m.parent_id=c.parent_id,l.push(m)}t.list_of_rooms=l;let g=t.navParams.data.data.devices,x=!0;null==g&&(x=!1,null!=r.a.DefaultController.devices&&(g=r.a.DefaultController.devices.slice()),null!=r.a.DefaultController.scenes&&g.concat(r.a.DefaultController.scenes.slice()));let A=x?yield r.a.DefaultController.ProcessDevicesToList(g,o):g;x&&(A=A.concat(yield r.a.DefaultController.ProcessAllScenes(t.navParams.data.data.scenes,o)));let U=[];for(let p=0;p<A.length;p++){let c=A[p],m=new E.t;m.object_name=c.translated_name,m.object_type=c.is_device?w.ko.Device:w.ko.Scene,m.id=p,m.object_id=c.id,c.image_id&&(m.image_url=null!=c.image_id.main_url?c.image_id.main_url:c.image_url),c.room&&(m.group_by=c.room.translated_name),U.push(m)}if(t.list_of_devices_group_by_room=t.groupByArray(U,"group_by"),t.navParams.data.data.permissions&&t.navParams.data.data.permissions.length>0)for(let p=0;p<t.navParams.data.data.permissions.length;p++){let c=t.navParams.data.data.permissions[p];if(c.ObjectType==w.ko.Room)for(let m=0;m<t.list_of_rooms.length;m++){let P=t.list_of_rooms[m];P.object_id==c.ObjectId&&P.object_type==w.ko.Room&&(P.Permission=c.Permission)}for(let m=0;m<t.list_of_devices_group_by_room.length;m++){let P=t.list_of_devices_group_by_room[m];if(null!=P.values)for(let L=0;L<P.values.length;L++){let O=P.values[L];O.object_id==c.ObjectId&&O.object_type==c.ObjectType&&(O.Permission=c.Permission)}}}}break;case"listUsers":t.getAllUsers(),t.navCtrl.navigateForward(f.W0);break;case"profile":n={current_password:"",new_password:"",retype_password:""};break;case"deviceSettings":t.settings.getValue("dashboard_mode_id").then(o=>{null!=o&&(t.dashboard_mode_id=o,console.log("dashboard id",o))}),r.a.DefaultController.GetDashboards().then(o=>{if(t.list_of_dashboards=[],o&&o.body)for(let a=0;a<o.body.result.length;a++){let l=o.body.result[a],g=new W.A;g.Id=l.Id,g.Name=l.Name,t.list_of_dashboards.push(g)}})}console.log("group",n),t.form=t.formBuilder.group(n),t.form.valueChanges.subscribe(o=>{t.settings.merge(t.form.value)})})()}toggleNotification(t){r.a.DefaultController.SetMobileDeviceNotification(this.notificationSettings.mobile_notification_id,t.value).then(n=>{})}updatePermissionA(t,n,o){o=Number.parseInt(o.toString());let a=this.add_new_user.permissions.find(l=>l.ObjectId==t&&l.ObjectType==n);if(null==a){console.log("adding new permission");let l=new w.$z(n,t,o);this.add_new_user.permissions.push(l)}else console.log("editing existing permission"),a.Read=o}updatePermissionE(t,n,o){o=Number.parseInt(o.toString());let a=this.edit_existing_user.permissions.find(l=>l.ObjectId==t&&l.ObjectType==n);if(null==a){console.log("adding new permission");let l=new w.$z(n,t,o);this.edit_existing_user.permissions.push(l)}else console.log("editing existing permission"),a.Permission=o;console.log(this.edit_existing_user.permissions)}groupByArray(t,n){return t.reduce((o,a)=>{let l=n instanceof Function?n(a):a[n],g=o.find(x=>x&&x.key===l);return g?g.values.push(a):o.push({key:l,values:[a]}),o},[])}groupBy(t,n){return t.reduce((o,a)=>((o[a[n]]=o[a[n]]||[]).push(a),o),{})}ionViewDidEnter(){this.form_edited=!1,super.ionViewDidEnter()}ionViewDidLeave(){super.ionViewDidLeave(),this.form_edited=!1}ionViewWillEnter(){super.ionViewWillEnter(),this.form=this.formBuilder.group({}),null!=this.navParams.data&&(this.page=this.navParams.data.page||this.page,this.pageTitleKey=this.navParams.data.pageTitleKey||this.pageTitleKey),this.pageTitle=this.translate.instant(this.pageTitleKey),this.settings.load().then(()=>{this.settingsReady=!0,this.options=this.settings.allSettings,this._buildForm()})}changeSpeechLanguage(t){let n=this.form.get("option_speech_lang").value;this.settings.setValue("speech_lang",n),b.V0.events.publish("lang:speech_changed",n),console.log("speech language has been changed to "+n),this.adjustWindowSize()}changeLanguage(t){let n=this.form.get("option_lang").value;this.settings.setValue("lang",n),null!=r.a.DefaultController&&null!=r.a.DefaultController.languages&&(b.V0.uiLanguage=r.a.DefaultController.languages.find(o=>o.symbol==n),null==b.V0.uiLanguage&&(b.V0.uiLanguage=r.a.DefaultController.languages[0]),this.appComponent.initTranslate(b.V0.uiLanguage.symbol.toLowerCase())),this.translate.use(n).subscribe(o=>{if(console.log("language changed to "+n),this.logoutLabel=this.translate.instant("logout"),this.cancelLabel=this.translate.instant("cancel"),this.logout_confirmation=this.translate.instant("logout-confirmation"),b.V0.events.publish(G.n.UI_LANGUAGE_CHANGED,n,o),r.a.DefaultController){if(r.a.DefaultController.rooms)for(let a=0;a<r.a.DefaultController.rooms.length;a++)r.a.DefaultController.rooms[a].updateTranslatedName();if(r.a.DefaultController.devices)for(let a=0;a<r.a.DefaultController.devices.length;a++)r.a.DefaultController.devices[a].updateTranslatedName();if(r.a.DefaultController.scenes)for(let a=0;a<r.a.DefaultController.scenes.length;a++)r.a.DefaultController.scenes[a].updateTranslatedName()}this.adjustWindowSize()})}get AppIcon(){return k.Y.getAppLogo}loadSettings(){this.settings.getValue("roomLevel").then(t=>{this._roomLevel=null!=t?t:1,r.a.roomLevel=this._roomLevel}),this.settings.getValue("appFlow").then(t=>{this._appFlow=null!=t&&null!=t?t:0}),this.settings.getValue("dashboard_mode").then(t=>{null!=t&&(this.dashboard_mode_enabled=t)}),this.settings.getValue("shake-enabled").then(t=>{null!=t&&(r.a.ShakeEnabled=t)}),this.settings.getValue("shake-frequency").then(t=>{null!=t&&(r.a.ShakeFrequency=t)}),this.settings.getValue("lang").then(t=>{this.translate.setDefaultLang("en"),this.current_lang=b.V0.uiLanguage.nativeName,this.translate.use(t),console.log(t),console.log("Current UI Language,",this.current_lang)}),console.log("Settings Loaded Successfully!")}SelectDashboardModId(){let t=this.form.get("dashboard_mode_id");if(t){let n=t.value;this.dashboard_mode_id=n,this.settings.setValue("dashboard_mode_id",n).then(o=>{console.log("dashboard mode selected: ",n)})}}saveSettings(){this.translate.setDefaultLang("en"),this.settings.getValue("lang").then(t=>{this.translate.use(t)}),console.log("Settings Saved Successfully!")}OpenLoginPage(){this.settings.setValue("ipaddress",null),this.saveSettings(),this.navCtrl.navigateRoot(f.g6,{state:{is_logout:!0},queryParams:{is_logout:!0}})}changePassword(){var t=this;let n=this.form.get("current_password").value,o=this.form.get("new_password").value,a=this.form.get("retype_password").value,l=o==a,g=o.length<=1,x=r.a.DefaultController.password==n;l||(this.errorLabel="New and Retype Password must be same"),g&&(this.errorLabel+=this.errorLabel.length>1?" | Password must be atleast one character long":"Password must be atleast one character long"),0==x&&(this.errorLabel.length>1?this.errorLabel+=" | Invalid current password":this.errorLabel="Invalid current password"),l&&0!=x&&1!=g?r.a.DefaultController.ChangePassword(n,o).then(function(){var A=(0,C.Z)(function*(U){if(U){r.a.DefaultController.password=o;let p=t.settings.allSettings.controllers;if(p){let c=p.findIndex(m=>m.mac_id==r.a.DefaultController.mac_id);c>-1&&(t.settings.allSettings.controllers[c].password=o)}yield t.saveSettings(),t.showToast("password changed successfully!"),t.page="main"}else t.showToast("unable to change password")});return function(U){return A.apply(this,arguments)}}()):this.showToast(this.errorLabel,5e3)}showToast(t,n=3e3,o="bottom"){var a=this;return(0,C.Z)(function*(){(yield a.toastCtrl.create({message:t,duration:n,position:o})).present()})()}ngOnChanges(){}closeApp(){var t=this;return(0,C.Z)(function*(){(yield t.actionSheetCtrl.create({header:t.translate.instant("do-you-want-to-close-app"),cssClass:"action-sheet-container",buttons:[{text:t.translate.instant("close"),icon:"log-out",role:"destructive",handler:()=>{console.log("App Closed"),r.a.EnableHistoryback&&history.go(-(window.history.length-1)),S.g.minimizeApp().then(o=>{console.log("App Minimized")}).catch(o=>{console.log("App Minimized Error",o)}),S.g.exitApp().then(o=>{console.log("App Exited")}).catch(o=>{console.log("App Exited Error",o)})}},{text:t.translate.instant("cancel"),icon:"close-circle",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}presentLogoutActionSheet(){var t=this;return(0,C.Z)(function*(){t.logoutLabel=t.translate.instant("logout"),t.cancelLabel=t.translate.instant("cancel"),t.logout_confirmation=t.translate.instant("logout-confirmation"),(yield t.actionSheetCtrl.create({header:t.logout_confirmation,cssClass:"action-sheet-container",buttons:[{text:t.logoutLabel,icon:"log-out",role:"destructive",handler:()=>{t.performLogout(),console.log("Logout clicked")}},{text:t.cancelLabel,icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}setDefaultRoom(t){r.a.DefaultController.default_room=this.default_room=t,this.goBack()}getAllUsers(){try{null!=r.a.DefaultController&&r.a.DefaultController.GetAllUsers().then(t=>{0!=t&&(this.list_of_users=t.sort((n,o)=>n.Id<o.Id))})}catch{}}editMyUser(){null!=r.a.DefaultController&&null!=r.a.DefaultController.user&&this.openEditUser(r.a.DefaultController.user.id,!0,!0)}dataChanged(){this.form_edited=!0,console.warn("Form has been edited,"+this.form_edited)}performLogout(){null!=r.a.DefaultController&&null!=r.a.DefaultController.lastRefreshCall&&(r.a.DefaultController.logout(),this.OpenLoginPage())}showResetPasswordDialog(t){var n=this;return(0,C.Z)(function*(){(yield n.alertCtrl.create({header:n.translate.instant("reset-password"),message:"",cssClass:"network-alert",inputs:[{name:"password",type:"password",placeholder:n.translate.instant("password")},{name:"retype_password",type:"password",placeholder:n.translate.instant("retype-password")}],buttons:[{text:n.translate.instant("cancel"),handler:a=>{console.log("Cancel clicked")}},{text:n.translate.instant("change"),handler:a=>{let l="",g=!1;if(a.password!=a.retype_password&&(g=!0,l=n.translate.instant("new-and-retype-password-must-be-same")),(a.password.length<4||a.retype_password<4)&&(g=!0,l+=" "+n.translate.instant("password-length-must-be-greater-than-equal-to-4")),g)return n.showToast(l,5e3),!1;r.a.DefaultController.ResetPassword(t,a.password).then(x=>{n.showToast(n.translate.instant(1==x?"password-has-been-changed":"unable-to-change-password"))}).catch(x=>{n.showToast(n.translate.instant("unable-to-change-password"))}),console.log("Password has been changed",a)}}]})).present()})()}resetPassword(){}openEditUser(t,n=!0,o=!1){let a=new u.n(t,"","","",u.Z.NormalUser,[]);n&&(a=this.list_of_users.find(l=>l.Id==t)),this.current_user=r.a.DefaultController.user,o&&null==a&&(a={Id:this.current_user.id,Username:this.current_user.username,DisplayName:this.current_user.displayName,Email:this.current_user.email,Phone:this.current_user.phone,EmailConfirmed:this.current_user.emailConfirmed,PhoneConfirmed:this.current_user.phoneConfirmed,AdminLevel:this.current_user.admin_level}),null!=a&&(a.AdminLevel!=u.Z.NormalUser?(a.permissions=[],r.a.DefaultController.GetUserPermissions(t).then(l=>{if(null!=l.Permissions&&l.Permissions.length){let g=l.Permissions;for(let x=0;x<g.length;x++){let A=new w.$z(g[x].ObjectType,g[x].ObjectId,g[x].Permission);A.Permission=g[x].Permission,a.permissions.push(A)}}null!=l.Devices&&l.Devices.length&&(a.devices=l.Devices),null!=l.Scenes&&l.Scenes.length&&(a.scenes=l.Scenes),null!=l.Rooms&&l.Rooms.length&&(a.rooms=l.Rooms),null!=l.Groups&&l.Groups.length&&(a.groups=l.Groups),this.editExistingUserSetting.data=a,this.page="editExistingUser",this.pageTitleKey="EDIT_USER_PAGE",this.navParams.data.data=a,this._buildForm()}).catch(l=>{console.log(l),this.showToast(this.translate.instant("error"),2e3)})):(this.editExistingUserSetting.data=a,this.page=this.editExistingUserSetting.page,this.pageTitleKey=this.editExistingUserSetting.pageTitleKey,this.navParams.data.data=a,this._buildForm()))}getAddUserPermissions(){let t=new u.n(-1,"","","",u.Z.NormalUser,[]);t.permissions=[],r.a.DefaultController.GetUserPermissions(null).then(n=>{if(console.log(n),null!=n.Permissions&&n.Permissions.length){let o=n.Permissions;for(let a=0;a<o.length;a++){let l=new w.$z(o[a].ObjectType,o[a].ObjectId,o[a].Permission);t.permissions.push(l)}}null!=n.Devices&&n.Devices.length&&(console.log("devices received"),t.devices=n.Devices),null!=n.Scenes&&n.Scenes.length&&(console.log("scenes received"),t.scenes=n.Scenes),null!=n.Rooms&&n.Rooms.length&&(console.log("rooms received"),t.rooms=n.Rooms),null!=n.Groups&&n.Groups.length&&(console.log("groups received"),t.groups=n.Groups),console.log(t),this.editExistingUserSetting.data=t,this.addUserSettings.data=t,this.page=this.addUserSettings.page,this.pageTitleKey=this.addUserSettings.pageTitleKey,this.navParams.data.data=t}).catch(n=>{console.log(n),this.showToast(this.translate.instant("error"),2e3)})}editExistingUser(){console.error("Saving Edited User"),console.log(this.edit_existing_user),null!=this.edit_existing_user.new_username&&""!=this.edit_existing_user.new_username&&null!=this.edit_existing_user.new_email&&null!=this.edit_existing_user.admin_level&&r.a.DefaultController.EditExistingUser({Id:this.edit_existing_user.id,Username:this.edit_existing_user.new_username,DisplayName:this.edit_existing_user.new_display_name,AdminLevel:this.edit_existing_user.admin_level,Email:this.edit_existing_user.new_email,Phone:this.edit_existing_user.new_phone},this.edit_existing_user.permissions).then(t=>{1==t.body.result&&(console.log(this.edit_existing_user.new_username+", User has been updated"),this.clearEditExistingUserForm(),r.a.DefaultController.GetCurrentUser(),this.navCtrl.pop())})}toggleStatusbar(){let t=this.form.get("hideStatusbar").value;this.settings.setValue("hideStatusbar",t).then(()=>{r.a.HideStatusBar=t,r.a.HideStatusBar?this.platform.is("mobile")&&(N.A_.hide(),this.content&&(document.documentElement.style.setProperty("--ion-safe-area-top","0px"),this.adjustWindowSize())):(N.A_.show(),this.platform.is("ios")&&(N.A_.setStyle({style:N.bg.Dark}),console.log("ios - black Translucent")),this.platform.is("android")&&(N.A_.setOverlaysWebView({overlay:!0}),console.log("Android Platform")),this.content&&(document.documentElement.style.setProperty("--ion-safe-area-top","20px"),this.adjustWindowSize()))})}exitApplication(){var t=this;return(0,C.Z)(function*(){(yield t.alertCtrl.create({header:t.translate.instant("close"),message:t.translate.instant("do-you-want-to-close-app"),cssClass:"network-alert",buttons:[{text:t.translate.instant("cancel"),handler:o=>(console.log("Cancel clicked"),!0)},{text:t.translate.instant("yes"),handler:o=>{S.g.minimizeApp(),S.g.exitApp()}}]})).present()})()}changeCameraThumbnail(t){let n=this.form.get("showCameraThumbnail").value;n=t.currentTarget.checked,this.settings.setValue("showCameraThumbnail",n).then(o=>{b.V0.showCameraThumbnail=n})}deleteUser(t){var n=this;return(0,C.Z)(function*(){(yield n.alertCtrl.create({header:n.translate.instant("delete"),message:n.translate.instant("are-you-sure-you-want-to-delete"),backdropDismiss:!0,cssClass:"network-alert",buttons:[{text:n.translate.instant("cancel"),handler:a=>{console.log("Cancel clicked")}},{text:n.translate.instant("delete"),handler:a=>{console.log("deleting user",t),r.a.DefaultController.DeleteUser(t).then(l=>{1==l.body.result&&(n.getAllUsers(),n.showToast(n.translate.instant("user-has-been-deleted"),4e3))})}}]})).present()})()}clearAddNewUserForm(){this.add_new_user.new_display_name="",this.add_new_user.admin_level=0,this.add_new_user.admin_level_name="user",this.add_new_user.new_username="",this.add_new_user.new_email="",this.add_new_user.new_password="",this.add_new_user.new_confirm_password="",this.add_new_user.permissions=[]}clearEditExistingUserForm(){this.edit_existing_user.id=-1,this.edit_existing_user.new_username="",this.edit_existing_user.new_display_name="",this.edit_existing_user.new_email="",this.edit_existing_user.new_phone="",this.edit_existing_user.previous_email="",this.edit_existing_user.previous_phone="",this.edit_existing_user.admin_level=0,this.edit_existing_user.admin_level_name="user",this.edit_existing_user.new_password="",this.edit_existing_user.new_confirm_password="",this.edit_existing_user.permissions=[]}ShowUILanguages(){var t=this;return(0,C.Z)(function*(){console.log("ShowUI");let n="en";yield t.settings.getValue("lang").then(a=>{n=a});const o=yield t.alertCtrl.create({cssClass:"network-alert",header:t.translate.instant("select-language"),message:t.translate.instant("select-language-for-ui"),inputs:[{name:"language",type:"radio",label:"English",value:"en",checked:"en"===n},{name:"language",type:"radio",label:"\u0639\u0631\u0628\u064a",value:"ar",checked:"ar"===n}],buttons:[{text:t.translate.instant("cancel"),role:"cancel",handler:()=>{console.log("Cancel clicked")}},{text:t.translate.instant("ok"),handler:a=>{if(console.log(a),void 0===a)return;let l=a;t.translate.use(l),t.settings.setValue("lang",l).then(g=>{}),null!=r.a.DefaultController&&null!=r.a.DefaultController.languages&&(b.V0.uiLanguage=r.a.DefaultController.languages.find(g=>g.symbol==l)),null==b.V0.uiLanguage&&(b.V0.uiLanguage=r.a.DefaultController.languages.find(g=>1==g.id)),t.appComponent.initTranslate(b.V0.uiLanguage.symbol.toLowerCase()),t.current_lang=b.V0.uiLanguage.nativeName,document.documentElement.dir=b.V0.uiLanguage.rightToLeft?"rtl":"ltr",b.V0.events.publish(G.n.UI_LANGUAGE_CHANGED,l),o.dismiss(),t.adjustWindowSize()}}]});yield o.present()})()}adjustWindowSize(){this.renderer.setStyle(this.content,"width","100vw"),this.renderer.setStyle(this.content,"height","100vh")}registerBackButtonOnSettings(){this.platform.backButton.subscribeWithPriority(101,()=>{this.performBackOperation()})}performBackOperation(){this.RouterOutlet.canGoBack()?"addNewUser"==this.page||"editExistingUser"==this.page||"profile"==this.page?this.form_edited?this.discardChangesPrompt?(this.discardChangesPrompt.then(t=>t.dismiss()),this.discardChangesPrompt=void 0):(this.discardChangesPrompt=this.alertCtrl.create({header:this.translate.instant("discard-changes"),message:"",cssClass:"network-alert",buttons:[{text:this.translate.instant("cancel"),handler:()=>(console.log("Cancel clicked"),!0)},{text:this.translate.instant("yes"),handler:()=>{this.page="main"}}]}),this.discardChangesPrompt.then(t=>t.present())):this.page="main":"systemInfo"==this.page||"deviceSettings"==this.page||"updateNotification"==this.page||"listUsers"==this.page||"profile"==this.page?this.page="main":this.closeAllOtherView():this.closeAllOtherView()}closeAllOtherView(){var t=this;return(0,C.Z)(function*(){let n=(yield t.loadingCtrl.getTop())||(yield t.modalCtrl.getTop())||(yield t.toastCtrl.getTop())||(yield t.overlayCtrl.getTop());n?n.dismiss():t.RouterOutlet.canGoBack()?t.navCtrl.pop():S.g.minimizeApp()})()}goBack(){this.performBackOperation()}getPermissionString(t){return 0==t?"hidden":1==t?"read-only":2==t?"full-control":"default"}switchPermissionA(t){this.dataChanged();let n=t.Permission,o=t.object_id,a=t.object_type;n=128==n?0:0==n?1:1==n?2:128,n=Number.parseInt(n.toString()),t.Permission=n;let l=this.add_new_user.permissions.find(g=>g.ObjectId==o&&g.ObjectType==a);if(null==l){console.log("adding new permission");let g=new w.$z(a,o,n);this.add_new_user.permissions.push(g)}else console.log("editing existing permission"),l.Permission=n}switchPermissionE(t){this.dataChanged();let n=t.Permission,o=t.object_id,a=t.object_type;n=128==n?0:0==n?1:1==n?2:128,n=Number.parseInt(n.toString()),t.Permission=n;let l=this.edit_existing_user.permissions.find(g=>g.ObjectId==o&&g.ObjectType==a);if(null==l){console.log("adding new permission");let g=new w.$z(a,o,n);this.edit_existing_user.permissions.push(g)}else console.log("editing existing permission"),l.Permission=n}changeNewAdminLevel(){if(console.log(this.add_new_user.admin_level),this.current_user.admin_level==u.Z.TechnicalSupport)switch(this.add_new_user.admin_level){case u.Z.NormalUser:this.add_new_user.admin_level=u.Z.SuperUser;break;case u.Z.SystemAdmin:this.add_new_user.admin_level=u.Z.NormalUser}else if(this.current_user.admin_level==u.Z.SystemAdmin)switch(this.add_new_user.admin_level){case u.Z.NormalUser:this.add_new_user.admin_level=u.Z.SuperUser;break;case u.Z.SuperUser:this.add_new_user.admin_level=u.Z.SystemAdmin;break;case u.Z.SystemAdmin:this.add_new_user.admin_level=u.Z.TechnicalSupport;break;case u.Z.TechnicalSupport:this.add_new_user.admin_level=u.Z.NormalUser}else if(this.current_user.admin_level==u.Z.SuperUser)switch(this.add_new_user.admin_level){case u.Z.NormalUser:this.add_new_user.admin_level=u.Z.SuperUser;break;case u.Z.SuperUser:this.add_new_user.admin_level=u.Z.NormalUser}this.add_new_user.admin_level_name=this.add_new_user.admin_level==u.Z.SuperUser?"super-user":this.add_new_user.admin_level==u.Z.SystemAdmin?"system-admin":this.add_new_user.admin_level==u.Z.TechnicalSupport?"technical-support":"user",console.log(this.add_new_user.admin_level)}changeExistingAdminLevel(){console.log(this.edit_existing_user.admin_level),this.edit_existing_user.admin_level=this.edit_existing_user.admin_level==u.Z.SystemAdmin?u.Z.NormalUser:this.edit_existing_user.admin_level==u.Z.SuperUser&&this.current_user.admin_level==u.Z.SystemAdmin?u.Z.SystemAdmin:this.edit_existing_user.admin_level!=u.Z.NormalUser||this.current_user.admin_level!=u.Z.SystemAdmin&&this.current_user.admin_level!=u.Z.SuperUser?u.Z.NormalUser:u.Z.SuperUser,this.edit_existing_user.admin_level_name=this.edit_existing_user.admin_level==u.Z.SuperUser?"super-user":this.edit_existing_user.admin_level==u.Z.SystemAdmin?"system-admin":this.edit_existing_user.admin_level==u.Z.NormalUser?"user":this.edit_existing_user.admin_level==u.Z.TechnicalSupport?"technical-support":"user",console.log(this.edit_existing_user.admin_level)}presentLoading(){var t=this;return(0,C.Z)(function*(){let n=t.loadingCtrl.create({duration:4e3,backdropDismiss:!1});return(yield n).present(),n})()}refresh(){var t=this;return(0,C.Z)(function*(){var n;(yield t.alertCtrl.create({header:t.translate.instant("refresh"),cssClass:"network-alert",message:t.translate.instant("refresh-message-confirmation"),buttons:[{text:t.translate.instant("yes"),role:"refresh",handler:(n=(0,C.Z)(function*(){let o=yield t.presentLoading();r.a.DefaultController.Reinitialized(),b.V0.events.subscribe(X.B.AllReady,a=>{o.dismiss()})}),function(){return n.apply(this,arguments)})},{text:t.translate.instant("cancel"),role:"cancel"}]})).present()})()}ShowFileManager(){this.navCtrl.navigateForward(f.Fw)}get isExperimentalEnabled(){return r.a.Experimental}enableExperimental(){this.isExperimentalEnabled||(clearTimeout(this.experimentTimeout),this.lastExperimentCount+=1,this.lastExperimentCount>=5&&(this.lastExperimentCount=0,this.showExperimentOption=!0),this.experimentTimeout=window.setTimeout(()=>{this.lastExperimentCount=0},3e3))}updateSliderClickPermission(){let t=this.form.get("enable_slider_touch").value;this.settings.setValue("SliderClickAllowed",t).then(n=>{r.a.SliderClickAllowed=t}),console.log(t)}updateShowUIFocusHighlight(){let t=this.form.get("showUIFocusHighlight").value;this.settings.setValue("show_ui_focus_highlight",t).then(n=>{r.a.ShowUIFocusHighlight=t,j.y.focusGroup=r.a.ShowUIFocusHighlight?" enable-focus-group ":""}),console.log(t)}updateExperiment(){let t=this.form.get("showExperiment").value;this.settings.setValue("experimental",t).then(n=>{r.a.refreshHomePage=!0,r.a.Experimental=t}),console.log(t),t?this.enableExperiment():this.disableExperiment()}enableExperiment(){r.a.Experimental=!0,this.showToast(this.translate.instant("experiment")+" "+this.translate.instant("enabled"),3e3)}disableExperiment(){this.showExperimentOption=!1,this.lastExperimentCount=0,r.a.Experimental=!1,this.showToast(this.translate.instant("experiment")+" "+this.translate.instant("disable"),3e3)}get current_theme(){return r.a.ThemeName}getThemeItem(t,n){let o=this.translate.instant(n);return"default"==n&&(o="("+o+")"),{type:"radio",label:o,value:t.toString(),checked:this.current_theme==n,id:t.toString(),name:o}}ShowThemeSelector(){var t=this;return(0,C.Z)(function*(){(yield t.alertController.create({message:t.translate.instant("please-select-theme"),inputs:[t.getThemeItem(Z.f.AUTO,"Automatic (Dark/Light)"),t.getThemeItem(Z.f.DEFAULT,"Eureka"),t.getThemeItem(Z.f.BLACK,"Black"),t.getThemeItem(Z.f.BLACK1,"Black Texture"),t.getThemeItem(Z.f.LIGHT,"Light")],cssClass:"network-alert long-list-buttons big-buttons",backdropDismiss:!0,header:t.translate.instant("theme"),buttons:[{text:t.translate.instant("cancel"),handler:o=>{console.log("Cancel clicked")}},{text:t.translate.instant("ok"),handler:o=>{t.ChangeTheme(o)}}]})).present()})()}ChangeTheme2(t){this.settings.merge({theme:t}).then(n=>{})}ChangeTheme(t){if("backdrop"==t)return;let o;switch(console.log(t),Number.parseInt(t)){case Z.f.BLACK:o=new F.C;break;case Z.f.VIOLET:o=new ae.n;break;case Z.f.CYAN:o=new se.b;break;case Z.f.GOLDEN:o=new oe.$;break;case Z.f.GREEN:o=new ie.L;break;case Z.f.LIGHT:o=new ne.i;break;case Z.f.RED:o=new te.C;break;case Z.f.AURORA:o=new re.B;break;case Z.f.BLACK1:o=new le.m;break;case Z.f.BLACK2:o=new _e.M;break;case Z.f.DARKBLUE:o=new de.K;break;case Z.f.GREEN_TEXTURE:o=new ce._;break;case Z.f.METAL:o=new ge.A;break;case Z.f.PEACH:o=new ue.u;break;case Z.f.SMOKE:o=new me.S;break;case Z.f.AUTO:o=new fe.o;break;default:o=new ee.X}this.themeCtrl.setActiveTheme(o),this.ReloadForcefully()}ReloadForcefully(){console.log(pe.s.Images.ui_language)}reloadPage(){this.settings.load().then(()=>{this.settingsReady=!0,this.options=this.settings.allSettings,this._buildForm()})}openPage(t){switch(t){case"notification":this.navCtrl.navigateForward(f.bu);break;case"users":this.navCtrl.navigateForward(f.W0);break;case"systemInfo":this.settingsReady=!0,this.page=this.deviceInfo.page,this.pageTitleKey=this.deviceInfo.pageTitleKey;break;case"profile":this.page=this.profileSettings.page,this.pageTitleKey=this.profileSettings.pageTitleKey,this._buildForm();break;case"deviceSettings":this.page=this.deviceSettings.page,this.pageTitleKey=this.deviceSettings.pageTitleKey;break;case"listUsers":this.page=this.listUserSettings.page,this.pageTitleKey=this.listUserSettings.pageTitleKey;break;case"updateNotification":this.page=this.notificationSettings.page,this.pageTitleKey=this.notificationSettings.pageTitleKey}this.reloadPage()}togglePinkyTheme(){let t=new F.C;this.themeCtrl.setActiveTheme(t)}enablePinkyTheme(){let t=new F.C;this.themeCtrl.setActiveTheme(t)}confirmOtp(t,n,o){var a=this;return(0,C.Z)(function*(){if(console.log(o),"phone"==t||"email"==t){let l=yield a.popoverCtrl.create({component:f.C8,componentProps:{type:t,addr:n,user:o},cssClass:"verifiy-popover"});l.present().then(()=>{document.querySelector("div.popover-content").className+=" verifiy-popover"}),l.onDidDismiss().then(g=>{g&&g.data.success&&(a.showToast("Verified Successfully!"),r.a.DefaultController.GetCurrentUser())})}})()}ngOnInit(){var t=this;return(0,C.Z)(function*(){const n=yield H.A.getInfo();t.device=n,t.device_manufacturer=t.device.manufacturer,t.device_model=t.device.model,t.device_platform=t.device.platform;const o=yield H.A.getId();t.unique_device_id=o.identifier,t.deviceId=t.unique_device_id;try{S.g.getInfo().then(a=>{console.log(a);let l=a.version;(null==l||null==l||""==l)&&(l=R.N.app_version),t.appVersion=l,t.app_version=l,console.log(a.version)})}catch(a){console.error(a);let l=R.N.app_version;t.appVersion=l,t.app_version=l}})()}TestM(){var t=this;return(0,C.Z)(function*(){const n=yield t.modalCtrl.create({component:he.Q,componentProps:{model_title:"Nomadic model's reveberation"}});return n.onDidDismiss().then(o=>{null!==o&&(t.modelData=o.data,console.log("Modal Data : "+o.data))}),yield n.present()})()}}return(s=_).\u0275fac=function(t){return new(t||s)(e.Y36(y.SH),e.Y36(xe.Z),e.Y36(b.V0),e.Y36(y.yF),e.Y36(y.HT),e.Y36(ve.u),e.Y36(y.BX),e.Y36(be.z),e.Y36(Ze.t),e.Y36(V.i),e.Y36(y.SH),e.Y36(h.dr),e.Y36(v.qu),e.Y36(y.X1),e.Y36(y.Dh),e.Y36(y.t4),e.Y36(y.Br),e.Y36(K.sK),e.Y36(e.R0b),e.Y36(D.F0),e.Y36(j.y),e.Y36(h.jP),e.Y36(y.IN),e.Y36(y.Dh),e.Y36(e.Qsj))},s.\u0275cmp=e.Xpm({type:s,selectors:[["settings"]],viewQuery:function(t,n){if(1&t&&e.Gf(Te,5),2&t){let o;e.iGM(o=e.CRH())&&(n.content=o.first)}},features:[e.qOj,e.TTD],decls:23,vars:10,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"padding","5px"],[2,"text-align","end","float","right","min-width","10px"],["showWhen","android,ios",1,"top-mic-button",2,"vertical-align","bottom",3,"touchstart","touchend"],["name","mic",1,"voice-mic-button"],[1,"top-badge"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],["class","button-container sticky-top",4,"ngIf"],["class","button-container",4,"ngIf"],[3,"formGroup"],[1,"button-container"],["position","stacked"],["tappable","","icon-start","",1,"full-primary-button","full-expand",3,"click"],["slot","start","name","color-palette"],["icon-start","",1,"full-primary-button","full-expand",3,"click"],["slot","start","name","notifications"],[1,"full-primary-button","full-expand",3,"click"],["slot","start","name","phone-portrait"],["item-end","","icon-start","",1,"danger-button","full-expand",3,"click"],["name","refresh"],["slot","start","name","document"],["slot","start","name","settings"],["slot","start","name","person"],["slot","start","name","key"],["icon-start","",1,"danger-button","full-expand",3,"click"],["slot","start","name","exit"],["slot","start","name","close-circle"],["slot","start","name","chatbox-ellipses"],["slot","start","name","people"],["color","primary","position","stacked"],["required","","formControlName","current_password","type","password","maxlength","100","pattern",".{4,}",3,"ionChange"],["required","","formControlName","new_password","type","password","maxlength","100","pattern",".{4,}"],["required","","formControlName","retype_password","type","password","maxlength","100","pattern",".{4,}"],["ion-button","","type","submit","maxlength","100",1,"full-primary-button","half-width-button",3,"click"],["ion-button","",1,"clear-button","half-width-button",3,"click"],["size","10"],["color","primary","position","stacked",2,"white-space","inherit"],[2,"text-align","end"],["formControlName","showCameraThumbnail","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["formControlName","hideStatusbar","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["formControlName","enable_slider_touch","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["formControlName","showUIFocusHighlight","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["formControlName","dashboard_mode","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["size","5"],["formControlName","dashboard_mode_id",1,"dark-control","network-alert",3,"cancelText","okText","value","disabled","ionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value","ionChange"],["formControlName","shake_enabled","color","secondary",1,"setting-checkbox",2,"margin","0",3,"ionChange"],["formControlName","shakeFrequency",1,"dark-control",2,"text-align","center","max-width","300px",3,"value","cancelText","okText","ionChange"],[1,"all-info"],["tappable","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["tappable","",3,"click"],[3,"click"],["tappable","","formControlName","showExperiment",1,"setting-checkbox",3,"ionChange"],["ion-item","",1,"full-primary-button",2,"width","99%",3,"click"],["class","users-subprofile",4,"ngFor","ngForOf"],[1,"users-subprofile"],["name","star",3,"color",4,"ngIf"],[2,"min-height","25px"],[2,"text-align","end","font-size","xx-large"],["class","break-line-grad",4,"ngIf"],["side","end"],["ion-button","","color","primary",1,"full-primary-button",3,"click"],["name","ion-edit"],["ion-button","","color","danger","class","danger-button",3,"click",4,"ngIf"],["name","star"],[1,"break-line-grad"],["ion-button","","color","danger",1,"danger-button",3,"click"],["name","ion-backspace"],[1,"button-container","sticky-top"],[3,"ngModel","ngModelChange"],["value","info"],["value","rooms",4,"ngIf"],["value","devices",4,"ngIf"],["value","rooms"],["value","devices"],["required","","maxlength","100","name","EditDisplayName",3,"ngModel","ngModelChange","ionChange"],["EditDisplayName","ngModel"],["required","","maxlength","100","name","EditUserName",3,"ngModel","ngModelChange","ionChange"],["EditUserName","ngModel"],["maxlength","100","pattern","[a-zA-Z0-9._]+[@]+[a-zA-Z0-9]+[.]+[a-zA-Z]{2,6}","name","EditEmail",3,"ngModel","ngModelChange","ionChange"],["EditEmail","ngModel"],["item-right","",4,"ngIf"],["maxlength","100","name","EditPhone",3,"ngModel","ngModelChange","ionChange"],["EditPhone","ngModel"],["color","primary","position","stacked",2,"line-height","2.5"],[1,"dark-control",3,"disabled","cancelText","okText","ngModel","ngModelChange"],["selected","true",3,"value"],[1,"full-primary-button","half-width-button",3,"disabled","click"],["item-right",""],["ion-button","","style","margin:0; padding:0","clear","",3,"click",4,"ngIf"],["style","color:lime","name","checkmark",4,"ngIf"],["ion-button","","clear","",2,"margin","0","padding","0",3,"click"],["name","warning",2,"color","orange"],["name","checkmark",2,"color","lime"],["style","font-size:small; display:block;",4,"ngIf"],[2,"font-size","small","display","block"],[2,"list-style","none","padding","0px"],[4,"ngFor","ngForOf"],[2,"width","32px",3,"src"],[2,"display","inline","vertical-align","top"],["size","4",2,"text-align","end","white-space","nowrap"],["tappable","","ion-button","",3,"click"],["style","width:32px;",3,"src",4,"ngIf"],[2,"display","inline","vertical-align","top","padding-right","0px"],[3,"name"],["size","10",2,"padding-top","18px"],["size","2"],[2,"direction","rtl","background","none","box-shadow","none"],["color","secondary",1,"setting-checkbox",2,"margin","0",3,"ngModel","ngModelChange","ionChange"],["class","button-container",4,"ngFor","ngForOf"],["class","event-item","ion-item","","style","padding-left:0px;",4,"ngFor","ngForOf"],["ion-item","",1,"event-item",2,"padding-left","0px"],["dir","ltr",4,"ngIf"],["dir","ltr"],["size","4"],["style","width:60px; filter:grayscale(1)",3,"src",4,"ngIf"],["style","width:60px; filter:unset",3,"src",4,"ngIf"],["size","6",2,"text-align","start","white-space","normal"],["size","2",2,"text-align","end"],[2,"direction","rtl","background","none"],["color","calm",1,"setting-checkbox",2,"margin","0",3,"disabled","ngModel","ngModelChange","ionChange"],[2,"width","60px","filter","grayscale(1)",3,"src"],[2,"width","60px","filter","unset",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div")(3,"div",1)(4,"div",2),e._UZ(5,"connection-warning"),e.TgZ(6,"a",3),e.NdJ("touchstart",function(a){return n.longPressStart(a)})("touchend",function(){return n.PressEnd()}),e._UZ(7,"ion-icon",4),e.TgZ(8,"ion-badge",5),e._uU(9),e.qZA()()(),e.TgZ(10,"div",6)(11,"a",7),e.NdJ("click",function(){return n.goBack()}),e._UZ(12,"ion-icon",8),e.qZA()(),e.TgZ(13,"div")(14,"ion-title"),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()(),e.TgZ(17,"ion-content"),e.YNc(18,Fe,5,5,"form",9),e.YNc(19,Re,10,7,"ion-list",10),e.YNc(20,ze,7,6,"div",11),e.YNc(21,vt,4,3,"div",12),e.YNc(22,Pt,16,9,"div",10),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",n.theAppState.iontoolbarStyle),e.xp6(8),e.Oqu(n.speech_language_symbol),e.xp6(6),e.Oqu(e.lcZ(16,8,n.pageTitleKey)),e.xp6(3),e.Q6J("ngIf",n.settingsReady),e.xp6(1),e.Q6J("ngIf","listUsers"==n.page),e.xp6(1),e.Q6J("ngIf","editExistingUser"==n.page),e.xp6(1),e.Q6J("ngIf","editExistingUser"==n.page),e.xp6(1),e.Q6J("ngIf","updateNotification"==n.page))},dependencies:[M.sg,M.O5,M.PC,v._Y,v.JJ,v.JL,v.Q7,v.nD,v.c5,v.On,h.yp,h.YG,h.nz,h.wI,h.W2,h.jY,h.Gu,h.gu,h.pK,h.Ie,h.IK,h.td,h.Q$,h.q_,h.Nd,h.cJ,h.GO,h.t9,h.n0,h.wd,h.sr,h.w,h.QI,h.j9,v.sg,v.u,Ce.T,we.t,K.X$],styles:['.select-md[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{margin:0 10px}ion-select[_ngcontent-%COMP%]{margin:0 10px;text-align:center!important;max-width:300px!important}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:whitesmoke;padding:4px;color:#000;border-radius:3px;min-height:30px;border:1px inset gray}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:whitesmoke;padding:4px;color:#000;border-radius:3px;min-height:30px;border:1px inset gray}.highlight[_ngcontent-%COMP%]{margin:2px;background-color:#009aff94!important}.select-icon[_ngcontent-%COMP%]{display:none}.danger[_ngcontent-%COMP%]{background-color:#dc143c}ion-card[_ngcontent-%COMP%]{padding:4px}.all-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:small}.all-info[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%]{margin:5px 8px 5px 0}ion-label[_ngcontent-%COMP%]{margin:4px;color:#fff;transform:translateY(0) scale(1)!important;font-size:1.4rem!important}.users-subprofile[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]{color:#fff;white-space:nowrap;text-transform:capitalize}.users-subprofile[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:#0003;margin:2px!important;border-radius:5px;box-shadow:0 0 4px #000}.users-subprofile[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sliding-list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:none;font-size:small;border:none}ion-segment-button[_ngcontent-%COMP%]{flex:1;height:4.2rem;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:#0000001a;font-size:1.2rem;font-weight:500;line-height:4rem;text-transform:uppercase;color:#fff;background-color:transparent;opacity:.7;transition:.1s all linear;padding:0 6px}ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.6rem;line-height:4rem}.segment-button-checked[_ngcontent-%COMP%]{border-color:#aaa;opacity:1;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:#f5f5f5}.segment-button-disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none}ion-segment-button[_ngcontent-%COMP%]{--color: gray;--color-checked: white;--background:linear-gradient(to bottom, rgba(53,90,117,1) 0%,rgba(8,54,86,1) 100%);--background-focused-opacity: 1;--borderborder-bottom-width: 2px;--border-top-style: solid}.button-container[_ngcontent-%COMP%]   .sticky-top[_ngcontent-%COMP%], .sticky-top[_ngcontent-%COMP%]{position:sticky;width:100%;overflow-y:auto;clear:both;background:rgba(0,0,0,.3);top:1px;z-index:1;margin:0}.select-button-perm[_ngcontent-%COMP%]{max-width:100%;line-height:2;padding:5px;font-size:small}.danger[_ngcontent-%COMP%]{background:rgb(169,3,41);background:linear-gradient(to bottom,rgb(169,3,41) 0%,rgb(143,2,34) 44%,rgb(109,0,25) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a90329",endColorstr="#6d0019",GradientType=0)}.readonly[_ngcontent-%COMP%]{background:rgb(3,105,169);background:linear-gradient(to bottom,rgb(3,105,169) 0%,rgb(2,90,144) 44%,rgb(0,68,110) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#0369a9",endColorstr="#00446e",GradientType=0)}.fullcontrol[_ngcontent-%COMP%]{background:rgb(75,169,3);background:linear-gradient(to bottom,rgb(75,169,3) 0%,rgb(64,144,2) 44%,rgb(48,110,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4ba903",endColorstr="#306e00",GradientType=0)}.default[_ngcontent-%COMP%]{background:rgb(138,138,138);background:linear-gradient(to bottom,rgb(138,138,138) 0%,rgb(129,129,129) 44%,rgb(117,117,117) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#8a8a8a",endColorstr="#757575",GradientType=0)}.full-primary-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;font-size:medium}.verifiy-popover[_ngcontent-%COMP%]{position:sticky!important;margin-left:10%!important}[_nghost-%COMP%]{--background: var(--ion-background);--ion-overlay-background-color: var(--ion-background)}.action-sheet-button[_ngcontent-%COMP%], .action-sheet-title[_ngcontent-%COMP%]{color:#fff}.action-sheet-container[_ngcontent-%COMP%]   .action-sheet-title[_ngcontent-%COMP%]{color:#fff;font-size:1.6rem}span.action-sheet-button-inner[_ngcontent-%COMP%]{font-size:1.6rem}']}),_})()}];let yt=(()=>{var s;class _{}return(s=_).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[D.Bz.forChild(St),D.Bz]}),_})();var kt=d(23934);let Ut=(()=>{var s;class _{}return(s=_).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[V.i],imports:[M.ez,v.u5,h.Pc,yt,K.aw.forChild(),v.UX,kt.o]}),_})()},59764:(Q,q,d)=>{d.d(q,{T:()=>C});var M=d(15861),v=d(65879),h=d(56223),D=d(28662);let C=(()=>{var r;class N{mouseDownEventHandler(f){f.stopImmediatePropagation(),f.preventDefault()}keyEventHandler(f){var T=this;return(0,M.Z)(function*(){if(f.stopImmediatePropagation(),f.preventDefault(),"Enter"==f.key||" "==f.key){var S;let k=null===(S=document.activeElement)||void 0===S?void 0:S.className.toLowerCase();if(k&&(k.indexOf("range-knob-handle")>-1||k.indexOf("range-md")>-1)&&k.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let u=document.activeElement.getAttribute("aria-valuenow");if(u){let E=Number.parseFloat(u);if(E||0===E)return console.log("range-knob-handle value change to "+E),void T.model.update.emit(E)}}let J=T.el.nativeElement.nodeName.toLowerCase();const w=yield D.A.getInfo();["button","ion-checkbox","a"].indexOf(J)>-1?"android"!==w.operatingSystem.toLowerCase()&&T.el.nativeElement.click():"!android"!==w.operatingSystem.toLowerCase()&&T.clickOnElement(T.el)}})()}clickOnElement(f){if(document.createEvent){let T=document.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.nativeElement.dispatchEvent(T)}}mouseDownOnElement(f){let T=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});f.nativeElement.dispatchEvent(T)}constructor(f,T,S){this.el=f,this.renderer=T,this.model=S,this.eventEmitter=new v.vpe}ngOnInit(){}}return(r=N).\u0275fac=function(f){return new(f||r)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(h.On))},r.\u0275dir=v.lG2({type:r,selectors:[["","component-click",""]],hostBindings:function(f,T){1&f&&v.NdJ("mousedown",function(k){return T.mouseDownEventHandler(k)})("keypress",function(k){return T.keyEventHandler(k)})},outputs:{eventEmitter:"eventEmitter"},features:[v._Bn([h.On])]}),N})()}}]);