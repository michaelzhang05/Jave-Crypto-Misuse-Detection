"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4948],{87055:(E,w,l)=>{l.d(w,{g:()=>s});const s=(0,l(92726).fo)("App",{web:()=>l.e(2912).then(l.bind(l,62912)).then(f=>new f.AppWeb)})},84948:(E,w,l)=>{l.r(w),l.d(w,{HomePageModule:()=>de});var p=l(96814),s=l(73582),f=l(56223),x=l(70160),g=l(15861),C=l(46729),c=l(51141),T=l(90274),Y=l(37092),H=l(56544),o=l(8873),b=l(15231),m=l(19462),D=l(29484),I=l(43826),S=l(20553),M=l(87055),L=l(79616),e=l(65879),A=l(34414),Z=l(63999),N=l(88446),U=l(9482),B=l(26227),J=l(77935),G=l(24553);function V(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.showBreaches())}),e._UZ(1,"img",2),e.qZA()}if(2&i){const n=e.oxw();e.Q6J("ngClass",n.armedStatus===n.ArmedStatus.BREACHED?"breached":"unbreached"),e.xp6(1),e.Q6J("src",n.armedStatus===n.ArmedStatus.BREACHED?n.IMAGES.armed_breached:n.IMAGES.armed,e.LSH)}}let Q=(()=>{var i;class d{get armedStatus(){return o.a.ArmedStatus}get breachedIds(){return o.a.getBreachDeviceIds}constructor(t){this.navCtrl=t,this.ArmedStatus=G.j,this.IMAGES=m.s.Images}showBreaches(){this.navCtrl.navigateForward(c._S,{state:{deviceIds:this.breachedIds}})}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(A.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["breach-alert"]],decls:1,vars:1,consts:[[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[3,"src"]],template:function(t,a){1&t&&e.YNc(0,V,2,2,"div",0),2&t&&e.Q6J("ngIf",a.armedStatus!==a.ArmedStatus.UNARMED)},dependencies:[p.mk,p.O5],styles:["text-center[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;min-width:0;min-height:0;max-width:100%;max-height:100%}div[_ngcontent-%COMP%]{display:inline;line-height:1.5;pointer-events:all;cursor:pointer}@keyframes _ngcontent-%COMP%_fade{0%,to{opacity:1}50%{opacity:.4}}.unbreached[_ngcontent-%COMP%]{display:inline-block;margin-top:5px}.breached[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade 1s linear infinite;margin-top:5px;display:inline-block}"]}),d})();function X(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"a",1),e.NdJ("mouseover",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.openToast())})("mouseout",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.closeToast())}),e._UZ(1,"ion-icon",2),e.qZA()}}let z=(()=>{var i;class d{set message(t){this._message=t}get message(){return this._message}get IsRefreshConnected(){return!!o.a.DefaultController&&o.a.IsRefreshConnected}constructor(t,a){this.changeDetectorRef=t,this.toastController=a,this._message="",console.log("Hello ConnectionWarningIconComponent Component"),this.message="network-error"}openToast(){var t=this;return(0,g.Z)(function*(){t.toast=yield t.toastController.create({message:t.message,position:"top",cssClass:"custom-toast"}),yield t.toast.present()})()}closeToast(){var t=this;return(0,g.Z)(function*(){yield t.toast.dismiss()})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(A.yF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["connection-warning"]],inputs:{message:"message"},decls:1,vars:1,consts:[["class","top-mic-button","mobileEvent","press","desktopEvent","hover","positionH","left","arrow","",3,"mouseover","mouseout",4,"ngIf"],["mobileEvent","press","desktopEvent","hover","positionH","left","arrow","",1,"top-mic-button",3,"mouseover","mouseout"],["name","warning",2,"color","gold"]],template:function(t,a){1&t&&e.YNc(0,X,2,0,"a",0),2&t&&e.Q6J("ngIf",!a.IsRefreshConnected)},dependencies:[p.O5,s.gu],styles:["ion-popover[_ngcontent-%COMP%]{--background: rgba(88, 88, 88, .877) !important;--backdrop-opacity: .6;--box-shadow: 0 5px 10px 0 rgba(0, 0, 0, .6);--color: white;--width: 150px}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: rgba(88, 88, 88, .877) !important}"]}),d})();function R(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"a",12),e.NdJ("touchstart",function(a){e.CHM(n);const r=e.oxw();return e.KtG(r.longPressStart(a))})("touchend",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.PressEnd())}),e._UZ(1,"ion-icon",13),e.TgZ(2,"ion-badge",14),e._uU(3),e.qZA()()}if(2&i){const n=e.oxw();e.xp6(3),e.Oqu(n.speech_language_symbol)}}function W(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.ShowUILanguages())}),e._UZ(1,"img",16),e.qZA()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("src",n.IMAGES.ui_language,e.LSH)}}function $(i,d){if(1&i&&e._UZ(0,"breach-alert",17),2&i){const n=e.oxw();e.Q6J("id",n.getThingBreachIds)}}function K(i,d){if(1&i&&(e.TgZ(0,"ion-badge",27),e._uU(1),e.qZA()),2&i){const n=e.oxw(2).$implicit;e.Q6J("color",n.notificationClass),e.xp6(1),e.Oqu(n.notifications)}}function j(i,d){if(1&i&&e._UZ(0,"ion-icon",28),2&i){const n=e.oxw(2).$implicit;e.Q6J("name",null==n?null:n.fav)}}function q(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"ion-card",23),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openPage(a))}),e._UZ(1,"img",24),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,K,2,2,"ion-badge",25),e.YNc(6,j,1,1,"ion-icon",26),e.qZA()}if(2&i){const n=e.oxw().$implicit;e.Udp("opacity",n.isEnabled?1:.3),e.xp6(1),e.Q6J("src",null==n?null:n.img,e.LSH),e.xp6(1),e.Tol(n.textClass?n.textClass:""),e.xp6(1),e.Oqu(e.lcZ(4,8,n.name)),e.xp6(2),e.Q6J("ngIf",(null==n?null:n.notifications)&&"0"!=(null==n?null:n.notifications)),e.xp6(1),e.Q6J("ngIf",null==n?null:n.fav)}}function ee(i,d){1&i&&e._UZ(0,"br")}function te(i,d){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,q,7,10,"ion-card",21),e.YNc(2,ee,1,0,"ng-template",22),e.qZA()),2&i){const n=d.$implicit,t=d.index;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",t+1==0)}}function ne(i,d){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,te,3,2,"ng-template",19),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.listOfIcons)}}function ie(i,d){if(1&i&&(e.TgZ(0,"ion-badge",27),e._uU(1),e.qZA()),2&i){const n=e.oxw(2).$implicit;e.Q6J("color",n.notificationClass),e.xp6(1),e.Oqu(n.notifications)}}function ae(i,d){if(1&i&&e._UZ(0,"ion-icon",37),2&i){const n=e.oxw(2).$implicit;e.Q6J("name",null==n?null:n.fav)}}function oe(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"ion-card",35),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.openPage(a))}),e._UZ(1,"img",24),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,ie,2,2,"ion-badge",25),e.YNc(6,ae,1,1,"ion-icon",36),e.qZA()}if(2&i){const n=e.oxw().$implicit;e.Udp("opacity",n.isEnabled?1:.3),e.xp6(1),e.Q6J("src",null==n?null:n.img,e.LSH),e.xp6(1),e.Tol(n.textClass?n.textClass:""),e.xp6(1),e.Oqu(e.lcZ(4,8,n.name)),e.xp6(2),e.Q6J("ngIf",(null==n?null:n.notifications)&&"0"!=(null==n?null:n.notifications)),e.xp6(1),e.Q6J("ngIf",null==n?null:n.fav)}}function se(i,d){if(1&i&&(e.TgZ(0,"ion-col",33),e.YNc(1,oe,7,10,"ion-card",34),e.qZA()),2&i){const n=d.$implicit;e.xp6(1),e.Q6J("ngIf",n)}}function re(i,d){if(1&i&&(e.TgZ(0,"ion-row",31),e.YNc(1,se,2,1,"ion-col",32),e.qZA()),2&i){const n=d.$implicit;e.xp6(1),e.Q6J("ngForOf",n)}}function le(i,d){if(1&i&&(e.TgZ(0,"ion-grid",29),e.YNc(1,re,2,1,"ion-row",30),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.grid)}}const ce=[{path:"",component:(()=>{var i;class d extends H.n{onTempChange(t){this.currentTemp=t}ApplyTheme(t){console.log(t);const a=t.detail.checked,r=window.matchMedia("(prefers-color-scheme: dark)").matches;a&&r?document.documentElement.classList.add("black-1"):document.documentElement.classList.remove("black-1")}get hideUILanguage(){return o.a.StaticSettings.HideUILanguage}get AppIcon(){return window.devicePixelRatio<=1?Y.Y.appLogoXSmall:Y.Y.appLogo}constructor(t,a,r,v,_,u,P,h,k,y,O,ue,F,me,he){super(F,h,a,r,t,ue,!1,k,O,me),this.navCtrl=t,this.alertController=a,this.translate=r,this.loadingCtrl=v,this.navProvider=_,this.event=P,this.platform=h,this.router=k,this.network=y,this.toastCtrl=O,this.api=F,this.popoverCtrl=he,this.currentTemp=20,this.grid=[,],this.listOfIcons=[],this.isTabletDevice=!1,this.reconnect_refresh_timeout_id=-1,this.updates_count=0,this.theAppState=o.a,this.x=0,this.y=0,this.currentLangauge="en",this.isHomePage=!0}updateXY(){this.x>=2?(this.x=0,this.y++):this.x++}checkDevicesFilter(t){let a=L._.getFilterByName(t);return!(!a||!o.a.DefaultController)&&o.a.DefaultController.devices.some(r=>a.category.includes(r.category)&&a.device_types.includes(r.type)&&1==r.visible)}InitializeHomeScreen(){1!=o.a.appFlow?(o.a.WentFromHome=!0,this.x=0,this.y=0,this.zone.run(()=>{console.log("Intializing Home Screen"),this.grid=[,],this.grid[0]=[],this.grid[1]=[],this.grid[2]=[],this.grid[3]=[],this.grid[4]=[],this.grid[5]=[],this.grid[6]=[],this.grid[7]=[],this.grid[this.y][this.x]={type:"rooms",name:"rooms",isEnabled:!0,img:m.s.Images.main_room},this.updateXY(),this.grid[this.y][this.x]={type:"all",name:"all",isEnabled:!0,img:m.s.Images.all_device},o.a.DefaultController&&o.a.DefaultController.scenes&&o.a.DefaultController.scenes.length>0&&(this.updateXY(),this.grid[this.y][this.x]={type:"scenes",name:"scenes",isEnabled:!0,img:m.s.Images.scene}),this.checkDevicesFilter("lights")&&(this.updateXY(),this.grid[this.y][this.x]={type:"lights",name:"lights",isEnabled:!0,img:m.s.Images.light._90}),this.checkDevicesFilter("climate")&&(this.updateXY(),this.grid[this.y][this.x]={type:"climate",name:"climate",isEnabled:!0,img:m.s.Images.climate}),this.checkDevicesFilter("curtains")&&(this.updateXY(),this.grid[this.y][this.x]={type:"curtains",name:"curtains",isEnabled:!0,img:m.s.Images.shutter._50}),this.checkDevicesFilter("sensors")&&(this.updateXY(),this.grid[this.y][this.x]={type:"sensors",name:"sensors",isEnabled:!0,img:m.s.Images.sensors}),this.checkDevicesFilter("doors")&&(this.updateXY(),this.grid[this.y][this.x]={type:"doors",name:"doors",isEnabled:!0,img:m.s.Images.doors}),this.checkDevicesFilter("media")&&(this.updateXY(),this.grid[this.y][this.x]={type:"media",name:"media",isEnabled:!0,img:m.s.Images.multi_media_devices}),this.checkDevicesFilter("meters")&&(this.updateXY(),this.grid[this.y][this.x]={type:"meters",name:"meters",isEnabled:!0,img:m.s.Images.generic_meter}),this.checkDevicesFilter("cameras")&&(this.updateXY(),this.grid[this.y][this.x]={type:"cameras",name:"cameras",isEnabled:!0,img:m.s.Images.camera_devices}),this.checkDevicesFilter("others")&&(this.updateXY(),this.grid[this.y][this.x]={type:"others",name:"others",isEnabled:!0,img:m.s.Images.other_devices}),this.updateXY(),this.grid[this.y][this.x]={type:"events",name:"history",isEnabled:!0,img:m.s.Images.history},o.a.DefaultController&&o.a.DefaultController.GetDashboardEntitites()&&(this.updateXY(),this.grid[this.y][this.x]={type:"dashboard",name:"dashboards",isEnabled:!0,textClass:"font-size-small",img:m.s.Images.dashboard}),this.updateXY(),this.grid[this.y][this.x]={type:"all",name:"favorite",isEnabled:!0,img:m.s.Images.all_device,fav:"star"},this.updateXY(),this.grid[this.y][this.x]={type:"speech",name:"voice",isEnabled:o.a.RunningOnMobile,img:m.s.Images.speech},this.updateXY(),this.grid[this.y][this.x]={type:"warnings",name:"warnings",isEnabled:!0,img:m.s.Images.warning,notifications:D.E.warningCounts,notificationClass:"warning"};let t=this.x,a=this.y;C.V0.events.subscribe(I.n.WARNING_UPDATE,()=>{this.grid[a][t].notifications=D.E.warningCounts}),this.updateXY(),this.grid[this.y][this.x]={type:"arming",name:"arming",isEnabled:!0,img:m.s.Images.arming,notifications:o.a.getBreachDeviceIds.length,notificationClass:"danger"};let r=this.x,v=this.y;setTimeout(()=>{this.grid[v][r].notifications=o.a.getBreachDeviceIds.length},2e3),this.breachHandler=()=>{this.grid[v][r].notifications=o.a.getBreachDeviceIds.length},C.V0.events.subscribe(I.n.BREACH_ALERT,this.breachHandler),this.updateXY(),this.grid[this.y][this.x]={type:"settings",name:"settings",isEnabled:!0,img:m.s.Images.settings},this.updateXY(),this.grid[this.y][this.x]={type:"management",name:"management",isEnabled:this.isManagementAllowed(),img:m.s.Images.management},this.updateXY(),this.grid[this.y][this.x]={type:"about",name:"about",isEnabled:!0,notificationClass:"newupdate",img:m.s.Images.about},this.checkUpdate().then(()=>{this.grid[this.y][this.x].notifications=this.updates_count}),this.updateXY(),this.grid[this.y][this.x]={type:"ticket",name:"interaction",isEnabled:!0,img:m.s.Images.interaction},this.listOfIcons=[];for(let _=0;_<this.grid.length;_++)for(let u=0;u<this.grid[_].length;u++)this.listOfIcons.push(this.grid[_][u]);return!0})):this.navCtrl.navigateRoot(o.a.mainPage)}checkUpdate(){var t=this;return(0,g.Z)(function*(){if(null!=o.a.DefaultController){var a,r;yield o.a.DefaultController.CheckNewServerVersion();try{t.platform.is("mobile")&&(a=(yield M.g.getInfo()).build,r=(yield M.g.getInfo()).version.split(".")[2],parseInt(o.a.DefaultController.androidVersionCode)>a&&(o.a.DefaultController.androidVersionAvailable=!0),parseInt(o.a.DefaultController.iosVersion)>r&&(o.a.DefaultController.iosVersionAvailable=!0),(o.a.DefaultController.androidVersionAvailable||o.a.DefaultController.iosVersionAvailable)&&t.updates_count++)}catch(v){console.log("checkUpdate: "+v)}(o.a.DefaultController.user.is_system_admin||o.a.DefaultController.user.is_super_user)&&o.a.DefaultController.serverVersionAvailable&&t.updates_count++}})()}isManagementAllowed(){return o.a.DefaultController&&o.a.DefaultController.user&&o.a.DefaultController.user.is_super_user}updateDateTime(t){let a=new Date,r=""+a.getHours()%12;r.toString().length<2&&(r="0"+r);let v=""+a.getMinutes();v.toString().length<2&&(v="0"+v)}presentExitConfirmation(){var t=this;return(0,g.Z)(function*(){(yield t.alertCtrl.create({header:t.translate.instant("exit"),message:t.translate.instant("application-exit-confirmation"),buttons:[{text:t.translate.instant("cancel"),role:"cancel",handler:()=>{console.log("Cancel clicked")}},{text:t.translate.instant("exit"),handler:()=>{M.g.exitApp(),console.log("Exit clicked")}}]})).present()})()}ShowUILanguages(){var t=this;return(0,g.Z)(function*(){var a=[],r=[];return yield t.settings.getValue("lang").then(function(){var _=(0,g.Z)(function*(u){t.currentLangauge=u,a.push({type:"radio",label:"English",value:"en",checked:"en"==t.currentLangauge}),a.push({type:"radio",label:"\u0639\u0631\u0628\u0649",value:"ar",checked:"ar"==t.currentLangauge}),r.push(t.translate.instant("cancel")),r.push({text:t.translate.instant("ok"),handler:P=>{if(null==P)return;let h=P;t.translate.use(h),t.settings.setValue("lang",h),C.V0.events.publish(I.n.UI_LANGUAGE_CHANGED,h),t.translate.setDefaultLang("ar"==h?"ar":"ur"==h?"ur":"en"),document.documentElement.dir="ar"==h||"ur"==h?"rtl":"ltr"}})});return function(u){return _.apply(this,arguments)}}()),(yield t.alertController.create({cssClass:"network-alert",header:t.translate.instant("select-language"),message:t.translate.instant("select-language-for-ui"),buttons:r,inputs:a})).present().then(()=>{let _=document.getElementsByClassName("alert-radio-group")[0].querySelectorAll("button");document.getElementsByClassName("alert-button-group")[0].querySelectorAll("button")[0].tabIndex=4,document.getElementsByClassName("alert-button-group")[0].querySelectorAll("button")[1].tabIndex=5;for(var u=0;u<_.length;u++)_[u].tabIndex=u}),!1})()}ionViewDidLeave(){window.onpopstate=null,super.ionViewDidLeave(),C.V0.events.unsubscribe(I.n.UI_LANGUAGE_CHANGED,this.uiLangaugeChangeHandler),this.uiLangaugeChangeHandler&&(this.uiLangaugeChangeHandler=void 0)}preventBack(){window.history.pushState(null,null,""),window.onpopstate=function(){window.history.go(1)}}ionViewDidEnter(){super.ionViewDidEnter(),this.IMAGES=m.s.Images,o.a&&o.a.AppFunctionality&&o.a.AppFunctionality.RegisterDefaultBackButton(),this.isTabletDevice=screen.width>screen.height,1==o.a.refreshHomePage&&(this.InitializeHomeScreen(),o.a.refreshHomePage=!1),0==(this.grid[3]&&this.grid[1].length>0)&&setTimeout(()=>{this.InitializeHomeScreen(),o.a.refreshHomePage=!0},1500)}openPage(t){var a=this;return(0,g.Z)(function*(){if(console.time("loading"),console.log("open page..."),0==t.isEnabled)return;console.log(t.name);let r="HomePage",v=!1,_=!1,u=!1;switch(t.type){case"rooms":r=c.WS,v=!0;break;case"lights":case"meters":case"cameras":case"all":case"climate":case"doors":case"curtains":case"sensors":case"media":case"others":r=c.Ak,u=!0;break;case"scenes":r=c.Ak,u=!0,_=!0;break;case"settings":r=c.L6;break;case"speech":r=c.$0;break;case"events":r=c.WX;break;case"help":r=c.Ms;break;case"about":r=c.QS;break;case"arming":r=c._S;break;case"warnings":r=c.QH;break;case"file-manager":r=c.Fw;break;case"sceneCreator":r=c.Cx;break;case"dashboard":r=c.YK;break;case"management":r=c.qx;break;case"ticket":r=c.YF}let P="";u?P=t:v?P="device":_&&(P="scene");let h=yield a.loadingCtrl.create({backdropDismiss:!0});h.present().then(k=>{if(u)if(1==o.a.DefaultController.rooms.filter(y=>0==y.is_empty).length)a.navCtrl.navigateForward(c.Ak,{state:{data:{room:o.a.DefaultController.rooms.filter(y=>0==y.is_empty)[0],filter:t.type,fav:t.fav}}}).then(y=>{console.timeEnd("loading"),h.dismiss()});else{let y=new T.d;y.id=-1,y.name=a.translate.instant("all"),y.image_url=m.s.Images.main_room,a.navCtrl.navigateForward(r,{state:{data:{room:y,filter:t.type,fav:t.fav}}}).then(O=>{console.timeEnd("loading"),h.dismiss()})}else a.navCtrl.navigateForward(r,{state:{data:P}}).then(y=>{console.timeEnd("loading"),h.dismiss()})}).then(()=>{console.timeEnd("nav-page")})})()}showToast(t){var a=this;return(0,g.Z)(function*(){(yield a.toastCtrl.create({message:t,duration:3e3})).present()})()}navigateToSpecificPage(){S.N.production||this.navCtrl.navigateForward(c.DY,{state:{data:{pageToOpen:c.rL}}})}ngOnInit(){var t=this;super.ngOnInit(),o.a.DefaultController||this.navCtrl.navigateRoot(c.g6),this.platform.ready().then(()=>{o.a.DefaultController&&(window.scenes=o.a.DefaultController.scenes,window.devices=o.a.DefaultController.devices,window.rooms=o.a.DefaultController.rooms),C.V0.events.subscribe("unauthorized",a=>{console.log("unauthorized"),this.navCtrl.navigateRoot(c.g6)}),this.settings.getValue("showCameraThumbnail").then(a=>{null!=a&&(C.V0.showCameraThumbnail=a)}),this.settings.getValue("shake-enabled").then(a=>{null!=a&&(o.a.ShakeEnabled=a)}),this.settings.getValue("shake-frequency").then(a=>{null!=a&&(o.a.ShakeFrequency=a)}),this.uiLangaugeChangeHandler=a=>{console.log("Language has been changed to: "+a)},C.V0.events.subscribe(I.n.UI_LANGUAGE_CHANGED,this.uiLangaugeChangeHandler),null!=o.a.DefaultController&&null!=o.a.DefaultController.devices&&(this.devices=o.a.DefaultController.devices),this.InitializeHomeScreen()}),null!=o.a.DefaultController&&(0==o.a.DefaultController.isready&&C.V0.events.subscribe(b.B.AllReady,()=>{o.a.DefaultController.isready=!0}),this.settings.getValue("lang").then(a=>{null!=o.a.DefaultController.languages&&(C.V0.uiLanguage=o.a.DefaultController.languages.find(r=>r.symbol==a),null==C.V0.uiLanguage&&(C.V0.uiLanguage=o.a.DefaultController.languages[0]))}),this.navProvider.pagesToLoadFromHome&&new Promise(function(){var a=(0,g.Z)(function*(r){switch(t.navProvider.pagesToLoadFromHome){case"dashboard":let _=-1;if(t.navProvider.name)try{var v=yield o.a.DefaultController.GetDashboards();if(v&&v&&v.body&&v.body.result&&v.body.result.length){let h=v.body.result.find(k=>k.Name.toLowerCase()==t.navProvider.name.toLowerCase());h&&(_=h.Id)}}catch{}-1==_&&(_=t.navProvider.id),-1!=_&&_&&t.navCtrl.navigateForward(c.so,{state:{dashboard_id:_}});break;case"room":let u=-1;if(t.navProvider.name){let h=o.a.DefaultController.rooms.find(k=>k.name.toLowerCase()==t.navProvider.name.toLowerCase());h&&(u=h.id)}(-1==u||t.navProvider.id)&&(u=t.navProvider.id),o.a.DefaultController.rooms.find(h=>h.id==u)?(-1==u&&(u=t.navProvider.id),t.navCtrl.navigateForward(c.Ak,{state:{data:{room:o.a.DefaultController.rooms.find(h=>h.id==u)}}})):t.navCtrl.navigateForward(c.Ak,{state:{data:{room:o.a.DefaultController.rooms.filter(h=>0==h.is_empty)[0],filter:"all"}}})}t.navProvider.pagesToLoadFromHome=void 0});return function(r){return a.apply(this,arguments)}}()))}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(A.SH),e.Y36(A.Br),e.Y36(Z.sK),e.Y36(A.HT),e.Y36(N.Y),e.Y36(A.IN),e.Y36(U.z),e.Y36(A.t4),e.Y36(x.F0),e.Y36(B.Z),e.Y36(A.yF),e.Y36(e.R0b),e.Y36(C.V0),e.Y36(J.Z),e.Y36(A.Dh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],features:[e.qOj],decls:17,vars:8,consts:[["hideBackButton","true",2,"text-align","center","direction","ltr",3,"ngStyle"],[2,"text-align","end","padding-top","5px","max-width","120px","float","right","min-width","10px"],["class","top-mic-button focusable","tabindex","-1","style","vertical-align:bottom;",3,"touchstart","touchend",4,"ngIf"],[1,"main-logo-col",2,"width","auto","min-width","40px","float","left"],["ion-button","","clear","","class","top-mic-button change-ui-language focusable","tabindex","-1","style","padding: 5px; width:auto; vertical-align: top;",3,"click",4,"ngIf"],["class","top-mic-button focusable","tabindex","-1",3,"id",4,"ngIf"],["component-click","","tabindex","0","tappable","",1,"top-mic-button","back",2,"font-size","30px","text-align","center","vertical-align","middle","display","none",3,"click"],[2,"padding","0px","word-wrap","normal","height","45px","white-space","pre-line"],[2,"padding-top","5px","transform","translateX(-30px)",3,"src"],[3,"fullscreen"],["style","text-align:center;","class","icons-container",4,"ngIf"],["style","padding-top: 10px;",4,"ngIf"],["tabindex","-1",1,"top-mic-button","focusable",2,"vertical-align","bottom",3,"touchstart","touchend"],["name","mic",1,"voice-mic-button"],[1,"top-badge"],["ion-button","","clear","","tabindex","-1",1,"top-mic-button","change-ui-language","focusable",2,"padding","5px","width","auto","vertical-align","top",3,"click"],[2,"width","30px",3,"src"],["tabindex","-1",1,"top-mic-button","focusable",3,"id"],[1,"icons-container",2,"text-align","center"],["ngFor","",3,"ngForOf"],[1,"grid-icons"],["ion-item","","tappable","","role","button","tabindex","-1","component-click","","class","btn-device-grid focusable","style","margin:5px;","item-center","",3,"opacity","click",4,"ngIf"],[3,"ngIf"],["ion-item","","tappable","","role","button","tabindex","-1","component-click","","item-center","",1,"btn-device-grid","focusable",2,"margin","5px",3,"click"],[2,"align-items","center","width","75%",3,"src"],["class","arm-notification",3,"color",4,"ngIf"],["style","font-size:3vw; top:4px; left:4px; line-height:1;","class","arm-notification",3,"name",4,"ngIf"],[1,"arm-notification",3,"color"],[1,"arm-notification",2,"font-size","3vw","top","4px","left","4px","line-height","1",3,"name"],[2,"padding-top","10px"],["style","margin-bottom:10px;",4,"ngFor","ngForOf"],[2,"margin-bottom","10px"],["size","4","style","padding-top: 0px;padding-bottom: 0px;","dropzone","true","item-center","",4,"ngFor","ngForOf"],["size","4","dropzone","true","item-center","",2,"padding-top","0px","padding-bottom","0px"],["tappable","","role","button","tabindex","-1","component-click","","class","mobile-grid focusable","style","margin:auto;","item-center","","draggable","true","ondrag","",3,"opacity","click",4,"ngIf"],["tappable","","role","button","tabindex","-1","component-click","","item-center","","draggable","true","ondrag","",1,"mobile-grid","focusable",2,"margin","auto",3,"click"],["style","font-size:6vw; top:2px; left:2px; line-height:1;","class","arm-notification",3,"name",4,"ngIf"],[1,"arm-notification",2,"font-size","6vw","top","2px","left","2px","line-height","1",3,"name"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0),e._UZ(2,"ion-title"),e.TgZ(3,"div")(4,"div",1),e._UZ(5,"connection-warning"),e.YNc(6,R,4,1,"a",2),e.qZA(),e.TgZ(7,"div",3),e.YNc(8,W,2,1,"button",4),e.YNc(9,$,1,1,"breach-alert",5),e.TgZ(10,"a",6),e.NdJ("click",function(){return a.preventBack()}),e.qZA()(),e.TgZ(11,"div")(12,"ion-title",7),e._UZ(13,"img",8),e.qZA()()()()(),e.TgZ(14,"ion-content",9),e.YNc(15,ne,2,1,"div",10),e.YNc(16,le,2,1,"ion-grid",11),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",a.theAppState.iontoolbarStyle),e.xp6(5),e.Q6J("ngIf",a.platform.is("android")||a.platform.is("ios")),e.xp6(2),e.Q6J("ngIf",!a.hideUILanguage),e.xp6(1),e.Q6J("ngIf",a.getThingBreachStatus),e.xp6(4),e.Q6J("src",a.AppIcon,e.LSH),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",a.isTabletDevice),e.xp6(1),e.Q6J("ngIf",!a.isTabletDevice))},dependencies:[p.sg,p.O5,p.PC,s.yp,s.PM,s.wI,s.W2,s.jY,s.Gu,s.gu,s.Nd,s.wd,s.sr,Q,z,Z.X$],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.action-sheet-button[_ngcontent-%COMP%], .action-sheet-title[_ngcontent-%COMP%]{color:#fff}.action-sheet-container[_ngcontent-%COMP%]   .action-sheet-title[_ngcontent-%COMP%]{color:#fff;font-size:1.6rem;background:#192f48}div#action-sheet-4-header[_ngcontent-%COMP%]{background:transparent}.mobile-grid[_ngcontent-%COMP%]{font-size:3.5vw!important;white-space:nowrap!important}.mobile-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px}.mobile-grid[_ngcontent-%COMP%]   .font-size-small[_ngcontent-%COMP%]{font-size:3.5vw;white-space:nowrap}"]}),d})()}];let ge=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.Bz.forChild(ce),x.Bz]}),d})(),de=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,f.u5,s.Pc,ge,Z.aw]}),d})()},56450:(E,w,l)=>{l.d(w,{q:()=>f});class p{constructor(g,C,c,T){this.id=g,this.name=C,this.type=c,this.image_url=T}}var s=l(86845);class f extends p{constructor(g,C,c,T=!1,Y="",H=[],o=[],b=!0,m=!1,D=!0,I=[s.t.Unknown],S=[]){super(g,C,c,Y),this.category_and_type=!0,this.exclude=!1,this.visible=!0,this.eventFilterType=[s.t.Unknown],this.is_all=T,this.category=H,this.device_types=o,this.category_and_type=b,this.exclude=m,this.visible=D,this.eventFilterType=I,this.exclusionCategoryType=S}}},79616:(E,w,l)=>{l.d(w,{_:()=>Y});var p=l(56450),s=l(77144),f=l(9952),x=l(19462),g=l(86845);class C{constructor(o,b){this.deviceCategory=o,this.deviceType=b}}var c=l(1901);class Y{static getFilterByType(o){return this.list_of_filters.find(b=>b.type==o)}static getFilterByName(o){return this.list_of_filters.find(b=>b.name==o)}static getFilteredThings(o,b){let m=o;b.exclusionCategoryType&&b.exclusionCategoryType.length>0&&b.exclusionCategoryType.forEach(D=>{m=m.filter(I=>!(I.thingType==c.a.Device&&I.type==D.deviceType&&I.category==D.deviceCategory))})}}Y.list_of_filters=[new p.q(-1,"all","all",!0,x.s.Images.all_device,void 0,void 0,void 0,void 0,void 0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(-3,"rooms","rooms",!1,x.s.Images.default_room_image,[],[],!1,!0,!0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(-2,"scenes","scene",!0,x.s.Images.scene,[],[],!1,!0,!0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(0,"lights","lights",!1,x.s.Images.light._90,[f.I.Lighting],[s.Y.RGB,s.Y.Dimmer,s.Y.Switch],void 0,void 0,void 0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(2,"climate","climate",!1,x.s.Images.climate,[f.I.HVAC,f.I.Fan,f.I.Other],[s.Y.Thermostat,s.Y.Generic],!0,void 0,void 0,[g.t.ThingPropertyChange,g.t.Action],[new C(f.I.Other,s.Y.Switch),new C(f.I.Other,s.Y.Dimmer),new C(f.I.Other,s.Y.Generic)]),new p.q(1,"curtains","curtains",!1,x.s.Images.shutter._50,[f.I.Curtains],[s.Y.Shutter],void 0,void 0,void 0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(3,"sensors","sensors",!1,x.s.Images.sensors,[f.I.Other,f.I.Gate],[s.Y.HumiditySensor,s.Y.TemperatureSensor,s.Y.MotionSensor,s.Y.OccupancySensor,s.Y.EnvironmentSensor,s.Y.DoorSensor,s.Y.GenericSensor,s.Y.FloodSensor,s.Y.SmokeSensor,s.Y.LightSensor],!0,void 0,void 0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(7,"doors","doors",!1,x.s.Images.doors,[f.I.Other,f.I.Gate,f.I.Lock],[s.Y.DoorSensor,s.Y.DoorBell,s.Y.Lock],!0,!1,!0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(5,"media","media",!1,x.s.Images.multi_media_devices,[f.I.Media],[s.Y.MultiMedia],!1,!1,!0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(4,"others","others",!1,x.s.Images.other_devices,[f.I.Siren,f.I.Appliances,f.I.Valve,f.I.Other],[s.Y.Switch,s.Y.Generic,s.Y.VirtualDevice,s.Y.RemoteControl],!0,!1,void 0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(6,"cameras","camera",!1,x.s.Images.camera_devices,[f.I.Other],[s.Y.Camera],!0,!1,!0,[g.t.ThingPropertyChange,g.t.Action]),new p.q(8,"meters","meters",!1,x.s.Images.generic_meter,[f.I.Other],[s.Y.AcMeter,s.Y.GenericMeter,s.Y.WaterMeter,s.Y.PowerMeter],!0,!1,!0,[g.t.ThingPropertyChange,g.t.Action])]},86845:(E,w,l)=>{l.d(w,{t:()=>p});var p=function(s){return s[s.Unknown=0]="Unknown",s[s.ThingPropertyChange=1]="ThingPropertyChange",s[s.GenericEvent=2]="GenericEvent",s[s.Notification=3]="Notification",s[s.Action=4]="Action",s}(p||{})}}]);