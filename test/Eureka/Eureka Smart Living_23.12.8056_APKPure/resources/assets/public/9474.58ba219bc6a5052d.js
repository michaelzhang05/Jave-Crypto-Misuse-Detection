"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9474,9764],{89474:(J,P,l)=>{l.r(P),l.d(P,{InterfacesManagementPageModule:()=>he});var C=l(96814),I=l(56223),f=l(73582),T=l(70160),u=l(15861),w=l(19462),A=l(51141),m=l(8873),p=l(31138),h=l(56544),M=l(16741),y=l(44945),Z=l(52110),k=l(51506),S=l(12226),N=l(11998),e=l(65879),E=l(34414),O=l(63999),H=l(46729),U=l(77935),F=l(59764),G=l(69705),Q=l(48753);const Y=["slides"],B=["interfaceName"];function q(a,c){if(1&a&&(e.TgZ(0,"p",5),e._uU(1),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Oqu(i.CurrentSlideName)}}function R(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-button",11),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.disableEditing())}),e._UZ(1,"ion-icon",12),e.qZA()}}function z(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-button",11),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.CreateNewInterface())}),e._UZ(1,"ion-icon",13),e.qZA()}}function V(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-searchbar",14),e.NdJ("ionInput",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.search(t))}),e.ALo(4,"translate"),e.qZA()()()()}2&a&&(e.xp6(3),e.s9C("placeholder",e.lcZ(4,1,"search")))}function K(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-item-sliding",17)(1,"ion-item",18)(2,"ion-avatar",19),e._UZ(3,"img",20),e.qZA(),e.TgZ(4,"h2",21),e._uU(5),e.qZA(),e._UZ(6,"ion-icon",22),e.qZA(),e.TgZ(7,"ion-item-options",23)(8,"ion-item-option",24),e.NdJ("click",function(){const r=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.EditInterface(r))}),e._UZ(9,"ion-icon",25),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-item-option",26),e.NdJ("click",function(){const r=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.duplicate(r))}),e._UZ(13,"ion-icon",27),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ion-item-option",28),e.NdJ("click",function(){const r=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.deleteInterface(r))}),e._UZ(17,"ion-icon",29),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&a){const i=c.$implicit,n=c.index,t=e.oxw(2);e.xp6(3),e.Q6J("src",t.list_of_interfaceImages?t.list_of_interfaceImages[n]:"assets/img/themes/default/interface.png",e.LSH),e.xp6(2),e.hij(" ",i.name,""),e.xp6(5),e.hij(" ",e.lcZ(11,5,"edit")," "),e.xp6(4),e.hij(" ",e.lcZ(15,7,"duplicate")," "),e.xp6(4),e.hij(" ",e.lcZ(19,9,"delete")," ")}}function $(a,c){if(1&a&&(e.TgZ(0,"ion-list",15),e.YNc(1,K,20,11,"ion-item-sliding",16),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filtered_list_of_interface)}}function j(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-item",41),e.NdJ("click",function(){const r=e.CHM(i).$implicit;e.oxw(2);const o=e.MAs(1),s=e.oxw();return s.NextSlide(o,1),e.KtG(s.GetInterfaceProperties(r.id))}),e.TgZ(1,"ion-avatar",19),e._UZ(2,"img",20),e.qZA(),e.TgZ(3,"h2",21),e._uU(4),e.qZA()()}if(2&a){const i=c.$implicit;e.xp6(2),e.Q6J("src",i.image,e.LSH),e.xp6(2),e.hij(" ",i.name,"")}}function W(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-list"),e.YNc(3,j,5,2,"ion-item",40),e.qZA()()()),2&a){const i=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",i.list_of_interfaceTypes)}}function X(a,c){1&a&&(e.TgZ(0,"label",46),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function ee(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-input",50),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw().$implicit;return e.KtG(r.value=t)}),e.qZA()}if(2&a){const i=e.oxw().$implicit;e.Q6J("ngModel",i.value)("value",i.value)}}function te(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",53),e._uU(1),e.qZA()),2&a){const i=c.$implicit;e.s9C("value",i.Name),e.xp6(1),e.hij(" ",i.Description," ")}}function ne(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-select",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(4);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(i);const r=e.oxw().$implicit;return e.KtG(r.value=t)}),e.YNc(1,te,2,2,"ion-select-option",52),e.qZA()}if(2&a){const i=e.oxw().$implicit;e.Q6J("ngModel",i.value),e.xp6(1),e.Q6J("ngForOf",i.possibleValues)}}function ie(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col",43)(2,"ion-label",47),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",44),e.YNc(5,ee,1,2,"ion-input",48),e.YNc(6,ne,2,2,"ion-select",49),e.qZA()()),2&a){const i=c.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Q6J("ngIf",i.possibleValues&&0==i.possibleValues.length),e.xp6(1),e.Q6J("ngIf",i.possibleValues&&i.possibleValues.length>0)}}function ae(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"swiper-slide",42)(1,"ion-grid")(2,"ion-row")(3,"ion-col",43)(4,"ion-label",35),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",44)(8,"ion-input",36,37),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.interface.name=t)})("ionChange",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.checkInterfaceName(t.interface.name))}),e.qZA(),e.YNc(10,X,3,3,"label",38),e.qZA()(),e.YNc(11,ie,7,3,"ion-row",45),e.TgZ(12,"ion-row")(13,"ion-col")(14,"ion-button",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.SaveInterface())}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()}if(2&a){const i=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,6,"interface-name")),e.xp6(3),e.Q6J("ngModel",i.interface.name),e.xp6(2),e.Q6J("ngIf",i.interfaceNameEmpty),e.xp6(1),e.Q6J("ngForOf",i.interface.interfacePropertyEntities),e.xp6(3),e.Q6J("disabled",!i.interfaceNameAvailable||""==i.interface.name),e.xp6(1),e.hij(" ",e.lcZ(16,8,"save")," ")}}function re(a,c){1&a&&(e.TgZ(0,"label",46),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function oe(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"swiper-container",null,30)(2,"swiper-slide",31)(3,"div",32)(4,"ion-grid"),e.YNc(5,W,4,1,"ion-row",9),e.qZA()()(),e.YNc(6,ae,17,10,"swiper-slide",33),e.TgZ(7,"swiper-slide",34)(8,"ion-grid")(9,"ion-row")(10,"ion-col")(11,"ion-label",35),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"ion-col")(15,"ion-input",36,37),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.interface.name=t)})("ionChange",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.checkInterfaceName(t.interface.name))}),e.qZA(),e.YNc(17,re,3,3,"label",38),e.qZA()(),e.TgZ(18,"ion-row")(19,"ion-col")(20,"ion-button",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.SaveInterface())}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.InterfaceCreatorEnable),e.xp6(1),e.Q6J("ngIf",i.interface.interfacePropertyEntities.length>0),e.xp6(6),e.Oqu(e.lcZ(13,7,"interface-name")),e.xp6(3),e.Q6J("ngModel",i.interface.name),e.xp6(2),e.Q6J("ngIf",i.interfaceNameEmpty),e.xp6(3),e.Q6J("disabled",!i.interfaceNameAvailable||""==i.interface.name),e.xp6(1),e.hij(" ",e.lcZ(22,9,"save")," ")}}function se(a,c){1&a&&(e.TgZ(0,"label",46),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"validation-required")))}function le(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-input",50),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw().$implicit;return e.KtG(r.value=t)}),e.qZA()}if(2&a){const i=e.oxw().$implicit;e.Q6J("ngModel",i.value)("value",i.value)}}function ce(a,c){if(1&a&&(e.TgZ(0,"ion-select-option",53),e._uU(1),e.qZA()),2&a){const i=c.$implicit;e.s9C("value",i.Name),e.xp6(1),e.hij(" ",i.Description," ")}}function fe(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-select",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(3);return e.KtG(t.scrollToSelected())})("ngModelChange",function(t){e.CHM(i);const r=e.oxw().$implicit;return e.KtG(r.value=t)}),e.YNc(1,ce,2,2,"ion-select-option",52),e.qZA()}if(2&a){const i=e.oxw().$implicit;e.Q6J("ngModel",i.value),e.xp6(1),e.Q6J("ngForOf",i.possibleValues)}}function _e(a,c){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col",43)(2,"ion-label",47),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",44),e.YNc(5,le,1,2,"ion-input",48),e.YNc(6,fe,2,2,"ion-select",49),e.qZA()()),2&a){const i=c.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Q6J("ngIf",i.possibleValues&&0==i.possibleValues.length),e.xp6(1),e.Q6J("ngIf",i.possibleValues&&i.possibleValues.length>0)}}function de(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"ion-div")(1,"ion-grid")(2,"ion-row")(3,"ion-col",43)(4,"ion-label",35),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",44)(8,"ion-input",36,37),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.interface.name=t)})("ionChange",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.checkInterfaceName(t.interface.name))}),e.qZA(),e.YNc(10,se,3,3,"label",38),e.qZA()(),e.YNc(11,_e,7,3,"ion-row",45),e.TgZ(12,"ion-row")(13,"ion-col")(14,"ion-button",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.SaveInterface())}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,6,"interface-name")),e.xp6(3),e.Q6J("ngModel",i.interface.name),e.xp6(2),e.Q6J("ngIf",i.interfaceNameEmpty),e.xp6(1),e.Q6J("ngForOf",i.interface.interfacePropertyEntities),e.xp6(3),e.Q6J("disabled",!i.interfaceNameAvailable||""==i.interface.name),e.xp6(1),e.hij(" ",e.lcZ(16,8,"save")," ")}}const ge=[{path:"",component:(()=>{var a;class c extends h.n{constructor(n,t,r,o,s,d,g,_,v,x,b,D,L){super(x,d,r,o,n,v,!1,L,_,b,D),this.navCtrl=n,this.alertController=r,this.translate=o,this.loadingCtrl=s,this.platform=d,this.navParams=g,this.toastCtrl=_,this.api=x,this.popoverCtrl=D,this.router=L,this.list_of_interfaces=[],this.list_of_interfaceImages=[],this.Navigation={WizardName:"",Name:"",From:[],To:""},this.InterfaceCreatorEnable=!1,this.interfaceNameEmpty=!1,this.theAppState=m.a,this.filtered_list_of_interface=[],this.searchQuery="",this.interfaceNameAvailable=!0,this.errorHandler=()=>{this.LoadAllInterfaces()},this.list_of_interfaceTypes=[],this.interface_properties=[],this.AddingNewInterface=!1,this.EditExistingInterface=!1,this.CurrentSlideName="",this.entityParser=new y.V,m.a.DefaultController||this.navCtrl.navigateRoot(A.g6),this.interfaceHelper=new S.Q}ionViewDidEnter(){var n=()=>super.ionViewDidEnter,t=this;return(0,u.Z)(function*(){console.log("ionViewDidLoad InterfaceListPage"),n().call(t);let r=yield t.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});r.present(),t.LoadAllInterfaces().then(o=>{r.dismiss()})})()}goBack(){if(this.wizardSlider&&this.wizardSlider.activeIndex>0){let n=this.wizardSlider.activeIndex-1;console.log(this.interface.interfacePropertyEntities,"this.interface.interfacePropertyEntities"),this.wizardSlider.slidePrev(),this.CurrentSlideName=this.translate.instant(0==n?"Interface Types":1==n?"Interface Properties":2==n?"Interface Name":"general")}else this.AddingNewInterface||this.InterfaceCreatorEnable?this.disableEditing():this.navCtrl.back()}NavigateBack(){let n=this.Navigation.From.pop();n&&(this.Navigation.WizardName=n),console.log(this.Navigation)}loadFlags(){let n;setTimeout(function(){let t=document.getElementsByClassName("alert-radio-label");for(let o=0;o<t.length;o++){let s=t[o];s&&(n=encodeURI(N.p.currentIp+"/Resources/Images/"+s.innerText+".png"),s.innerHTML.includes("<img")||(s.innerHTML=s.innerHTML.concat('<img class="country-image" style = "float:inline-end;width: 35px;margin: -9px;height: 35px;" src = '+n+" /> ")))}let r=document.getElementsByClassName("alert-radio-group")[0].querySelector('[aria-checked="true"]');r&&setTimeout(function(){r.scrollIntoView()},400)},5)}initializeItems(){this.filtered_list_of_interface=this.list_of_interfaces}search(n){this.initializeItems(),this.list_of_interfaceImages=[];const t=n.target.value;t&&t.length>=2&&(this.searchQuery=t,t&&""!=t.trim()&&(this.filtered_list_of_interface=this.list_of_interfaces.filter(o=>o.name.toLowerCase().indexOf(t.toLowerCase())>-1||o.roomName&&o.roomName.toLowerCase().indexOf(t.toLowerCase())>-1)));for(var r=0;r<this.filtered_list_of_interface.length;r++){let s=encodeURI(N.p.currentIp+"/Resources/Images/"+this.GetInterfaceTypesUserFriendly(this.filtered_list_of_interface[r].type)+".png");this.list_of_interfaceImages.push(s)}}disableEditing(){var n=this;return(0,u.Z)(function*(){(yield n.alertCtrl.create({header:n.translate.instant("cancel"),cssClass:"network-alert",message:n.translate.instant("are-you-sure-you-want-to-cancel-changes"),buttons:[{text:n.translate.instant("yes"),role:"null",handler:()=>{n.InterfaceCreatorEnable=!1,n.EditExistingInterface=!1,n.AddingNewInterface=!1,n.interface=null,n.CurrentSlideName="",n.interfaceNameEmpty=!1,n.Navigation.WizardName=null}},{text:n.translate.instant("no"),role:"cancel",handler:()=>{}}]})).present()})()}EditInterface(n){var t=this;return(0,u.Z)(function*(){let r=yield t.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});n&&n.id&&(r.present(),t.interface=new Z.u,t.interface.interfacePropertyEntities=[],yield m.a.DefaultController.GetInterfaceForDesiging(n.id).then(function(){var o=(0,u.Z)(function*(s){t.interface=yield t.entityParser.ParseInterfaceEntity(s),r&&r.innerHTML&&r.dismiss()});return function(s){return o.apply(this,arguments)}}()),t.NavigatedToState("edit",n),t.AddingNewInterface=!1,t.InterfaceCreatorEnable=!0,t.CurrentSlideName=t.interface.name)})()}checkInterfaceName(n){if(null!=n){if(n){if(document.getElementsByName("interfaceName")[1].setAttribute("style","border:2px solid #9696964d !important"),this.interfaceNameEmpty=!1,this.filtered_list_of_interface.find(t=>t.id!=this.interface.id&&t.name.toLowerCase()==n.toLowerCase()))return this.interfaceNameAvailable=!1,document.getElementsByName("interfaceName")[1].setAttribute("style","border:2px solid #e91e1e !important"),!1}else document.getElementsByName("interfaceName")[1].setAttribute("style","border:2px solid #e91e1e !important"),this.interfaceNameEmpty=!0;return this.interfaceNameAvailable=!0,!0}}LoadAllInterfaces(){var n=this;return(0,u.Z)(function*(){let t,r=!0;n.list_of_interfaceTypes=[];for(let s=0;s<w.s.RetryRequests;s++){console.log("Trying to load device entities",s+1+"/3");try{let d=yield m.a.DefaultController.LoadAllInterfaceTypes();if(0==n.list_of_interfaceTypes.length){if(d)for(var o=0;o<d.length;o++)n.list_of_interfaceTypes.push({id:d[o],name:n.GetInterfaceTypesUserFriendly(d[o]),image:encodeURI(N.p.currentIp+"/Resources/Images/"+n.GetInterfaceTypesUserFriendly(d[o])+".png")});else n.showErrorToast(n.translate.instant("no-data-found")),n.NetworkAlertRetrySuccessCallBack=n.errorHandler,n.NotifyEvents("no data returned from the server.",!0);n.list_of_interfaceTypes.sort((_,v)=>_.name.localeCompare(v.name))}let g=yield m.a.DefaultController.GetInterfaceEntitites();if(n.list_of_interfaceImages=[],g){let _=[];for(let v=0;v<g.length;v++){let x=g[v],b=new M.v;b.id=x.id,b.name=x.name,b.type=x.type;let D=encodeURI(N.p.currentIp+"/Resources/Images/"+n.GetInterfaceTypesUserFriendly(b.type)+".png");n.list_of_interfaceImages.push(D),_.push(b)}n.list_of_interfaces=_,n.filtered_list_of_interface=n.list_of_interfaces}r=!1;break}catch(d){t=d,r=!0}}r&&t&&(console.error("unable to load data"),n.NetworkAlertRetrySuccessCallBack=n.errorHandler,n.NotifyEvents(t,!0),n.navCtrl.pop())})()}SaveInterface(){var n=this;return(0,u.Z)(function*(){n.CurrentSlideName="";let t=yield n.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0});t.present();let r=n.interfaceHelper.getInterfaceSavingEntity(n.interface);m.a.DefaultController.SaveInterfaceEntity(n.AddingNewInterface?"create":"update",r,n.interface.id).then(o=>{m.a.DefaultController.LoadAllInterfaceEntities(),n.LoadAllInterfaces().then(s=>{t&&t.innerHTML&&t.dismiss(),n.AddingNewInterface=!1,n.InterfaceCreatorEnable=!1,n.EditExistingInterface=!1,n.NavigatedToState("view"),n.CurrentSlideName=""})}).catch(o=>{console.error("Unable to Save",o),t&&t.innerHTML&&t.dismiss()})})()}GetInterfaceProperties(n){var t=this;return(0,u.Z)(function*(){t.interface.type=n;let r=t.interface.interfacePropertyEntities;t.interface.interfacePropertyEntities=[];let o=yield t.loadingCtrl.create({showBackdrop:!0,backdropDismiss:!0,message:t.translate.instant("please-wait")});if(o.present(),m.a&&m.a.DefaultController&&(yield m.a.DefaultController.GetInterfaceProperties(n).then(g=>{t.interface_properties=g,console.log(t.interface_properties),0==t.interface_properties.length&&t.showToast(t.translate.instant("no-properties-to-set"),1e3),o&&o.innerHTML&&o.dismiss()})),t.interface.interfacePropertyEntities=[],t.interface_properties)for(var s=0;s<t.interface_properties.length;s++){let g=null;g=r.find(v=>v.name==t.interface_properties[s].Name);let _=new Z.c;if(_.possibleValues=[],t.AddingNewInterface||(_.interfaceId=t.interface.id),_.name=t.interface_properties[s].Name,console.log(_,"NEW_IN"),g&&g.value?_.value=g.value:t.interface_properties[s].DefaultValue&&(_.value=t.interface_properties[s].DefaultValue),t.interface_properties[s].PossibleValues){let v=t.interface_properties[s].PossibleValues.length;for(var d=0;d<v;d++){let x=new k.ER;x.Name=t.interface_properties[s].PossibleValues[d].Name,x.Description=t.interface_properties[s].PossibleValues[d].Description,_.possibleValues.push(x)}}_.description=t.interface_properties[s].Description,t.interface.interfacePropertyEntities.push(_)}})()}scrollToSelected(){setTimeout(function(){let n=document.getElementsByClassName("alert-radio-group")[0].querySelector('[aria-checked="true"]');n&&setTimeout(function(){n.scrollIntoView()},400)},5)}NavigatedToState(n,t){switch(n){case"add":this.AddingNewInterface=!0,this.InterfaceCreatorEnable=!0,this.EditExistingInterface=!1,this.CurrentSlideName=this.translate.instant("interface-types");break;case"edit":this.AddingNewInterface=!1,this.InterfaceCreatorEnable=!0,this.EditExistingInterface=!0,t&&(this.CurrentSlideName=t.name);break;case"view":this.AddingNewInterface=!1,this.EditExistingInterface=!1,this.InterfaceCreatorEnable=!1,t&&(this.CurrentSlideName=t.name);break;case"delete":this.AddingNewInterface=!1,this.EditExistingInterface=!1,t&&(this.CurrentSlideName=t.name)}}CreateNewInterface(){this.NavigatedToState("add"),this.AddingNewInterface=!0,this.interface=new Z.u,this.interface.interfacePropertyEntities=[],this.interface.name="",this.InterfaceCreatorEnable=!0,console.log(this.list_of_interfaceTypes,"list_of_interfaceTypes"),this.CurrentSlideName=this.translate.instant("interface-types")}GetInterfaceTypesUserFriendly(n){if(!n)return"";let t=n.split(".");return t=t[t.length-1].replace("Interface","").split("."),t[0]=t[0].replace(/([a-z])([A-Z])/g,"$1 $2"),t[0]}NextSlide(n,t){this.CurrentSlideName=this.translate.instant(0==t?"Interface Types":1==t?"Interface Properties":2==t?"Interface Name":"general"),n.swiper.slideTo(t,200),window.scrollTo(0,0)}InitializeInterfaceEntities(){var n=this;return(0,u.Z)(function*(){for(let t=0;t<w.s.RetryRequests;t++)try{let r=yield m.a.DefaultController.GetInterfaceEntitites();if(console.log(r,"value"),n.list_of_interfaceImages=[],r){let o=[];for(let s=0;s<r.length;s++){let d=r[s],g=new M.v;g.id=d.id,g.name=d.name;let _=encodeURI(N.p.currentIp+"/Resources/Images/"+n.GetInterfaceTypesUserFriendly(g.type)+".png");n.list_of_interfaceImages.push(_),o.push(g)}return n.list_of_interfaces=o,void p.B.dismissLoading2()}}catch(r){console.error(r),n.NetworkAlertRetrySuccessCallBack=n.InitializeInterfaceEntities,n.NotifyEvents(r,!0)}p.B.dismissLoading2()})()}duplicate(n){var t=this;return(0,u.Z)(function*(){var o;(yield t.alertCtrl.create({header:t.translate.instant("duplicate"),cssClass:"network-alert",message:t.translate.instant("are-you-sure-you-want-to-duplicate"),inputs:[{name:"newName",placeholder:t.translate.instant("new-name"),handler:o=>{}}],buttons:[{text:t.translate.instant("yes"),handler:(o=(0,u.Z)(function*(s){if(!s.newName||""==s.newName)return t.showToast(t.translate.instant("name-required")),!1;console.log("duplicate interface",n);let d=yield t.ShowSimpleLoadingController();m.a.DefaultController.GetInterfaceForDesiging(n.id).then(g=>{if(g){console.log(g,"DBD");let _=t.entityParser.ParseInterfaceEntity(g);if(_){_.name=s.newName,console.log(_,"db");let v=t.entityParser.interfaceToCreateOrUpdateEntity(_,!0);console.log(v,"EDB"),m.a.DefaultController.SaveInterfaceNew(v).then(x=>{d.dismiss(),t.InitializeInterfaceEntities(),t.LoadAllInterfaces(),t.initializeItems(),t.NavigatedToState("view")})}}})}),function(d){return o.apply(this,arguments)})},{text:t.translate.instant("no"),role:"cancel"}],backdropDismiss:!0})).present()})()}deleteInterface(n){var t=this;return(0,u.Z)(function*(){var o;t.NavigatedToState("delete",n),(yield t.alertCtrl.create({header:t.translate.instant("delete"),cssClass:"network-alert",message:t.translate.instant("are-you-sure-you-want-to-delete"),buttons:[{text:t.translate.instant("yes"),handler:(o=(0,u.Z)(function*(){console.log("delete interface",n);let s=yield t.ShowSimpleLoadingController();m.a.DefaultController.DeleteInterface(n.id).then(d=>{s.dismiss(),t.initializeItems(),t.LoadAllInterfaces().then(g=>{t.AddingNewInterface=!1,t.EditExistingInterface=!1,t.InterfaceCreatorEnable=!1,t.NavigatedToState("view"),t.CurrentSlideName=""})})}),function(){return o.apply(this,arguments)})},{text:t.translate.instant("no"),role:"cancel"}],backdropDismiss:!0})).present()})()}ShowSimpleLoadingController(){var n=this;return(0,u.Z)(function*(){let t=n.loadingCtrl.create({backdropDismiss:!0});return(yield t).present(),t})()}}return(a=c).\u0275fac=function(n){return new(n||a)(e.Y36(E.SH),e.Y36(E.IN),e.Y36(E.Br),e.Y36(O.sK),e.Y36(E.HT),e.Y36(E.t4),e.Y36(E.X1),e.Y36(E.yF),e.Y36(e.R0b),e.Y36(H.V0),e.Y36(U.Z),e.Y36(E.Dh),e.Y36(T.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["interfaces-management"]],viewQuery:function(n,t){if(1&n&&(e.Gf(Y,5),e.Gf(f.W2,5),e.Gf(B,5)),2&n){let r;e.iGM(r=e.CRH())&&(t.wizardSlider=r.first),e.iGM(r=e.CRH())&&(t.content=r.first),e.iGM(r=e.CRH())&&(t.deviceName=r.first)}},features:[e.qOj],decls:20,vars:14,consts:[["hideBackButton","true",2,"direction","ltr",3,"ngStyle"],[2,"width","40px","float","left","display","block"],["tappable","","component-click","","tabindex","0",1,"top-mic-button",2,"font-size","30px","text-align","center","vertical-align","middle",3,"click"],["name","chevron-back"],["style","margin:0px; text-align:center;",4,"ngIf"],[2,"margin","0px","text-align","center"],["slot","end"],["item-end","","clear","",3,"click",4,"ngIf"],["padding",""],[4,"ngIf"],["style","overflow-y: auto;overflow-x: hidden;",4,"ngIf"],["item-end","","clear","",3,"click"],["name","close-circle"],["name","add"],["animated","true","debounce","500",3,"placeholder","ionInput"],[2,"overflow-y","auto","overflow-x","hidden"],["class","sliding-list-item",4,"ngFor","ngForOf"],[1,"sliding-list-item"],["detail-push",""],["slot","start"],[3,"src"],[2,"text-align","start","margin","6px","display","inline"],["slot","end","name","chevron-back"],["side","end"],[1,"edit-button",2,"background","#338",3,"click"],["name","create","slot","top"],[1,"duplicate-button",2,"background","#388",3,"click"],["name","copy","slot","top"],[1,"delete-button",2,"background","#833",3,"click"],["name","close","slot","top"],["slides",""],["id","slide0",1,"swiper-no-swiping"],[2,"max-height","75vh","overflow-y","auto"],["id","slide1",4,"ngIf"],["id","slide2"],["text-left",""],["text-center","","name","interfaceName","min","2","max","100","type","text","required","",3,"ngModel","ngModelChange","ionChange"],["deviceName",""],["style","font-size: 15px;color: #e91e1e;font-weight: 900;flex-wrap: nowrap;",4,"ngIf"],[1,"full-primary-button",2,"width","98%",3,"disabled","click"],["style","background-color: rgba(0, 0, 0, 0.2);","detail-push","",3,"click",4,"ngFor","ngForOf"],["detail-push","",2,"background-color","rgba(0, 0, 0, 0.2)",3,"click"],["id","slide1"],["size","5"],["size","7"],[4,"ngFor","ngForOf"],[2,"font-size","15px","color","#e91e1e","font-weight","900","flex-wrap","nowrap"],[2,"white-space","pre-line","text-align","left"],["text-center","","type","text","required","",3,"ngModel","value","ngModelChange",4,"ngIf"],["class","dark-control","style","margin:3px 8px; text-align:center; height:34px;",3,"ngModel","click","ngModelChange",4,"ngIf"],["text-center","","type","text","required","",3,"ngModel","value","ngModelChange"],[1,"dark-control",2,"margin","3px 8px","text-align","center","height","34px",3,"ngModel","click","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"a",2),e.NdJ("click",function(){return t.goBack()}),e._UZ(4,"ion-icon",3),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,q,2,1,"p",4),e.TgZ(9,"p",5),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-buttons",6),e.YNc(13,R,2,0,"ion-button",7),e.YNc(14,z,2,0,"ion-button",7),e.qZA()()(),e.TgZ(15,"ion-content",8),e.YNc(16,V,5,3,"ion-grid",9),e.YNc(17,$,2,1,"ion-list",10),e.YNc(18,oe,23,11,"swiper-container",9),e.YNc(19,de,17,10,"ion-div",9),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngStyle",t.theAppState.iontoolbarStyle),e.xp6(5),e.hij("",t.interface&&t.interface.name?t.interface.name:e.lcZ(7,10,"interfaces")," "),e.xp6(2),e.Q6J("ngIf",""==t.Navigation.WizardName||null==t.Navigation.WizardName),e.xp6(2),e.Oqu(e.lcZ(11,12,t.Navigation.WizardName)),e.xp6(3),e.Q6J("ngIf",t.InterfaceCreatorEnable),e.xp6(1),e.Q6J("ngIf",!t.InterfaceCreatorEnable),e.xp6(2),e.Q6J("ngIf",!t.InterfaceCreatorEnable),e.xp6(1),e.Q6J("ngIf",!t.InterfaceCreatorEnable),e.xp6(1),e.Q6J("ngIf",!t.EditExistingInterface&&t.InterfaceCreatorEnable),e.xp6(1),e.Q6J("ngIf",t.EditExistingInterface))},dependencies:[C.sg,C.O5,C.PC,I.JJ,I.Q7,I.On,f.BJ,f.YG,f.Sm,f.wI,f.W2,f.jY,f.Gu,f.gu,f.pK,f.Ie,f.u8,f.IK,f.td,f.Q$,f.q_,f.Nd,f.VI,f.t9,f.n0,f.wd,f.sr,f.QI,f.j9,F.T,G.t,Q.c,O.X$],styles:["ion-slide[_ngcontent-%COMP%]{overflow:auto;overflow-x:hidden}.list-md[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]{background:none;background-color:none}.slide-zoom[_ngcontent-%COMP%]{height:100%;background:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.list-md[_ngcontent-%COMP%]{margin:0!important}.loading-content[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0px;min-height:60px;display:flex}ion-searchbar[_ngcontent-%COMP%]{font-size:1.6rem}ion-item-option[_ngcontent-%COMP%]{font-size:1.6rem;background-color:#5353534d;box-shadow:1px 1px 3px #333;border-radius:3px}"]}),c})()}];let pe=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[T.Bz.forChild(ge),T.Bz]}),c})();var ue=l(79773),me=l(23934);let he=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[C.ez,I.u5,f.Pc,pe,O.aw.forChild(),me.o,ue.D]}),c})()},59764:(J,P,l)=>{l.d(P,{T:()=>u});var C=l(15861),I=l(65879),f=l(56223),T=l(28662);let u=(()=>{var w;class A{mouseDownEventHandler(p){p.stopImmediatePropagation(),p.preventDefault()}keyEventHandler(p){var h=this;return(0,C.Z)(function*(){if(p.stopImmediatePropagation(),p.preventDefault(),"Enter"==p.key||" "==p.key){var M;let y=null===(M=document.activeElement)||void 0===M?void 0:M.className.toLowerCase();if(y&&(y.indexOf("range-knob-handle")>-1||y.indexOf("range-md")>-1)&&y.indexOf("range-knob-handle")>-1&&(console.log("range-knob-handle"),document.activeElement&&document.activeElement.getAttribute("aria-valuenow"))){let S=document.activeElement.getAttribute("aria-valuenow");if(S){let N=Number.parseFloat(S);if(N||0===N)return console.log("range-knob-handle value change to "+N),void h.model.update.emit(N)}}let Z=h.el.nativeElement.nodeName.toLowerCase();const k=yield T.A.getInfo();["button","ion-checkbox","a"].indexOf(Z)>-1?"android"!==k.operatingSystem.toLowerCase()&&h.el.nativeElement.click():"!android"!==k.operatingSystem.toLowerCase()&&h.clickOnElement(h.el)}})()}clickOnElement(p){if(document.createEvent){let h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.nativeElement.dispatchEvent(h)}}mouseDownOnElement(p){let h=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});p.nativeElement.dispatchEvent(h)}constructor(p,h,M){this.el=p,this.renderer=h,this.model=M,this.eventEmitter=new I.vpe}ngOnInit(){}}return(w=A).\u0275fac=function(p){return new(p||w)(I.Y36(I.SBq),I.Y36(I.Qsj),I.Y36(f.On))},w.\u0275dir=I.lG2({type:w,selectors:[["","component-click",""]],hostBindings:function(p,h){1&p&&I.NdJ("mousedown",function(y){return h.mouseDownEventHandler(y)})("keypress",function(y){return h.keyEventHandler(y)})},outputs:{eventEmitter:"eventEmitter"},features:[I._Bn([f.On])]}),A})()},48753:(J,P,l)=>{l.d(P,{c:()=>I});var C=l(65879);let I=(()=>{var f;class T{constructor(w){this.elementRef=w}ngOnInit(){this.elementRef.nativeElement.classList.add("ion-padding")}}return(f=T).\u0275fac=function(w){return new(w||f)(C.Y36(C.SBq))},f.\u0275dir=C.lG2({type:f,selectors:[["","padding",""]]}),T})()}}]);